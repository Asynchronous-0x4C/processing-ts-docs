const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["astro/browserAll.5ZF4ckep.js","astro/webworkerAll.DMovJAsV.js","astro/colorToUniform.Db5An2aa.js","astro/preload-helper.oD9tGONt.js","astro/WebGPURenderer.D6FMXlPx.js","astro/SharedSystems.BG5W6Zoz.js","astro/WebGLRenderer.Cl4GGwp7.js"])))=>i.map(i=>d[i]);
import{_ as __vitePreload}from"./preload-helper.oD9tGONt.js";var ExtensionType=(ExtensionType2=>(ExtensionType2.Application="application",ExtensionType2.WebGLPipes="webgl-pipes",ExtensionType2.WebGLPipesAdaptor="webgl-pipes-adaptor",ExtensionType2.WebGLSystem="webgl-system",ExtensionType2.WebGPUPipes="webgpu-pipes",ExtensionType2.WebGPUPipesAdaptor="webgpu-pipes-adaptor",ExtensionType2.WebGPUSystem="webgpu-system",ExtensionType2.CanvasSystem="canvas-system",ExtensionType2.CanvasPipesAdaptor="canvas-pipes-adaptor",ExtensionType2.CanvasPipes="canvas-pipes",ExtensionType2.Asset="asset",ExtensionType2.LoadParser="load-parser",ExtensionType2.ResolveParser="resolve-parser",ExtensionType2.CacheParser="cache-parser",ExtensionType2.DetectionParser="detection-parser",ExtensionType2.MaskEffect="mask-effect",ExtensionType2.BlendMode="blend-mode",ExtensionType2.TextureSource="texture-source",ExtensionType2.Environment="environment",ExtensionType2.ShapeBuilder="shape-builder",ExtensionType2.Batcher="batcher",ExtensionType2))(ExtensionType||{});const normalizeExtension=ext=>{if(typeof ext=="function"||typeof ext=="object"&&ext.extension){if(!ext.extension)throw new Error("Extension class must have an extension object");ext={...typeof ext.extension!="object"?{type:ext.extension}:ext.extension,ref:ext}}if(typeof ext=="object")ext={...ext};else throw new Error("Invalid extension type");return typeof ext.type=="string"&&(ext.type=[ext.type]),ext},normalizeExtensionPriority=(ext,defaultPriority)=>normalizeExtension(ext).priority??defaultPriority,extensions={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...extensions2){return extensions2.map(normalizeExtension).forEach(ext=>{ext.type.forEach(type=>this._removeHandlers[type]?.(ext))}),this},add(...extensions2){return extensions2.map(normalizeExtension).forEach(ext=>{ext.type.forEach(type=>{const handlers=this._addHandlers,queue=this._queue;handlers[type]?handlers[type]?.(ext):(queue[type]=queue[type]||[],queue[type]?.push(ext))})}),this},handle(type,onAdd,onRemove){const addHandlers=this._addHandlers,removeHandlers=this._removeHandlers;if(addHandlers[type]||removeHandlers[type])throw new Error(`Extension type ${type} already has a handler`);addHandlers[type]=onAdd,removeHandlers[type]=onRemove;const queue=this._queue;return queue[type]&&(queue[type]?.forEach(ext=>onAdd(ext)),delete queue[type]),this},handleByMap(type,map){return this.handle(type,extension=>{extension.name&&(map[extension.name]=extension.ref)},extension=>{extension.name&&delete map[extension.name]})},handleByNamedList(type,map,defaultPriority=-1){return this.handle(type,extension=>{map.findIndex(item=>item.name===extension.name)>=0||(map.push({name:extension.name,value:extension.ref}),map.sort((a2,b2)=>normalizeExtensionPriority(b2.value,defaultPriority)-normalizeExtensionPriority(a2.value,defaultPriority)))},extension=>{const index=map.findIndex(item=>item.name===extension.name);index!==-1&&map.splice(index,1)})},handleByList(type,list,defaultPriority=-1){return this.handle(type,extension=>{list.includes(extension.ref)||(list.push(extension.ref),list.sort((a2,b2)=>normalizeExtensionPriority(b2,defaultPriority)-normalizeExtensionPriority(a2,defaultPriority)))},extension=>{const index=list.indexOf(extension.ref);index!==-1&&list.splice(index,1)})},mixin(Target,...sources2){for(const source of sources2)Object.defineProperties(Target.prototype,Object.getOwnPropertyDescriptors(source))}},browserExt={extension:{type:ExtensionType.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await __vitePreload(()=>import("./browserAll.5ZF4ckep.js"),__vite__mapDeps([0,1,2,3]))}},webworkerExt={extension:{type:ExtensionType.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await __vitePreload(()=>import("./webworkerAll.DMovJAsV.js"),__vite__mapDeps([1,2,3]))}};class ObservablePoint{constructor(observer,x2,y2){this._x=x2||0,this._y=y2||0,this._observer=observer}clone(observer){return new ObservablePoint(observer??this._observer,this._x,this._y)}set(x2=0,y2=x2){return(this._x!==x2||this._y!==y2)&&(this._x=x2,this._y=y2,this._observer._onUpdate(this)),this}copyFrom(p2){return(this._x!==p2.x||this._y!==p2.y)&&(this._x=p2.x,this._y=p2.y,this._observer._onUpdate(this)),this}copyTo(p2){return p2.set(this._x,this._y),p2}equals(p2){return p2.x===this._x&&p2.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(value){this._x!==value&&(this._x=value,this._observer._onUpdate(this))}get y(){return this._y}set y(value){this._y!==value&&(this._y=value,this._observer._onUpdate(this))}}function getDefaultExportFromCjs(x2){return x2&&x2.__esModule&&Object.prototype.hasOwnProperty.call(x2,"default")?x2.default:x2}var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(module){var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}Object.create&&(Events.prototype=Object.create(null),new Events().__proto__||(prefix=!1));function EE(fn,context2,once){this.fn=fn,this.context=context2,this.once=once||!1}function addListener(emitter,event,fn,context2,once){if(typeof fn!="function")throw new TypeError("The listener must be a function");var listener=new EE(fn,context2||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){--emitter._eventsCount===0?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter2(){this._events=new Events,this._eventsCount=0}EventEmitter2.prototype.eventNames=function(){var names=[],events,name;if(this._eventsCount===0)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter2.prototype.listeners=function(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i2=0,l2=handlers.length,ee2=new Array(l2);i2<l2;i2++)ee2[i2]=handlers[i2].fn;return ee2},EventEmitter2.prototype.listenerCount=function(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter2.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var listeners=this._events[evt],len=arguments.length,args,i2;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i2=1,args=new Array(len-1);i2<len;i2++)args[i2-1]=arguments[i2];listeners.fn.apply(listeners.context,args)}else{var length=listeners.length,j2;for(i2=0;i2<length;i2++)switch(listeners[i2].once&&this.removeListener(event,listeners[i2].fn,void 0,!0),len){case 1:listeners[i2].fn.call(listeners[i2].context);break;case 2:listeners[i2].fn.call(listeners[i2].context,a1);break;case 3:listeners[i2].fn.call(listeners[i2].context,a1,a2);break;case 4:listeners[i2].fn.call(listeners[i2].context,a1,a2,a3);break;default:if(!args)for(j2=1,args=new Array(len-1);j2<len;j2++)args[j2-1]=arguments[j2];listeners[i2].fn.apply(listeners[i2].context,args)}}return!0},EventEmitter2.prototype.on=function(event,fn,context2){return addListener(this,event,fn,context2,!1)},EventEmitter2.prototype.once=function(event,fn,context2){return addListener(this,event,fn,context2,!0)},EventEmitter2.prototype.removeListener=function(event,fn,context2,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn===fn&&(!once||listeners.once)&&(!context2||listeners.context===context2)&&clearEvent(this,evt);else{for(var i2=0,events=[],length=listeners.length;i2<length;i2++)(listeners[i2].fn!==fn||once&&!listeners[i2].once||context2&&listeners[i2].context!==context2)&&events.push(listeners[i2]);events.length?this._events[evt]=events.length===1?events[0]:events:clearEvent(this,evt)}return this},EventEmitter2.prototype.removeAllListeners=function(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener,EventEmitter2.prototype.addListener=EventEmitter2.prototype.on,EventEmitter2.prefixed=prefix,EventEmitter2.EventEmitter=EventEmitter2,module.exports=EventEmitter2}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180;class Point{constructor(x2=0,y2=0){this.x=0,this.y=0,this.x=x2,this.y=y2}clone(){return new Point(this.x,this.y)}copyFrom(p2){return this.set(p2.x,p2.y),this}copyTo(p2){return p2.set(this.x,this.y),p2}equals(p2){return p2.x===this.x&&p2.y===this.y}set(x2=0,y2=x2){return this.x=x2,this.y=y2,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return tempPoint.x=0,tempPoint.y=0,tempPoint}}const tempPoint=new Point;class Matrix{constructor(a2=1,b2=0,c2=0,d2=1,tx=0,ty=0){this.array=null,this.a=a2,this.b=b2,this.c=c2,this.d=d2,this.tx=tx,this.ty=ty}fromArray(array){this.a=array[0],this.b=array[1],this.c=array[3],this.d=array[4],this.tx=array[2],this.ty=array[5]}set(a2,b2,c2,d2,tx,ty){return this.a=a2,this.b=b2,this.c=c2,this.d=d2,this.tx=tx,this.ty=ty,this}toArray(transpose,out2){this.array||(this.array=new Float32Array(9));const array=out2||this.array;return transpose?(array[0]=this.a,array[1]=this.b,array[2]=0,array[3]=this.c,array[4]=this.d,array[5]=0,array[6]=this.tx,array[7]=this.ty,array[8]=1):(array[0]=this.a,array[1]=this.c,array[2]=this.tx,array[3]=this.b,array[4]=this.d,array[5]=this.ty,array[6]=0,array[7]=0,array[8]=1),array}apply(pos,newPos){newPos=newPos||new Point;const x2=pos.x,y2=pos.y;return newPos.x=this.a*x2+this.c*y2+this.tx,newPos.y=this.b*x2+this.d*y2+this.ty,newPos}applyInverse(pos,newPos){newPos=newPos||new Point;const a2=this.a,b2=this.b,c2=this.c,d2=this.d,tx=this.tx,ty=this.ty,id=1/(a2*d2+c2*-b2),x2=pos.x,y2=pos.y;return newPos.x=d2*id*x2+-c2*id*y2+(ty*c2-tx*d2)*id,newPos.y=a2*id*y2+-b2*id*x2+(-ty*a2+tx*b2)*id,newPos}translate(x2,y2){return this.tx+=x2,this.ty+=y2,this}scale(x2,y2){return this.a*=x2,this.d*=y2,this.c*=x2,this.b*=y2,this.tx*=x2,this.ty*=y2,this}rotate(angle){const cos=Math.cos(angle),sin=Math.sin(angle),a1=this.a,c1=this.c,tx1=this.tx;return this.a=a1*cos-this.b*sin,this.b=a1*sin+this.b*cos,this.c=c1*cos-this.d*sin,this.d=c1*sin+this.d*cos,this.tx=tx1*cos-this.ty*sin,this.ty=tx1*sin+this.ty*cos,this}append(matrix){const a1=this.a,b1=this.b,c1=this.c,d1=this.d;return this.a=matrix.a*a1+matrix.b*c1,this.b=matrix.a*b1+matrix.b*d1,this.c=matrix.c*a1+matrix.d*c1,this.d=matrix.c*b1+matrix.d*d1,this.tx=matrix.tx*a1+matrix.ty*c1+this.tx,this.ty=matrix.tx*b1+matrix.ty*d1+this.ty,this}appendFrom(a2,b2){const a1=a2.a,b1=a2.b,c1=a2.c,d1=a2.d,tx=a2.tx,ty=a2.ty,a22=b2.a,b22=b2.b,c2=b2.c,d2=b2.d;return this.a=a1*a22+b1*c2,this.b=a1*b22+b1*d2,this.c=c1*a22+d1*c2,this.d=c1*b22+d1*d2,this.tx=tx*a22+ty*c2+b2.tx,this.ty=tx*b22+ty*d2+b2.ty,this}setTransform(x2,y2,pivotX,pivotY,scaleX,scaleY,rotation,skewX,skewY){return this.a=Math.cos(rotation+skewY)*scaleX,this.b=Math.sin(rotation+skewY)*scaleX,this.c=-Math.sin(rotation-skewX)*scaleY,this.d=Math.cos(rotation-skewX)*scaleY,this.tx=x2-(pivotX*this.a+pivotY*this.c),this.ty=y2-(pivotX*this.b+pivotY*this.d),this}prepend(matrix){const tx1=this.tx;if(matrix.a!==1||matrix.b!==0||matrix.c!==0||matrix.d!==1){const a1=this.a,c1=this.c;this.a=a1*matrix.a+this.b*matrix.c,this.b=a1*matrix.b+this.b*matrix.d,this.c=c1*matrix.a+this.d*matrix.c,this.d=c1*matrix.b+this.d*matrix.d}return this.tx=tx1*matrix.a+this.ty*matrix.c+matrix.tx,this.ty=tx1*matrix.b+this.ty*matrix.d+matrix.ty,this}decompose(transform){const a2=this.a,b2=this.b,c2=this.c,d2=this.d,pivot=transform.pivot,skewX=-Math.atan2(-c2,d2),skewY=Math.atan2(b2,a2),delta=Math.abs(skewX+skewY);return delta<1e-5||Math.abs(PI_2-delta)<1e-5?(transform.rotation=skewY,transform.skew.x=transform.skew.y=0):(transform.rotation=0,transform.skew.x=skewX,transform.skew.y=skewY),transform.scale.x=Math.sqrt(a2*a2+b2*b2),transform.scale.y=Math.sqrt(c2*c2+d2*d2),transform.position.x=this.tx+(pivot.x*a2+pivot.y*c2),transform.position.y=this.ty+(pivot.x*b2+pivot.y*d2),transform}invert(){const a1=this.a,b1=this.b,c1=this.c,d1=this.d,tx1=this.tx,n2=a1*d1-b1*c1;return this.a=d1/n2,this.b=-b1/n2,this.c=-c1/n2,this.d=a1/n2,this.tx=(c1*this.ty-d1*tx1)/n2,this.ty=-(a1*this.ty-b1*tx1)/n2,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const matrix=new Matrix;return matrix.a=this.a,matrix.b=this.b,matrix.c=this.c,matrix.d=this.d,matrix.tx=this.tx,matrix.ty=this.ty,matrix}copyTo(matrix){return matrix.a=this.a,matrix.b=this.b,matrix.c=this.c,matrix.d=this.d,matrix.tx=this.tx,matrix.ty=this.ty,matrix}copyFrom(matrix){return this.a=matrix.a,this.b=matrix.b,this.c=matrix.c,this.d=matrix.d,this.tx=matrix.tx,this.ty=matrix.ty,this}equals(matrix){return matrix.a===this.a&&matrix.b===this.b&&matrix.c===this.c&&matrix.d===this.d&&matrix.tx===this.tx&&matrix.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return identityMatrix$1.identity()}static get shared(){return tempMatrix$3.identity()}}const tempMatrix$3=new Matrix,identityMatrix$1=new Matrix,ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(let i2=0;i2<16;i2++){const row=[];rotationCayley.push(row);for(let j2=0;j2<16;j2++){const _ux=signum(ux[i2]*ux[j2]+vx[i2]*uy[j2]),_uy=signum(uy[i2]*ux[j2]+vy[i2]*uy[j2]),_vx=signum(ux[i2]*vx[j2]+vx[i2]*vy[j2]),_vy=signum(uy[i2]*vx[j2]+vy[i2]*vy[j2]);for(let k2=0;k2<16;k2++)if(ux[k2]===_ux&&uy[k2]===_uy&&vx[k2]===_vx&&vy[k2]===_vy){row.push(k2);break}}}for(let i2=0;i2<16;i2++){const mat=new Matrix;mat.set(ux[i2],uy[i2],vx[i2],vy[i2],0,0),rotationMatrices.push(mat)}}init();const groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:ind=>ux[ind],uY:ind=>uy[ind],vX:ind=>vx[ind],vY:ind=>vy[ind],inv:rotation=>rotation&8?rotation&15:-rotation&7,add:(rotationSecond,rotationFirst)=>rotationCayley[rotationSecond][rotationFirst],sub:(rotationSecond,rotationFirst)=>rotationCayley[rotationSecond][groupD8.inv(rotationFirst)],rotate180:rotation=>rotation^4,isVertical:rotation=>(rotation&3)===2,byDirection:(dx,dy)=>Math.abs(dx)*2<=Math.abs(dy)?dy>=0?groupD8.S:groupD8.N:Math.abs(dy)*2<=Math.abs(dx)?dx>0?groupD8.E:groupD8.W:dy>0?dx>0?groupD8.SE:groupD8.SW:dx>0?groupD8.NE:groupD8.NW,matrixAppendRotationInv:(matrix,rotation,tx=0,ty=0)=>{const mat=rotationMatrices[groupD8.inv(rotation)];mat.tx=tx,mat.ty=ty,matrix.append(mat)}},tempPoints=[new Point,new Point,new Point,new Point];class Rectangle{constructor(x2=0,y2=0,width=0,height=0){this.type="rectangle",this.x=Number(x2),this.y=Number(y2),this.width=Number(width),this.height=Number(height)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFromBounds(bounds){return this.x=bounds.minX,this.y=bounds.minY,this.width=bounds.maxX-bounds.minX,this.height=bounds.maxY-bounds.minY,this}copyFrom(rectangle){return this.x=rectangle.x,this.y=rectangle.y,this.width=rectangle.width,this.height=rectangle.height,this}copyTo(rectangle){return rectangle.copyFrom(this),rectangle}contains(x2,y2){return this.width<=0||this.height<=0?!1:x2>=this.x&&x2<this.x+this.width&&y2>=this.y&&y2<this.y+this.height}strokeContains(x2,y2,strokeWidth,alignment=.5){const{width,height}=this;if(width<=0||height<=0)return!1;const _x=this.x,_y=this.y,strokeWidthOuter=strokeWidth*(1-alignment),strokeWidthInner=strokeWidth-strokeWidthOuter,outerLeft=_x-strokeWidthOuter,outerRight=_x+width+strokeWidthOuter,outerTop=_y-strokeWidthOuter,outerBottom=_y+height+strokeWidthOuter,innerLeft=_x+strokeWidthInner,innerRight=_x+width-strokeWidthInner,innerTop=_y+strokeWidthInner,innerBottom=_y+height-strokeWidthInner;return x2>=outerLeft&&x2<=outerRight&&y2>=outerTop&&y2<=outerBottom&&!(x2>innerLeft&&x2<innerRight&&y2>innerTop&&y2<innerBottom)}intersects(other,transform){if(!transform){const x02=this.x<other.x?other.x:this.x;if((this.right>other.right?other.right:this.right)<=x02)return!1;const y02=this.y<other.y?other.y:this.y;return(this.bottom>other.bottom?other.bottom:this.bottom)>y02}const x0=this.left,x1=this.right,y0=this.top,y1=this.bottom;if(x1<=x0||y1<=y0)return!1;const lt2=tempPoints[0].set(other.left,other.top),lb=tempPoints[1].set(other.left,other.bottom),rt2=tempPoints[2].set(other.right,other.top),rb=tempPoints[3].set(other.right,other.bottom);if(rt2.x<=lt2.x||lb.y<=lt2.y)return!1;const s2=Math.sign(transform.a*transform.d-transform.b*transform.c);if(s2===0||(transform.apply(lt2,lt2),transform.apply(lb,lb),transform.apply(rt2,rt2),transform.apply(rb,rb),Math.max(lt2.x,lb.x,rt2.x,rb.x)<=x0||Math.min(lt2.x,lb.x,rt2.x,rb.x)>=x1||Math.max(lt2.y,lb.y,rt2.y,rb.y)<=y0||Math.min(lt2.y,lb.y,rt2.y,rb.y)>=y1))return!1;const nx=s2*(lb.y-lt2.y),ny=s2*(lt2.x-lb.x),n00=nx*x0+ny*y0,n10=nx*x1+ny*y0,n01=nx*x0+ny*y1,n11=nx*x1+ny*y1;if(Math.max(n00,n10,n01,n11)<=nx*lt2.x+ny*lt2.y||Math.min(n00,n10,n01,n11)>=nx*rb.x+ny*rb.y)return!1;const mx=s2*(lt2.y-rt2.y),my=s2*(rt2.x-lt2.x),m00=mx*x0+my*y0,m10=mx*x1+my*y0,m01=mx*x0+my*y1,m11=mx*x1+my*y1;return!(Math.max(m00,m10,m01,m11)<=mx*lt2.x+my*lt2.y||Math.min(m00,m10,m01,m11)>=mx*rb.x+my*rb.y)}pad(paddingX=0,paddingY=paddingX){return this.x-=paddingX,this.y-=paddingY,this.width+=paddingX*2,this.height+=paddingY*2,this}fit(rectangle){const x1=Math.max(this.x,rectangle.x),x2=Math.min(this.x+this.width,rectangle.x+rectangle.width),y1=Math.max(this.y,rectangle.y),y2=Math.min(this.y+this.height,rectangle.y+rectangle.height);return this.x=x1,this.width=Math.max(x2-x1,0),this.y=y1,this.height=Math.max(y2-y1,0),this}ceil(resolution=1,eps=.001){const x2=Math.ceil((this.x+this.width-eps)*resolution)/resolution,y2=Math.ceil((this.y+this.height-eps)*resolution)/resolution;return this.x=Math.floor((this.x+eps)*resolution)/resolution,this.y=Math.floor((this.y+eps)*resolution)/resolution,this.width=x2-this.x,this.height=y2-this.y,this}enlarge(rectangle){const x1=Math.min(this.x,rectangle.x),x2=Math.max(this.x+this.width,rectangle.x+rectangle.width),y1=Math.min(this.y,rectangle.y),y2=Math.max(this.y+this.height,rectangle.y+rectangle.height);return this.x=x1,this.width=x2-x1,this.y=y1,this.height=y2-y1,this}getBounds(out2){return out2||(out2=new Rectangle),out2.copyFrom(this),out2}containsRect(other){if(this.width<=0||this.height<=0)return!1;const x1=other.x,y1=other.y,x2=other.x+other.width,y2=other.y+other.height;return x1>=this.x&&x1<this.x+this.width&&y1>=this.y&&y1<this.y+this.height&&x2>=this.x&&x2<this.x+this.width&&y2>=this.y&&y2<this.y+this.height}set(x2,y2,width,height){return this.x=x2,this.y=y2,this.width=width,this.height=height,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const uidCache={default:-1};function uid(name="default"){return uidCache[name]===void 0&&(uidCache[name]=-1),++uidCache[name]}const warnings={},v8_0_0="8.0.0",v8_3_4="8.3.4";function deprecation(version,message,ignoreDepth=3){if(warnings[message])return;let stack=new Error().stack;typeof stack>"u"?console.warn("PixiJS Deprecation Warning: ",`${message}
Deprecated since v${version}`):(stack=stack.split(`
`).splice(ignoreDepth).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${message}
Deprecated since v${version}`),console.warn(stack),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${message}
Deprecated since v${version}`),console.warn(stack))),warnings[message]=!0}const NOOP=()=>{};function nextPow2(v2){return v2+=v2===0?1:0,--v2,v2|=v2>>>1,v2|=v2>>>2,v2|=v2>>>4,v2|=v2>>>8,v2|=v2>>>16,v2+1}function isPow2(v2){return!(v2&v2-1)&&!!v2}function definedProps(obj){const result={};for(const key in obj)obj[key]!==void 0&&(result[key]=obj[key]);return result}const idHash$1=Object.create(null);function createResourceIdFromString(value){const id=idHash$1[value];return id===void 0&&(idHash$1[value]=uid("resource")),id}const _TextureStyle=class _TextureStyle2 extends EventEmitter{constructor(options={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,options={..._TextureStyle2.defaultOptions,...options},this.addressMode=options.addressMode,this.addressModeU=options.addressModeU??this.addressModeU,this.addressModeV=options.addressModeV??this.addressModeV,this.addressModeW=options.addressModeW??this.addressModeW,this.scaleMode=options.scaleMode,this.magFilter=options.magFilter??this.magFilter,this.minFilter=options.minFilter??this.minFilter,this.mipmapFilter=options.mipmapFilter??this.mipmapFilter,this.lodMinClamp=options.lodMinClamp,this.lodMaxClamp=options.lodMaxClamp,this.compare=options.compare,this.maxAnisotropy=options.maxAnisotropy??1}set addressMode(value){this.addressModeU=value,this.addressModeV=value,this.addressModeW=value}get addressMode(){return this.addressModeU}set wrapMode(value){deprecation(v8_0_0,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=value}get wrapMode(){return this.addressMode}set scaleMode(value){this.magFilter=value,this.minFilter=value,this.mipmapFilter=value}get scaleMode(){return this.magFilter}set maxAnisotropy(value){this._maxAnisotropy=Math.min(value,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const bigKey=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=createResourceIdFromString(bigKey),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};_TextureStyle.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let TextureStyle=_TextureStyle;const _TextureSource=class _TextureSource2 extends EventEmitter{constructor(options={}){super(),this.options=options,this.uid=uid("textureSource"),this._resourceType="textureSource",this._resourceId=uid("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,options={..._TextureSource2.defaultOptions,...options},this.label=options.label??"",this.resource=options.resource,this.autoGarbageCollect=options.autoGarbageCollect,this._resolution=options.resolution,options.width?this.pixelWidth=options.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,options.height?this.pixelHeight=options.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=options.format,this.dimension=options.dimensions,this.mipLevelCount=options.mipLevelCount,this.autoGenerateMipmaps=options.autoGenerateMipmaps,this.sampleCount=options.sampleCount,this.antialias=options.antialias,this.alphaMode=options.alphaMode,this.style=new TextureStyle(definedProps(options)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(value){this.style!==value&&(this._style?.off("change",this._onStyleChange,this),this._style=value,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(value){this._style.addressMode=value}get repeatMode(){return this._style.addressMode}set repeatMode(value){this._style.addressMode=value}get magFilter(){return this._style.magFilter}set magFilter(value){this._style.magFilter=value}get minFilter(){return this._style.minFilter}set minFilter(value){this._style.minFilter=value}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(value){this._style.mipmapFilter=value}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(value){this._style.lodMinClamp=value}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(value){this._style.lodMaxClamp=value}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const resolution=this._resolution;if(this.resize(this.resourceWidth/resolution,this.resourceHeight/resolution))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=uid("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource}=this;return resource.naturalWidth||resource.videoWidth||resource.displayWidth||resource.width}get resourceHeight(){const{resource}=this;return resource.naturalHeight||resource.videoHeight||resource.displayHeight||resource.height}get resolution(){return this._resolution}set resolution(resolution){this._resolution!==resolution&&(this._resolution=resolution,this.width=this.pixelWidth/resolution,this.height=this.pixelHeight/resolution)}resize(width,height,resolution){resolution||(resolution=this._resolution),width||(width=this.width),height||(height=this.height);const newPixelWidth=Math.round(width*resolution),newPixelHeight=Math.round(height*resolution);return this.width=newPixelWidth/resolution,this.height=newPixelHeight/resolution,this._resolution=resolution,this.pixelWidth===newPixelWidth&&this.pixelHeight===newPixelHeight?!1:(this._refreshPOT(),this.pixelWidth=newPixelWidth,this.pixelHeight=newPixelHeight,this.emit("resize",this),this._resourceId=uid("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(value){this._style.wrapMode=value}get wrapMode(){return this._style.wrapMode}set scaleMode(value){this._style.scaleMode=value}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=isPow2(this.pixelWidth)&&isPow2(this.pixelHeight)}static test(_resource){throw new Error("Unimplemented")}};_TextureSource.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let TextureSource=_TextureSource;class BufferImageSource extends TextureSource{constructor(options){const buffer=options.resource||new Float32Array(options.width*options.height*4);let format=options.format;format||(buffer instanceof Float32Array?format="rgba32float":buffer instanceof Int32Array||buffer instanceof Uint32Array?format="rgba32uint":buffer instanceof Int16Array||buffer instanceof Uint16Array?format="rgba16uint":(buffer instanceof Int8Array,format="bgra8unorm")),super({...options,resource:buffer,format}),this.uploadMethodId="buffer"}static test(resource){return resource instanceof Int8Array||resource instanceof Uint8Array||resource instanceof Uint8ClampedArray||resource instanceof Int16Array||resource instanceof Uint16Array||resource instanceof Int32Array||resource instanceof Uint32Array||resource instanceof Float32Array}}BufferImageSource.extension=ExtensionType.TextureSource;const tempMat=new Matrix;class TextureMatrix{constructor(texture,clampMargin){this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof clampMargin>"u"?this.clampMargin=texture.width<10?0:.5:this.clampMargin=clampMargin,this.isSimple=!1,this.texture=texture}get texture(){return this._texture}set texture(value){this.texture!==value&&(this._texture?.removeListener("update",this.update,this),this._texture=value,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(uvs,out2){out2===void 0&&(out2=uvs);const mat=this.mapCoord;for(let i2=0;i2<uvs.length;i2+=2){const x2=uvs[i2],y2=uvs[i2+1];out2[i2]=x2*mat.a+y2*mat.c+mat.tx,out2[i2+1]=x2*mat.b+y2*mat.d+mat.ty}return out2}update(){const tex=this._texture;this._updateID++;const uvs=tex.uvs;this.mapCoord.set(uvs.x1-uvs.x0,uvs.y1-uvs.y0,uvs.x3-uvs.x0,uvs.y3-uvs.y0,uvs.x0,uvs.y0);const orig=tex.orig,trim=tex.trim;trim&&(tempMat.set(orig.width/trim.width,0,0,orig.height/trim.height,-trim.x/trim.width,-trim.y/trim.height),this.mapCoord.append(tempMat));const texBase=tex.source,frame=this.uClampFrame,margin=this.clampMargin/texBase._resolution,offset=this.clampOffset/texBase._resolution;return frame[0]=(tex.frame.x+margin+offset)/texBase.width,frame[1]=(tex.frame.y+margin+offset)/texBase.height,frame[2]=(tex.frame.x+tex.frame.width-margin+offset)/texBase.width,frame[3]=(tex.frame.y+tex.frame.height-margin+offset)/texBase.height,this.uClampOffset[0]=this.clampOffset/texBase.pixelWidth,this.uClampOffset[1]=this.clampOffset/texBase.pixelHeight,this.isSimple=tex.frame.width===texBase.width&&tex.frame.height===texBase.height&&tex.rotate===0,!0}}class Texture extends EventEmitter{constructor({source,label,frame,orig,trim,defaultAnchor,defaultBorders,rotate,dynamic}={}){if(super(),this.uid=uid("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Rectangle,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=label,this.source=source?.source??new TextureSource,this.noFrame=!frame,frame)this.frame.copyFrom(frame);else{const{width,height}=this._source;this.frame.width=width,this.frame.height=height}this.orig=orig||this.frame,this.trim=trim,this.rotate=rotate??0,this.defaultAnchor=defaultAnchor,this.defaultBorders=defaultBorders,this.destroyed=!1,this.dynamic=dynamic||!1,this.updateUvs()}set source(value){this._source&&this._source.off("resize",this.update,this),this._source=value,value.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new TextureMatrix(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs,frame}=this,{width,height}=this._source,nX=frame.x/width,nY=frame.y/height,nW=frame.width/width,nH=frame.height/height;let rotate=this.rotate;if(rotate){const w2=nW/2,h2=nH/2,cX=nX+w2,cY=nY+h2;rotate=groupD8.add(rotate,groupD8.NW),uvs.x0=cX+w2*groupD8.uX(rotate),uvs.y0=cY+h2*groupD8.uY(rotate),rotate=groupD8.add(rotate,2),uvs.x1=cX+w2*groupD8.uX(rotate),uvs.y1=cY+h2*groupD8.uY(rotate),rotate=groupD8.add(rotate,2),uvs.x2=cX+w2*groupD8.uX(rotate),uvs.y2=cY+h2*groupD8.uY(rotate),rotate=groupD8.add(rotate,2),uvs.x3=cX+w2*groupD8.uX(rotate),uvs.y3=cY+h2*groupD8.uY(rotate)}else uvs.x0=nX,uvs.y0=nY,uvs.x1=nX+nW,uvs.y1=nY,uvs.x2=nX+nW,uvs.y2=nY+nH,uvs.x3=nX,uvs.y3=nY+nH}destroy(destroySource=!1){this._source&&destroySource&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return deprecation(v8_0_0,"Texture.baseTexture is now Texture.source"),this._source}}Texture.EMPTY=new Texture({label:"EMPTY",source:new TextureSource({label:"EMPTY"})});Texture.EMPTY.destroy=NOOP;Texture.WHITE=new Texture({source:new BufferImageSource({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Texture.WHITE.destroy=NOOP;function updateQuadBounds(bounds,anchor,texture){const{width,height}=texture.orig,trim=texture.trim;if(trim){const sourceWidth=trim.width,sourceHeight=trim.height;bounds.minX=trim.x-anchor._x*width,bounds.maxX=bounds.minX+sourceWidth,bounds.minY=trim.y-anchor._y*height,bounds.maxY=bounds.minY+sourceHeight}else bounds.minX=-anchor._x*width,bounds.maxX=bounds.minX+width,bounds.minY=-anchor._y*height,bounds.maxY=bounds.minY+height}const defaultMatrix=new Matrix;class Bounds{constructor(minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this.minX=minX,this.minY=minY,this.maxX=maxX,this.maxY=maxY}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Rectangle);const rectangle=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(rectangle.x=0,rectangle.y=0,rectangle.width=0,rectangle.height=0):rectangle.copyFromBounds(this),rectangle}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this}set(x0,y0,x1,y1){this.minX=x0,this.minY=y0,this.maxX=x1,this.maxY=y1}addFrame(x0,y0,x1,y1,matrix){matrix||(matrix=this.matrix);const a2=matrix.a,b2=matrix.b,c2=matrix.c,d2=matrix.d,tx=matrix.tx,ty=matrix.ty;let minX=this.minX,minY=this.minY,maxX=this.maxX,maxY=this.maxY,x2=a2*x0+c2*y0+tx,y2=b2*x0+d2*y0+ty;x2<minX&&(minX=x2),y2<minY&&(minY=y2),x2>maxX&&(maxX=x2),y2>maxY&&(maxY=y2),x2=a2*x1+c2*y0+tx,y2=b2*x1+d2*y0+ty,x2<minX&&(minX=x2),y2<minY&&(minY=y2),x2>maxX&&(maxX=x2),y2>maxY&&(maxY=y2),x2=a2*x0+c2*y1+tx,y2=b2*x0+d2*y1+ty,x2<minX&&(minX=x2),y2<minY&&(minY=y2),x2>maxX&&(maxX=x2),y2>maxY&&(maxY=y2),x2=a2*x1+c2*y1+tx,y2=b2*x1+d2*y1+ty,x2<minX&&(minX=x2),y2<minY&&(minY=y2),x2>maxX&&(maxX=x2),y2>maxY&&(maxY=y2),this.minX=minX,this.minY=minY,this.maxX=maxX,this.maxY=maxY}addRect(rect,matrix){this.addFrame(rect.x,rect.y,rect.x+rect.width,rect.y+rect.height,matrix)}addBounds(bounds,matrix){this.addFrame(bounds.minX,bounds.minY,bounds.maxX,bounds.maxY,matrix)}addBoundsMask(mask){this.minX=this.minX>mask.minX?this.minX:mask.minX,this.minY=this.minY>mask.minY?this.minY:mask.minY,this.maxX=this.maxX<mask.maxX?this.maxX:mask.maxX,this.maxY=this.maxY<mask.maxY?this.maxY:mask.maxY}applyMatrix(matrix){const minX=this.minX,minY=this.minY,maxX=this.maxX,maxY=this.maxY,{a:a2,b:b2,c:c2,d:d2,tx,ty}=matrix;let x2=a2*minX+c2*minY+tx,y2=b2*minX+d2*minY+ty;this.minX=x2,this.minY=y2,this.maxX=x2,this.maxY=y2,x2=a2*maxX+c2*minY+tx,y2=b2*maxX+d2*minY+ty,this.minX=x2<this.minX?x2:this.minX,this.minY=y2<this.minY?y2:this.minY,this.maxX=x2>this.maxX?x2:this.maxX,this.maxY=y2>this.maxY?y2:this.maxY,x2=a2*minX+c2*maxY+tx,y2=b2*minX+d2*maxY+ty,this.minX=x2<this.minX?x2:this.minX,this.minY=y2<this.minY?y2:this.minY,this.maxX=x2>this.maxX?x2:this.maxX,this.maxY=y2>this.maxY?y2:this.maxY,x2=a2*maxX+c2*maxY+tx,y2=b2*maxX+d2*maxY+ty,this.minX=x2<this.minX?x2:this.minX,this.minY=y2<this.minY?y2:this.minY,this.maxX=x2>this.maxX?x2:this.maxX,this.maxY=y2>this.maxY?y2:this.maxY}fit(rect){return this.minX<rect.left&&(this.minX=rect.left),this.maxX>rect.right&&(this.maxX=rect.right),this.minY<rect.top&&(this.minY=rect.top),this.maxY>rect.bottom&&(this.maxY=rect.bottom),this}fitBounds(left,right,top,bottom){return this.minX<left&&(this.minX=left),this.maxX>right&&(this.maxX=right),this.minY<top&&(this.minY=top),this.maxY>bottom&&(this.maxY=bottom),this}pad(paddingX,paddingY=paddingX){return this.minX-=paddingX,this.maxX+=paddingX,this.minY-=paddingY,this.maxY+=paddingY,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Bounds(this.minX,this.minY,this.maxX,this.maxY)}scale(x2,y2=x2){return this.minX*=x2,this.minY*=y2,this.maxX*=x2,this.maxY*=y2,this}get x(){return this.minX}set x(value){const width=this.maxX-this.minX;this.minX=value,this.maxX=value+width}get y(){return this.minY}set y(value){const height=this.maxY-this.minY;this.minY=value,this.maxY=value+height}get width(){return this.maxX-this.minX}set width(value){this.maxX=this.minX+value}get height(){return this.maxY-this.minY}set height(value){this.maxY=this.minY+value}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(vertexData,beginOffset,endOffset,matrix){let minX=this.minX,minY=this.minY,maxX=this.maxX,maxY=this.maxY;matrix||(matrix=this.matrix);const a2=matrix.a,b2=matrix.b,c2=matrix.c,d2=matrix.d,tx=matrix.tx,ty=matrix.ty;for(let i2=beginOffset;i2<endOffset;i2+=2){const localX=vertexData[i2],localY=vertexData[i2+1],x2=a2*localX+c2*localY+tx,y2=b2*localX+d2*localY+ty;minX=x2<minX?x2:minX,minY=y2<minY?y2:minY,maxX=x2>maxX?x2:maxX,maxY=y2>maxY?y2:maxY}this.minX=minX,this.minY=minY,this.maxX=maxX,this.maxY=maxY}containsPoint(x2,y2){return this.minX<=x2&&this.minY<=y2&&this.maxX>=x2&&this.maxY>=y2}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(bounds){return this.minX=bounds.minX,this.minY=bounds.minY,this.maxX=bounds.maxX,this.maxY=bounds.maxY,this}}var r$1={grad:.9,turn:360,rad:360/(2*Math.PI)},t$1=function(r2){return typeof r2=="string"?r2.length>0:typeof r2=="number"},n$1=function(r2,t2,n2){return t2===void 0&&(t2=0),n2===void 0&&(n2=Math.pow(10,t2)),Math.round(n2*r2)/n2+0},e$1=function(r2,t2,n2){return t2===void 0&&(t2=0),n2===void 0&&(n2=1),r2>n2?n2:r2>t2?r2:t2},u$1=function(r2){return(r2=isFinite(r2)?r2%360:0)>0?r2:r2+360},a$1=function(r2){return{r:e$1(r2.r,0,255),g:e$1(r2.g,0,255),b:e$1(r2.b,0,255),a:e$1(r2.a)}},o$1=function(r2){return{r:n$1(r2.r),g:n$1(r2.g),b:n$1(r2.b),a:n$1(r2.a,3)}},i$1=/^#([0-9a-f]{3,8})$/i,s$1=function(r2){var t2=r2.toString(16);return t2.length<2?"0"+t2:t2},h$1=function(r2){var t2=r2.r,n2=r2.g,e2=r2.b,u2=r2.a,a2=Math.max(t2,n2,e2),o2=a2-Math.min(t2,n2,e2),i2=o2?a2===t2?(n2-e2)/o2:a2===n2?2+(e2-t2)/o2:4+(t2-n2)/o2:0;return{h:60*(i2<0?i2+6:i2),s:a2?o2/a2*100:0,v:a2/255*100,a:u2}},b$1=function(r2){var t2=r2.h,n2=r2.s,e2=r2.v,u2=r2.a;t2=t2/360*6,n2/=100,e2/=100;var a2=Math.floor(t2),o2=e2*(1-n2),i2=e2*(1-(t2-a2)*n2),s2=e2*(1-(1-t2+a2)*n2),h2=a2%6;return{r:255*[e2,i2,o2,o2,s2,e2][h2],g:255*[s2,e2,e2,i2,o2,o2][h2],b:255*[o2,o2,s2,e2,e2,i2][h2],a:u2}},g$1=function(r2){return{h:u$1(r2.h),s:e$1(r2.s,0,100),l:e$1(r2.l,0,100),a:e$1(r2.a)}},d$1=function(r2){return{h:n$1(r2.h),s:n$1(r2.s),l:n$1(r2.l),a:n$1(r2.a,3)}},f$1=function(r2){return b$1((n2=(t2=r2).s,{h:t2.h,s:(n2*=((e2=t2.l)<50?e2:100-e2)/100)>0?2*n2/(e2+n2)*100:0,v:e2+n2,a:t2.a}));var t2,n2,e2},c$1=function(r2){return{h:(t2=h$1(r2)).h,s:(u2=(200-(n2=t2.s))*(e2=t2.v)/100)>0&&u2<200?n2*e2/100/(u2<=100?u2:200-u2)*100:0,l:u2/2,a:t2.a};var t2,n2,e2,u2},l$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(r2){var t2=i$1.exec(r2);return t2?(r2=t2[1]).length<=4?{r:parseInt(r2[0]+r2[0],16),g:parseInt(r2[1]+r2[1],16),b:parseInt(r2[2]+r2[2],16),a:r2.length===4?n$1(parseInt(r2[3]+r2[3],16)/255,2):1}:r2.length===6||r2.length===8?{r:parseInt(r2.substr(0,2),16),g:parseInt(r2.substr(2,2),16),b:parseInt(r2.substr(4,2),16),a:r2.length===8?n$1(parseInt(r2.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r2){var t2=v$1.exec(r2)||m$1.exec(r2);return t2?t2[2]!==t2[4]||t2[4]!==t2[6]?null:a$1({r:Number(t2[1])/(t2[2]?100/255:1),g:Number(t2[3])/(t2[4]?100/255:1),b:Number(t2[5])/(t2[6]?100/255:1),a:t2[7]===void 0?1:Number(t2[7])/(t2[8]?100:1)}):null},"rgb"],[function(t2){var n2=l$1.exec(t2)||p$1.exec(t2);if(!n2)return null;var e2,u2,a2=g$1({h:(e2=n2[1],u2=n2[2],u2===void 0&&(u2="deg"),Number(e2)*(r$1[u2]||1)),s:Number(n2[3]),l:Number(n2[4]),a:n2[5]===void 0?1:Number(n2[5])/(n2[6]?100:1)});return f$1(a2)},"hsl"]],object:[[function(r2){var n2=r2.r,e2=r2.g,u2=r2.b,o2=r2.a,i2=o2===void 0?1:o2;return t$1(n2)&&t$1(e2)&&t$1(u2)?a$1({r:Number(n2),g:Number(e2),b:Number(u2),a:Number(i2)}):null},"rgb"],[function(r2){var n2=r2.h,e2=r2.s,u2=r2.l,a2=r2.a,o2=a2===void 0?1:a2;if(!t$1(n2)||!t$1(e2)||!t$1(u2))return null;var i2=g$1({h:Number(n2),s:Number(e2),l:Number(u2),a:Number(o2)});return f$1(i2)},"hsl"],[function(r2){var n2=r2.h,a2=r2.s,o2=r2.v,i2=r2.a,s2=i2===void 0?1:i2;if(!t$1(n2)||!t$1(a2)||!t$1(o2))return null;var h2=function(r3){return{h:u$1(r3.h),s:e$1(r3.s,0,100),v:e$1(r3.v,0,100),a:e$1(r3.a)}}({h:Number(n2),s:Number(a2),v:Number(o2),a:Number(s2)});return b$1(h2)},"hsv"]]},N$1=function(r2,t2){for(var n2=0;n2<t2.length;n2++){var e2=t2[n2][0](r2);if(e2)return[e2,t2[n2][1]]}return[null,void 0]},x$1=function(r2){return typeof r2=="string"?N$1(r2.trim(),y$1.string):typeof r2=="object"&&r2!==null?N$1(r2,y$1.object):[null,void 0]},M$1=function(r2,t2){var n2=c$1(r2);return{h:n2.h,s:e$1(n2.s+100*t2,0,100),l:n2.l,a:n2.a}},H$1=function(r2){return(299*r2.r+587*r2.g+114*r2.b)/1e3/255},$$1=function(r2,t2){var n2=c$1(r2);return{h:n2.h,s:n2.s,l:e$1(n2.l+100*t2,0,100),a:n2.a}},j$1=function(){function r2(r3){this.parsed=x$1(r3)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r2.prototype.isValid=function(){return this.parsed!==null},r2.prototype.brightness=function(){return n$1(H$1(this.rgba),2)},r2.prototype.isDark=function(){return H$1(this.rgba)<.5},r2.prototype.isLight=function(){return H$1(this.rgba)>=.5},r2.prototype.toHex=function(){return r3=o$1(this.rgba),t2=r3.r,e2=r3.g,u2=r3.b,i2=(a2=r3.a)<1?s$1(n$1(255*a2)):"","#"+s$1(t2)+s$1(e2)+s$1(u2)+i2;var r3,t2,e2,u2,a2,i2},r2.prototype.toRgb=function(){return o$1(this.rgba)},r2.prototype.toRgbString=function(){return r3=o$1(this.rgba),t2=r3.r,n2=r3.g,e2=r3.b,(u2=r3.a)<1?"rgba("+t2+", "+n2+", "+e2+", "+u2+")":"rgb("+t2+", "+n2+", "+e2+")";var r3,t2,n2,e2,u2},r2.prototype.toHsl=function(){return d$1(c$1(this.rgba))},r2.prototype.toHslString=function(){return r3=d$1(c$1(this.rgba)),t2=r3.h,n2=r3.s,e2=r3.l,(u2=r3.a)<1?"hsla("+t2+", "+n2+"%, "+e2+"%, "+u2+")":"hsl("+t2+", "+n2+"%, "+e2+"%)";var r3,t2,n2,e2,u2},r2.prototype.toHsv=function(){return r3=h$1(this.rgba),{h:n$1(r3.h),s:n$1(r3.s),v:n$1(r3.v),a:n$1(r3.a,3)};var r3},r2.prototype.invert=function(){return w$1({r:255-(r3=this.rgba).r,g:255-r3.g,b:255-r3.b,a:r3.a});var r3},r2.prototype.saturate=function(r3){return r3===void 0&&(r3=.1),w$1(M$1(this.rgba,r3))},r2.prototype.desaturate=function(r3){return r3===void 0&&(r3=.1),w$1(M$1(this.rgba,-r3))},r2.prototype.grayscale=function(){return w$1(M$1(this.rgba,-1))},r2.prototype.lighten=function(r3){return r3===void 0&&(r3=.1),w$1($$1(this.rgba,r3))},r2.prototype.darken=function(r3){return r3===void 0&&(r3=.1),w$1($$1(this.rgba,-r3))},r2.prototype.rotate=function(r3){return r3===void 0&&(r3=15),this.hue(this.hue()+r3)},r2.prototype.alpha=function(r3){return typeof r3=="number"?w$1({r:(t2=this.rgba).r,g:t2.g,b:t2.b,a:r3}):n$1(this.rgba.a,3);var t2},r2.prototype.hue=function(r3){var t2=c$1(this.rgba);return typeof r3=="number"?w$1({h:r3,s:t2.s,l:t2.l,a:t2.a}):n$1(t2.h)},r2.prototype.isEqual=function(r3){return this.toHex()===w$1(r3).toHex()},r2}(),w$1=function(r2){return r2 instanceof j$1?r2:new j$1(r2)},S$1=[],k$1=function(r2){r2.forEach(function(r3){S$1.indexOf(r3)<0&&(r3(j$1,y$1),S$1.push(r3))})};function namesPlugin(e2,f2){var a2={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r2={};for(var d2 in a2)r2[a2[d2]]=d2;var l2={};e2.prototype.toName=function(f3){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d3,i2,n2=r2[this.toHex()];if(n2)return n2;if(f3?.closest){var o2=this.toRgb(),t2=1/0,b2="black";if(!l2.length)for(var c2 in a2)l2[c2]=new e2(a2[c2]).toRgb();for(var g2 in a2){var u2=(d3=o2,i2=l2[g2],Math.pow(d3.r-i2.r,2)+Math.pow(d3.g-i2.g,2)+Math.pow(d3.b-i2.b,2));u2<t2&&(t2=u2,b2=g2)}return b2}},f2.string.push([function(f3){var r3=f3.toLowerCase(),d3=r3==="transparent"?"#0000":a2[r3];return d3?new e2(d3).toRgb():null},"name"])}k$1([namesPlugin]);const _Color=class _Color2{constructor(value=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=value}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(value){return this.value=value,this}set value(value){if(value instanceof _Color2)this._value=this._cloneSource(value._value),this._int=value._int,this._components.set(value._components);else{if(value===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,value))&&(this._value=this._cloneSource(value),this._normalize(this._value))}}get value(){return this._value}_cloneSource(value){return typeof value=="string"||typeof value=="number"||value instanceof Number||value===null?value:Array.isArray(value)||ArrayBuffer.isView(value)?value.slice(0):typeof value=="object"&&value!==null?{...value}:value}_isSourceEqual(value1,value2){const type1=typeof value1;if(type1!==typeof value2)return!1;if(type1==="number"||type1==="string"||value1 instanceof Number)return value1===value2;if(Array.isArray(value1)&&Array.isArray(value2)||ArrayBuffer.isView(value1)&&ArrayBuffer.isView(value2))return value1.length!==value2.length?!1:value1.every((v2,i2)=>v2===value2[i2]);if(value1!==null&&value2!==null){const keys1=Object.keys(value1),keys2=Object.keys(value2);return keys1.length!==keys2.length?!1:keys1.every(key=>value1[key]===value2[key])}return value1===value2}toRgba(){const[r2,g2,b2,a2]=this._components;return{r:r2,g:g2,b:b2,a:a2}}toRgb(){const[r2,g2,b2]=this._components;return{r:r2,g:g2,b:b2}}toRgbaString(){const[r2,g2,b2]=this.toUint8RgbArray();return`rgba(${r2},${g2},${b2},${this.alpha})`}toUint8RgbArray(out2){const[r2,g2,b2]=this._components;return this._arrayRgb||(this._arrayRgb=[]),out2||(out2=this._arrayRgb),out2[0]=Math.round(r2*255),out2[1]=Math.round(g2*255),out2[2]=Math.round(b2*255),out2}toArray(out2){this._arrayRgba||(this._arrayRgba=[]),out2||(out2=this._arrayRgba);const[r2,g2,b2,a2]=this._components;return out2[0]=r2,out2[1]=g2,out2[2]=b2,out2[3]=a2,out2}toRgbArray(out2){this._arrayRgb||(this._arrayRgb=[]),out2||(out2=this._arrayRgb);const[r2,g2,b2]=this._components;return out2[0]=r2,out2[1]=g2,out2[2]=b2,out2}toNumber(){return this._int}toBgrNumber(){const[r2,g2,b2]=this.toUint8RgbArray();return(b2<<16)+(g2<<8)+r2}toLittleEndianNumber(){const value=this._int;return(value>>16)+(value&65280)+((value&255)<<16)}multiply(value){const[r2,g2,b2,a2]=_Color2._temp.setValue(value)._components;return this._components[0]*=r2,this._components[1]*=g2,this._components[2]*=b2,this._components[3]*=a2,this._refreshInt(),this._value=null,this}premultiply(alpha,applyToRGB=!0){return applyToRGB&&(this._components[0]*=alpha,this._components[1]*=alpha,this._components[2]*=alpha),this._components[3]=alpha,this._refreshInt(),this._value=null,this}toPremultiplied(alpha,applyToRGB=!0){if(alpha===1)return(255<<24)+this._int;if(alpha===0)return applyToRGB?0:this._int;let r2=this._int>>16&255,g2=this._int>>8&255,b2=this._int&255;return applyToRGB&&(r2=r2*alpha+.5|0,g2=g2*alpha+.5|0,b2=b2*alpha+.5|0),(alpha*255<<24)+(r2<<16)+(g2<<8)+b2}toHex(){const hexString=this._int.toString(16);return`#${"000000".substring(0,6-hexString.length)+hexString}`}toHexa(){const alphaString=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-alphaString.length)+alphaString}setAlpha(alpha){return this._components[3]=this._clamp(alpha),this}_normalize(value){let r2,g2,b2,a2;if((typeof value=="number"||value instanceof Number)&&value>=0&&value<=16777215){const int=value;r2=(int>>16&255)/255,g2=(int>>8&255)/255,b2=(int&255)/255,a2=1}else if((Array.isArray(value)||value instanceof Float32Array)&&value.length>=3&&value.length<=4)value=this._clamp(value),[r2,g2,b2,a2=1]=value;else if((value instanceof Uint8Array||value instanceof Uint8ClampedArray)&&value.length>=3&&value.length<=4)value=this._clamp(value,0,255),[r2,g2,b2,a2=255]=value,r2/=255,g2/=255,b2/=255,a2/=255;else if(typeof value=="string"||typeof value=="object"){if(typeof value=="string"){const match=_Color2.HEX_PATTERN.exec(value);match&&(value=`#${match[2]}`)}const color=w$1(value);color.isValid()&&({r:r2,g:g2,b:b2,a:a2}=color.rgba,r2/=255,g2/=255,b2/=255)}if(r2!==void 0)this._components[0]=r2,this._components[1]=g2,this._components[2]=b2,this._components[3]=a2,this._refreshInt();else throw new Error(`Unable to convert color ${value}`)}_refreshInt(){this._clamp(this._components);const[r2,g2,b2]=this._components;this._int=(r2*255<<16)+(g2*255<<8)+(b2*255|0)}_clamp(value,min=0,max=1){return typeof value=="number"?Math.min(Math.max(value,min),max):(value.forEach((v2,i2)=>{value[i2]=Math.min(Math.max(v2,min),max)}),value)}static isColorLike(value){return typeof value=="number"||typeof value=="string"||value instanceof Number||value instanceof _Color2||Array.isArray(value)||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Float32Array||value.r!==void 0&&value.g!==void 0&&value.b!==void 0||value.r!==void 0&&value.g!==void 0&&value.b!==void 0&&value.a!==void 0||value.h!==void 0&&value.s!==void 0&&value.l!==void 0||value.h!==void 0&&value.s!==void 0&&value.l!==void 0&&value.a!==void 0||value.h!==void 0&&value.s!==void 0&&value.v!==void 0||value.h!==void 0&&value.s!==void 0&&value.v!==void 0&&value.a!==void 0}};_Color.shared=new _Color;_Color._temp=new _Color;_Color.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Color=_Color;const cullingMixin={cullArea:null,cullable:!1,cullableChildren:!0};class Pool{constructor(ClassType,initialSize){this._pool=[],this._count=0,this._index=0,this._classType=ClassType,initialSize&&this.prepopulate(initialSize)}prepopulate(total){for(let i2=0;i2<total;i2++)this._pool[this._index++]=new this._classType;this._count+=total}get(data){let item;return this._index>0?item=this._pool[--this._index]:item=new this._classType,item.init?.(data),item}return(item){item.reset?.(),this._pool[this._index++]=item}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class PoolGroupClass{constructor(){this._poolsByClass=new Map}prepopulate(Class,total){this.getPool(Class).prepopulate(total)}get(Class,data){return this.getPool(Class).get(data)}return(item){this.getPool(item.constructor).return(item)}getPool(ClassType){return this._poolsByClass.has(ClassType)||this._poolsByClass.set(ClassType,new Pool(ClassType)),this._poolsByClass.get(ClassType)}stats(){const stats={};return this._poolsByClass.forEach(pool=>{const name=stats[pool._classType.name]?pool._classType.name+pool._classType.ID:pool._classType.name;stats[name]={free:pool.totalFree,used:pool.totalUsed,size:pool.totalSize}}),stats}}const BigPool=new PoolGroupClass,cacheAsTextureMixin={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(val){typeof val=="boolean"&&val===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(val===!0?{}:val))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(val){deprecation("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(val)}};function removeItems(arr,startIdx,removeCount){const length=arr.length;let i2;if(startIdx>=length||removeCount===0)return;removeCount=startIdx+removeCount>length?length-startIdx:removeCount;const len=length-removeCount;for(i2=startIdx;i2<len;++i2)arr[i2]=arr[i2+removeCount];arr.length=len}const childrenHelperMixin={allowChildren:!0,removeChildren(beginIndex=0,endIndex){const end=endIndex??this.children.length,range=end-beginIndex,removed=[];if(range>0&&range<=end){for(let i2=end-1;i2>=beginIndex;i2--){const child=this.children[i2];child&&(removed.push(child),child.parent=null)}removeItems(this.children,beginIndex,end);const renderGroup=this.renderGroup||this.parentRenderGroup;renderGroup&&renderGroup.removeChildren(removed);for(let i2=0;i2<removed.length;++i2){const child=removed[i2];child.parentRenderLayer?.detach(child),this.emit("childRemoved",child,this,i2),removed[i2].emit("removed",this)}return removed.length>0&&this._didViewChangeTick++,removed}else if(range===0&&this.children.length===0)return removed;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(index){const child=this.getChildAt(index);return this.removeChild(child)},getChildAt(index){if(index<0||index>=this.children.length)throw new Error(`getChildAt: Index (${index}) does not exist.`);return this.children[index]},setChildIndex(child,index){if(index<0||index>=this.children.length)throw new Error(`The index ${index} supplied is out of bounds ${this.children.length}`);this.getChildIndex(child),this.addChildAt(child,index)},getChildIndex(child){const index=this.children.indexOf(child);if(index===-1)throw new Error("The supplied Container must be a child of the caller");return index},addChildAt(child,index){this.allowChildren||deprecation(v8_0_0,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children}=this;if(index<0||index>children.length)throw new Error(`${child}addChildAt: The index ${index} supplied is out of bounds ${children.length}`);if(child.parent){const currentIndex=child.parent.children.indexOf(child);if(child.parent===this&&currentIndex===index)return child;currentIndex!==-1&&child.parent.children.splice(currentIndex,1)}index===children.length?children.push(child):children.splice(index,0,child),child.parent=this,child.didChange=!0,child._updateFlags=15;const renderGroup=this.renderGroup||this.parentRenderGroup;return renderGroup&&renderGroup.addChild(child),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",child,this,index),child.emit("added",this),child},swapChildren(child,child2){if(child===child2)return;const index1=this.getChildIndex(child),index2=this.getChildIndex(child2);this.children[index1]=child2,this.children[index2]=child;const renderGroup=this.renderGroup||this.parentRenderGroup;renderGroup&&(renderGroup.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...child){return child.length===1?this.reparentChildAt(child[0],this.children.length):(child.forEach(c2=>this.reparentChildAt(c2,this.children.length)),child[0])},reparentChildAt(child,index){if(child.parent===this)return this.setChildIndex(child,index),child;const childMat=child.worldTransform.clone();child.removeFromParent(),this.addChildAt(child,index);const newMatrix=this.worldTransform.clone();return newMatrix.invert(),childMat.prepend(newMatrix),child.setFromMatrix(childMat),child}},collectRenderablesMixin={collectRenderables(instructionSet,renderer,currentLayer){this.parentRenderLayer&&this.parentRenderLayer!==currentLayer||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(instructionSet,renderer,currentLayer):this.renderGroup?renderer.renderPipes.renderGroup.addRenderGroup(this.renderGroup,instructionSet):this.collectRenderablesWithEffects(instructionSet,renderer,currentLayer))},collectRenderablesSimple(instructionSet,renderer,currentLayer){const children=this.children,length=children.length;for(let i2=0;i2<length;i2++)children[i2].collectRenderables(instructionSet,renderer,currentLayer)},collectRenderablesWithEffects(instructionSet,renderer,currentLayer){const{renderPipes}=renderer;for(let i2=0;i2<this.effects.length;i2++){const effect=this.effects[i2];renderPipes[effect.pipe].push(effect,this,instructionSet)}this.collectRenderablesSimple(instructionSet,renderer,currentLayer);for(let i2=this.effects.length-1;i2>=0;i2--){const effect=this.effects[i2];renderPipes[effect.pipe].pop(effect,this,instructionSet)}}};class FilterEffect{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let i2=0;i2<this.filters.length;i2++)this.filters[i2].destroy();this.filters=null,this.filterArea=null}}class MaskEffectManagerClass{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(test=>{this.add({test:test.test,maskClass:test})}))}add(test){this._tests.push(test)}getMaskEffect(item){this._initialized||this.init();for(let i2=0;i2<this._tests.length;i2++){const test=this._tests[i2];if(test.test(item))return BigPool.get(test.maskClass,item)}return item}returnMaskEffect(effect){BigPool.return(effect)}}const MaskEffectManager=new MaskEffectManagerClass;extensions.handleByList(ExtensionType.MaskEffect,MaskEffectManager._effectClasses);const effectsMixin={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const renderGroup=this.renderGroup||this.parentRenderGroup;renderGroup&&(renderGroup.structureDidChange=!0)},addEffect(effect){this.effects.indexOf(effect)===-1&&(this.effects.push(effect),this.effects.sort((a2,b2)=>a2.priority-b2.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(effect){const index=this.effects.indexOf(effect);index!==-1&&(this.effects.splice(index,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(value){const effect=this._maskEffect;effect?.mask!==value&&(effect&&(this.removeEffect(effect),MaskEffectManager.returnMaskEffect(effect),this._maskEffect=null),value!=null&&(this._maskEffect=MaskEffectManager.getMaskEffect(value),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(options){this._maskOptions={...this._maskOptions,...options},options.mask&&(this.mask=options.mask),this._markStructureAsChanged()},set filters(value){!Array.isArray(value)&&value&&(value=[value]);const effect=this._filterEffect||(this._filterEffect=new FilterEffect);value=value;const hasFilters=value?.length>0,hadFilters=effect.filters?.length>0,didChange=hasFilters!==hadFilters;value=Array.isArray(value)?value.slice(0):value,effect.filters=Object.freeze(value),didChange&&(hasFilters?this.addEffect(effect):(this.removeEffect(effect),effect.filters=value??null))},get filters(){return this._filterEffect?.filters},set filterArea(value){this._filterEffect||(this._filterEffect=new FilterEffect),this._filterEffect.filterArea=value},get filterArea(){return this._filterEffect?.filterArea}},findMixin={label:null,get name(){return deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label},set name(value){deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label=value},getChildByName(name,deep=!1){return this.getChildByLabel(name,deep)},getChildByLabel(label,deep=!1){const children=this.children;for(let i2=0;i2<children.length;i2++){const child=children[i2];if(child.label===label||label instanceof RegExp&&label.test(child.label))return child}if(deep)for(let i2=0;i2<children.length;i2++){const found=children[i2].getChildByLabel(label,!0);if(found)return found}return null},getChildrenByLabel(label,deep=!1,out2=[]){const children=this.children;for(let i2=0;i2<children.length;i2++){const child=children[i2];(child.label===label||label instanceof RegExp&&label.test(child.label))&&out2.push(child)}if(deep)for(let i2=0;i2<children.length;i2++)children[i2].getChildrenByLabel(label,!0,out2);return out2}},matrixPool=new Pool(Matrix),boundsPool=new Pool(Bounds),tempMatrix$2=new Matrix,getFastGlobalBoundsMixin={getFastGlobalBounds(factorRenderLayers,bounds){bounds||(bounds=new Bounds),bounds.clear(),this._getGlobalBoundsRecursive(!!factorRenderLayers,bounds,this.parentRenderLayer),bounds.isValid||bounds.set(0,0,0,0);const renderGroup=this.renderGroup||this.parentRenderGroup;return bounds.applyMatrix(renderGroup.worldTransform),bounds},_getGlobalBoundsRecursive(factorRenderLayers,bounds,currentLayer){let localBounds=bounds;if(factorRenderLayers&&this.parentRenderLayer&&this.parentRenderLayer!==currentLayer||this.localDisplayStatus!==7||!this.measurable)return;const manageEffects=!!this.effects.length;if((this.renderGroup||manageEffects)&&(localBounds=boundsPool.get().clear()),this.boundsArea)bounds.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const viewBounds=this.bounds;localBounds.addFrame(viewBounds.minX,viewBounds.minY,viewBounds.maxX,viewBounds.maxY,this.groupTransform)}const children=this.children;for(let i2=0;i2<children.length;i2++)children[i2]._getGlobalBoundsRecursive(factorRenderLayers,localBounds,currentLayer)}if(manageEffects){let advanced=!1;const renderGroup=this.renderGroup||this.parentRenderGroup;for(let i2=0;i2<this.effects.length;i2++)this.effects[i2].addBounds&&(advanced||(advanced=!0,localBounds.applyMatrix(renderGroup.worldTransform)),this.effects[i2].addBounds(localBounds,!0));advanced&&(localBounds.applyMatrix(renderGroup.worldTransform.copyTo(tempMatrix$2).invert()),bounds.addBounds(localBounds,this.relativeGroupTransform)),bounds.addBounds(localBounds),boundsPool.return(localBounds)}else this.renderGroup&&(bounds.addBounds(localBounds,this.relativeGroupTransform),boundsPool.return(localBounds))}};function getGlobalBounds(target,skipUpdateTransform,bounds){bounds.clear();let parentTransform,pooledMatrix;return target.parent?skipUpdateTransform?parentTransform=target.parent.worldTransform:(pooledMatrix=matrixPool.get().identity(),parentTransform=updateTransformBackwards(target,pooledMatrix)):parentTransform=Matrix.IDENTITY,_getGlobalBounds(target,bounds,parentTransform,skipUpdateTransform),pooledMatrix&&matrixPool.return(pooledMatrix),bounds.isValid||bounds.set(0,0,0,0),bounds}function _getGlobalBounds(target,bounds,parentTransform,skipUpdateTransform){if(!target.visible||!target.measurable)return;let worldTransform;skipUpdateTransform?worldTransform=target.worldTransform:(target.updateLocalTransform(),worldTransform=matrixPool.get(),worldTransform.appendFrom(target.localTransform,parentTransform));const parentBounds=bounds,preserveBounds=!!target.effects.length;if(preserveBounds&&(bounds=boundsPool.get().clear()),target.boundsArea)bounds.addRect(target.boundsArea,worldTransform);else{target.bounds&&(bounds.matrix=worldTransform,bounds.addBounds(target.bounds));for(let i2=0;i2<target.children.length;i2++)_getGlobalBounds(target.children[i2],bounds,worldTransform,skipUpdateTransform)}if(preserveBounds){for(let i2=0;i2<target.effects.length;i2++)target.effects[i2].addBounds?.(bounds);parentBounds.addBounds(bounds,Matrix.IDENTITY),boundsPool.return(bounds)}skipUpdateTransform||matrixPool.return(worldTransform)}function updateTransformBackwards(target,parentTransform){const parent=target.parent;return parent&&(updateTransformBackwards(parent,parentTransform),parent.updateLocalTransform(),parentTransform.append(parent.localTransform)),parentTransform}function multiplyHexColors(color1,color2){if(color1===16777215||!color2)return color2;if(color2===16777215||!color1)return color1;const r1=color1>>16&255,g1=color1>>8&255,b1=color1&255,r2=color2>>16&255,g2=color2>>8&255,b2=color2&255,r3=r1*r2/255|0,g3=g1*g2/255|0,b3=b1*b2/255|0;return(r3<<16)+(g3<<8)+b3}const WHITE_BGR=16777215;function multiplyColors(localBGRColor,parentBGRColor){return localBGRColor===WHITE_BGR?parentBGRColor:parentBGRColor===WHITE_BGR?localBGRColor:multiplyHexColors(localBGRColor,parentBGRColor)}function bgr2rgb(color){return((color&255)<<16)+(color&65280)+(color>>16&255)}const getGlobalMixin={getGlobalAlpha(skipUpdate){if(skipUpdate)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let alpha=this.alpha,current=this.parent;for(;current;)alpha*=current.alpha,current=current.parent;return alpha},getGlobalTransform(matrix,skipUpdate){if(skipUpdate)return matrix.copyFrom(this.worldTransform);this.updateLocalTransform();const parentTransform=updateTransformBackwards(this,matrixPool.get().identity());return matrix.appendFrom(this.localTransform,parentTransform),matrixPool.return(parentTransform),matrix},getGlobalTint(skipUpdate){if(skipUpdate)return this.renderGroup?bgr2rgb(this.renderGroup.worldColor):this.parentRenderGroup?bgr2rgb(multiplyColors(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let color=this.localColor,parent=this.parent;for(;parent;)color=multiplyColors(color,parent.localColor),parent=parent.parent;return bgr2rgb(color)}};function getLocalBounds(target,bounds,relativeMatrix){return bounds.clear(),relativeMatrix||(relativeMatrix=Matrix.IDENTITY),_getLocalBounds(target,bounds,relativeMatrix,target,!0),bounds.isValid||bounds.set(0,0,0,0),bounds}function _getLocalBounds(target,bounds,parentTransform,rootContainer,isRoot){let relativeTransform;if(isRoot)relativeTransform=matrixPool.get(),relativeTransform=parentTransform.copyTo(relativeTransform);else{if(!target.visible||!target.measurable)return;target.updateLocalTransform();const localTransform=target.localTransform;relativeTransform=matrixPool.get(),relativeTransform.appendFrom(localTransform,parentTransform)}const parentBounds=bounds,preserveBounds=!!target.effects.length;if(preserveBounds&&(bounds=boundsPool.get().clear()),target.boundsArea)bounds.addRect(target.boundsArea,relativeTransform);else{target.renderPipeId&&(bounds.matrix=relativeTransform,bounds.addBounds(target.bounds));const children=target.children;for(let i2=0;i2<children.length;i2++)_getLocalBounds(children[i2],bounds,relativeTransform,rootContainer,!1)}if(preserveBounds){for(let i2=0;i2<target.effects.length;i2++)target.effects[i2].addLocalBounds?.(bounds,rootContainer);parentBounds.addBounds(bounds,Matrix.IDENTITY),boundsPool.return(bounds)}matrixPool.return(relativeTransform)}function checkChildrenDidChange(container,previousData){const children=container.children;for(let i2=0;i2<children.length;i2++){const child=children[i2],uid2=child.uid,didChange=(child._didViewChangeTick&65535)<<16|child._didContainerChangeTick&65535,index=previousData.index;(previousData.data[index]!==uid2||previousData.data[index+1]!==didChange)&&(previousData.data[previousData.index]=uid2,previousData.data[previousData.index+1]=didChange,previousData.didChange=!0),previousData.index=index+2,child.children.length&&checkChildrenDidChange(child,previousData)}return previousData.didChange}const tempMatrix$1=new Matrix,measureMixin={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(value,localWidth){const sign2=Math.sign(this.scale.x)||1;localWidth!==0?this.scale.x=value/localWidth*sign2:this.scale.x=sign2},_setHeight(value,localHeight){const sign2=Math.sign(this.scale.y)||1;localHeight!==0?this.scale.y=value/localHeight*sign2:this.scale.y=sign2},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Bounds});const localBoundsCacheData=this._localBoundsCacheData;return localBoundsCacheData.index=1,localBoundsCacheData.didChange=!1,localBoundsCacheData.data[0]!==this._didViewChangeTick&&(localBoundsCacheData.didChange=!0,localBoundsCacheData.data[0]=this._didViewChangeTick),checkChildrenDidChange(this,localBoundsCacheData),localBoundsCacheData.didChange&&getLocalBounds(this,localBoundsCacheData.localBounds,tempMatrix$1),localBoundsCacheData.localBounds},getBounds(skipUpdate,bounds){return getGlobalBounds(this,skipUpdate,bounds||new Bounds)}},onRenderMixin={_onRender:null,set onRender(func){const renderGroup=this.renderGroup||this.parentRenderGroup;if(!func){this._onRender&&renderGroup?.removeOnRender(this),this._onRender=null;return}this._onRender||renderGroup?.addOnRender(this),this._onRender=func},get onRender(){return this._onRender}},sortMixin={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(value){this._zIndex!==value&&(this._zIndex=value,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(sortChildren))}};function sortChildren(a2,b2){return a2._zIndex-b2._zIndex}const toLocalGlobalMixin={getGlobalPosition(point=new Point,skipUpdate=!1){return this.parent?this.parent.toGlobal(this._position,point,skipUpdate):(point.x=this._position.x,point.y=this._position.y),point},toGlobal(position,point,skipUpdate=!1){const globalMatrix=this.getGlobalTransform(matrixPool.get(),skipUpdate);return point=globalMatrix.apply(position,point),matrixPool.return(globalMatrix),point},toLocal(position,from,point,skipUpdate){from&&(position=from.toGlobal(position,point,skipUpdate));const globalMatrix=this.getGlobalTransform(matrixPool.get(),skipUpdate);return point=globalMatrix.applyInverse(position,point),matrixPool.return(globalMatrix),point}};class InstructionSet{constructor(){this.uid=uid("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(instruction){this.instructions[this.instructionSize++]=instruction}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let count=0;class TexturePoolClass{constructor(textureOptions){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=textureOptions||{},this.enableFullScreen=!1,this.textureStyle=new TextureStyle(this.textureOptions)}createTexture(pixelWidth,pixelHeight,antialias){const textureSource=new TextureSource({...this.textureOptions,width:pixelWidth,height:pixelHeight,resolution:1,antialias,autoGarbageCollect:!1});return new Texture({source:textureSource,label:`texturePool_${count++}`})}getOptimalTexture(frameWidth,frameHeight,resolution=1,antialias){let po2Width=Math.ceil(frameWidth*resolution-1e-6),po2Height=Math.ceil(frameHeight*resolution-1e-6);po2Width=nextPow2(po2Width),po2Height=nextPow2(po2Height);const key=(po2Width<<17)+(po2Height<<1)+(antialias?1:0);this._texturePool[key]||(this._texturePool[key]=[]);let texture=this._texturePool[key].pop();return texture||(texture=this.createTexture(po2Width,po2Height,antialias)),texture.source._resolution=resolution,texture.source.width=po2Width/resolution,texture.source.height=po2Height/resolution,texture.source.pixelWidth=po2Width,texture.source.pixelHeight=po2Height,texture.frame.x=0,texture.frame.y=0,texture.frame.width=frameWidth,texture.frame.height=frameHeight,texture.updateUvs(),this._poolKeyHash[texture.uid]=key,texture}getSameSizeTexture(texture,antialias=!1){const source=texture.source;return this.getOptimalTexture(texture.width,texture.height,source._resolution,antialias)}returnTexture(renderTexture,resetStyle=!1){const key=this._poolKeyHash[renderTexture.uid];resetStyle&&(renderTexture.source.style=this.textureStyle),this._texturePool[key].push(renderTexture)}clear(destroyTextures){if(destroyTextures=destroyTextures!==!1,destroyTextures)for(const i2 in this._texturePool){const textures=this._texturePool[i2];if(textures)for(let j2=0;j2<textures.length;j2++)textures[j2].destroy(!0)}this._texturePool={}}}const TexturePool=new TexturePoolClass;class RenderGroup{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Matrix,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new InstructionSet,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(root){this.root=root,root._onRender&&this.addOnRender(root),root.didChange=!0;const children=root.children;for(let i2=0;i2<children.length;i2++){const child=children[i2];child._updateFlags=15,this.addChild(child)}}enableCacheAsTexture(options={}){this.textureOptions=options,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(TexturePool.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const i2 in this.childrenToUpdate){const childrenAtDepth=this.childrenToUpdate[i2];childrenAtDepth.list.fill(null),childrenAtDepth.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(renderGroupChild){renderGroupChild.renderGroupParent&&renderGroupChild.renderGroupParent._removeRenderGroupChild(renderGroupChild),renderGroupChild.renderGroupParent=this,this.renderGroupChildren.push(renderGroupChild)}_removeRenderGroupChild(renderGroupChild){const index=this.renderGroupChildren.indexOf(renderGroupChild);index>-1&&this.renderGroupChildren.splice(index,1),renderGroupChild.renderGroupParent=null}addChild(child){if(this.structureDidChange=!0,child.parentRenderGroup=this,child.updateTick=-1,child.parent===this.root?child.relativeRenderGroupDepth=1:child.relativeRenderGroupDepth=child.parent.relativeRenderGroupDepth+1,child.didChange=!0,this.onChildUpdate(child),child.renderGroup){this.addRenderGroupChild(child.renderGroup);return}child._onRender&&this.addOnRender(child);const children=child.children;for(let i2=0;i2<children.length;i2++)this.addChild(children[i2])}removeChild(child){if(this.structureDidChange=!0,child._onRender&&(child.renderGroup||this.removeOnRender(child)),child.parentRenderGroup=null,child.renderGroup){this._removeRenderGroupChild(child.renderGroup);return}const children=child.children;for(let i2=0;i2<children.length;i2++)this.removeChild(children[i2])}removeChildren(children){for(let i2=0;i2<children.length;i2++)this.removeChild(children[i2])}onChildUpdate(child){let childrenToUpdate=this.childrenToUpdate[child.relativeRenderGroupDepth];childrenToUpdate||(childrenToUpdate=this.childrenToUpdate[child.relativeRenderGroupDepth]={index:0,list:[]}),childrenToUpdate.list[childrenToUpdate.index++]=child}updateRenderable(renderable){renderable.globalDisplayStatus<7||(this.instructionSet.renderPipes[renderable.renderPipeId].updateRenderable(renderable),renderable.didViewUpdate=!1)}onChildViewUpdate(child){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=child}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(container){this._onRenderContainers.push(container)}removeOnRender(container){this._onRenderContainers.splice(this._onRenderContainers.indexOf(container),1)}runOnRender(renderer){for(let i2=0;i2<this._onRenderContainers.length;i2++)this._onRenderContainers[i2]._onRender(renderer)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(out2=[]){const children=this.root.children;for(let i2=0;i2<children.length;i2++)this._getChildren(children[i2],out2);return out2}_getChildren(container,out2=[]){if(out2.push(container),container.renderGroup)return out2;const children=container.children;for(let i2=0;i2<children.length;i2++)this._getChildren(children[i2],out2);return out2}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Matrix),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Matrix),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const parentCacheAsTexture=this._parentCacheAsTextureRenderGroup;return parentCacheAsTexture?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Matrix),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(parentCacheAsTexture.inverseWorldTransform).translate(-parentCacheAsTexture._textureBounds.x,-parentCacheAsTexture._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function assignWithIgnore(target,options,ignore={}){for(const key in options)!ignore[key]&&options[key]!==void 0&&(target[key]=options[key])}const defaultSkew=new ObservablePoint(null),defaultPivot=new ObservablePoint(null),defaultScale=new ObservablePoint(null,1,1),UPDATE_COLOR=1,UPDATE_BLEND=2,UPDATE_VISIBLE=4;class Container extends EventEmitter{constructor(options={}){super(),this.uid=uid("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Matrix,this.relativeGroupTransform=new Matrix,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new ObservablePoint(this,0,0),this._scale=defaultScale,this._pivot=defaultPivot,this._skew=defaultSkew,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],assignWithIgnore(this,options,{children:!0,parent:!0,effects:!0}),options.children?.forEach(child=>this.addChild(child)),options.parent?.addChild(this)}static mixin(source){deprecation("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),extensions.mixin(Container,source)}set _didChangeId(value){this._didViewChangeTick=value>>12&4095,this._didContainerChangeTick=value&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...children){if(this.allowChildren||deprecation(v8_0_0,"addChild: Only Containers will be allowed to add children in v8.0.0"),children.length>1){for(let i2=0;i2<children.length;i2++)this.addChild(children[i2]);return children[0]}const child=children[0],renderGroup=this.renderGroup||this.parentRenderGroup;return child.parent===this?(this.children.splice(this.children.indexOf(child),1),this.children.push(child),renderGroup&&(renderGroup.structureDidChange=!0),child):(child.parent&&child.parent.removeChild(child),this.children.push(child),this.sortableChildren&&(this.sortDirty=!0),child.parent=this,child.didChange=!0,child._updateFlags=15,renderGroup&&renderGroup.addChild(child),this.emit("childAdded",child,this,this.children.length-1),child.emit("added",this),this._didViewChangeTick++,child._zIndex!==0&&child.depthOfChildModified(),child)}removeChild(...children){if(children.length>1){for(let i2=0;i2<children.length;i2++)this.removeChild(children[i2]);return children[0]}const child=children[0],index=this.children.indexOf(child);return index>-1&&(this._didViewChangeTick++,this.children.splice(index,1),this.renderGroup?this.renderGroup.removeChild(child):this.parentRenderGroup&&this.parentRenderGroup.removeChild(child),child.parentRenderLayer&&child.parentRenderLayer.detach(child),child.parent=null,this.emit("childRemoved",child,this,index),child.emit("removed",this)),child}_onUpdate(point){point&&point===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(value){!!this.renderGroup!==value&&(value?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const parentRenderGroup=this.parentRenderGroup;parentRenderGroup?.removeChild(this),this.renderGroup=BigPool.get(RenderGroup,this),this.groupTransform=Matrix.IDENTITY,parentRenderGroup?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const parentRenderGroup=this.parentRenderGroup;parentRenderGroup?.removeChild(this),BigPool.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,parentRenderGroup?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Matrix),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(value){this._position.x=value}get y(){return this._position.y}set y(value){this._position.y=value}get position(){return this._position}set position(value){this._position.copyFrom(value)}get rotation(){return this._rotation}set rotation(value){this._rotation!==value&&(this._rotation=value,this._onUpdate(this._skew))}get angle(){return this.rotation*RAD_TO_DEG}set angle(value){this.rotation=value*DEG_TO_RAD}get pivot(){return this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0)),this._pivot}set pivot(value){this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0)),typeof value=="number"?this._pivot.set(value):this._pivot.copyFrom(value)}get skew(){return this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew}set skew(value){this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew.copyFrom(value)}get scale(){return this._scale===defaultScale&&(this._scale=new ObservablePoint(this,1,1)),this._scale}set scale(value){this._scale===defaultScale&&(this._scale=new ObservablePoint(this,0,0)),typeof value=="number"?this._scale.set(value):this._scale.copyFrom(value)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(value){const localWidth=this.getLocalBounds().width;this._setWidth(value,localWidth)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(value){const localHeight=this.getLocalBounds().height;this._setHeight(value,localHeight)}getSize(out2){out2||(out2={});const bounds=this.getLocalBounds();return out2.width=Math.abs(this.scale.x*bounds.width),out2.height=Math.abs(this.scale.y*bounds.height),out2}setSize(value,height){const size=this.getLocalBounds();typeof value=="object"?(height=value.height??value.width,value=value.width):height??(height=value),value!==void 0&&this._setWidth(value,size.width),height!==void 0&&this._setHeight(height,size.height)}_updateSkew(){const rotation=this._rotation,skew=this._skew;this._cx=Math.cos(rotation+skew._y),this._sx=Math.sin(rotation+skew._y),this._cy=-Math.sin(rotation-skew._x),this._sy=Math.cos(rotation-skew._x)}updateTransform(opts){return this.position.set(typeof opts.x=="number"?opts.x:this.position.x,typeof opts.y=="number"?opts.y:this.position.y),this.scale.set(typeof opts.scaleX=="number"?opts.scaleX||1:this.scale.x,typeof opts.scaleY=="number"?opts.scaleY||1:this.scale.y),this.rotation=typeof opts.rotation=="number"?opts.rotation:this.rotation,this.skew.set(typeof opts.skewX=="number"?opts.skewX:this.skew.x,typeof opts.skewY=="number"?opts.skewY:this.skew.y),this.pivot.set(typeof opts.pivotX=="number"?opts.pivotX:this.pivot.x,typeof opts.pivotY=="number"?opts.pivotY:this.pivot.y),this}setFromMatrix(matrix){matrix.decompose(this)}updateLocalTransform(){const localTransformChangeId=this._didContainerChangeTick;if(this._didLocalTransformChangeId===localTransformChangeId)return;this._didLocalTransformChangeId=localTransformChangeId;const lt2=this.localTransform,scale=this._scale,pivot=this._pivot,position=this._position,sx=scale._x,sy=scale._y,px=pivot._x,py=pivot._y;lt2.a=this._cx*sx,lt2.b=this._sx*sx,lt2.c=this._cy*sy,lt2.d=this._sy*sy,lt2.tx=position._x-(px*lt2.a+py*lt2.c),lt2.ty=position._y-(px*lt2.b+py*lt2.d)}set alpha(value){value!==this.localAlpha&&(this.localAlpha=value,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get alpha(){return this.localAlpha}set tint(value){const bgr=Color.shared.setValue(value??16777215).toBgrNumber();bgr!==this.localColor&&(this.localColor=bgr,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get tint(){return bgr2rgb(this.localColor)}set blendMode(value){this.localBlendMode!==value&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_BLEND,this.localBlendMode=value,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(value){const valueNumber=value?2:0;(this.localDisplayStatus&2)!==valueNumber&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(value){const valueNumber=value?0:4;(this.localDisplayStatus&4)!==valueNumber&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(value){const valueNumber=value?1:0;(this.localDisplayStatus&1)!==valueNumber&&(this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(options=!1){if(this.destroyed)return;this.destroyed=!0;let oldChildren;if(this.children.length&&(oldChildren=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof options=="boolean"?options:options?.children)&&oldChildren)for(let i2=0;i2<oldChildren.length;++i2)oldChildren[i2].destroy(options);this.renderGroup?.destroy(),this.renderGroup=null}}extensions.mixin(Container,childrenHelperMixin,getFastGlobalBoundsMixin,toLocalGlobalMixin,onRenderMixin,measureMixin,effectsMixin,findMixin,sortMixin,cullingMixin,cacheAsTextureMixin,getGlobalMixin,collectRenderablesMixin);class ViewContainer extends Container{constructor(options){super(options),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Bounds(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(value){this._roundPixels=value?1:0}containsPoint(point){const bounds=this.bounds,{x:x2,y:y2}=point;return x2>=bounds.minX&&x2<=bounds.maxX&&y2>=bounds.minY&&y2<=bounds.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const renderGroup=this.renderGroup||this.parentRenderGroup;renderGroup&&renderGroup.onChildViewUpdate(this)}destroy(options){super.destroy(options),this._bounds=null;for(const key in this._gpuData)this._gpuData[key].destroy?.();this._gpuData=null}collectRenderablesSimple(instructionSet,renderer,currentLayer){const{renderPipes}=renderer;renderPipes.blendMode.setBlendMode(this,this.groupBlendMode,instructionSet),renderPipes[this.renderPipeId].addRenderable(this,instructionSet),this.didViewUpdate=!1;const children=this.children,length=children.length;for(let i2=0;i2<length;i2++)children[i2].collectRenderables(instructionSet,renderer,currentLayer)}}class Sprite extends ViewContainer{constructor(options=Texture.EMPTY){options instanceof Texture&&(options={texture:options});const{texture=Texture.EMPTY,anchor,roundPixels,width,height,...rest}=options;super({label:"Sprite",...rest}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),anchor?this.anchor=anchor:texture.defaultAnchor&&(this.anchor=texture.defaultAnchor),this.texture=texture,this.allowChildren=!1,this.roundPixels=roundPixels??!1,width!==void 0&&(this.width=width),height!==void 0&&(this.height=height)}static from(source,skipCache=!1){return source instanceof Texture?new Sprite(source):new Sprite(Texture.from(source,skipCache))}set texture(value){value||(value=Texture.EMPTY);const currentTexture=this._texture;currentTexture!==value&&(currentTexture&&currentTexture.dynamic&&currentTexture.off("update",this.onViewUpdate,this),value.dynamic&&value.on("update",this.onViewUpdate,this),this._texture=value,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return updateQuadBounds(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return deprecation("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const anchor=this._anchor,texture=this._texture,bounds=this._bounds,{width,height}=texture.orig;bounds.minX=-anchor._x*width,bounds.maxX=bounds.minX+width,bounds.minY=-anchor._y*height,bounds.maxY=bounds.minY+height}destroy(options=!1){if(super.destroy(options),typeof options=="boolean"?options:options?.texture){const destroyTextureSource=typeof options=="boolean"?options:options?.textureSource;this._texture.destroy(destroyTextureSource)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(value){typeof value=="number"?this._anchor.set(value):this._anchor.copyFrom(value)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(value){this._setWidth(value,this._texture.orig.width),this._width=value}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(value){this._setHeight(value,this._texture.orig.height),this._height=value}getSize(out2){return out2||(out2={}),out2.width=Math.abs(this.scale.x)*this._texture.orig.width,out2.height=Math.abs(this.scale.y)*this._texture.orig.height,out2}setSize(value,height){typeof value=="object"?(height=value.height??value.width,value=value.width):height??(height=value),value!==void 0&&this._setWidth(value,this._texture.orig.width),height!==void 0&&this._setHeight(height,this._texture.orig.height)}}const tempBounds=new Bounds;function addMaskBounds(mask,bounds,skipUpdateTransform){const boundsToMask=tempBounds;mask.measurable=!0,getGlobalBounds(mask,skipUpdateTransform,boundsToMask),bounds.addBoundsMask(boundsToMask),mask.measurable=!1}let warnCount=0;const maxWarnings=500;function warn(...args){warnCount!==maxWarnings&&(warnCount++,warnCount===maxWarnings?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...args))}function addMaskLocalBounds(mask,bounds,localRoot){const boundsToMask=boundsPool.get();mask.measurable=!0;const tempMatrix2=matrixPool.get().identity(),relativeMask=getMatrixRelativeToParent(mask,localRoot,tempMatrix2);getLocalBounds(mask,boundsToMask,relativeMask),mask.measurable=!1,bounds.addBoundsMask(boundsToMask),matrixPool.return(tempMatrix2),boundsPool.return(boundsToMask)}function getMatrixRelativeToParent(target,root,matrix){return target?(target!==root&&(getMatrixRelativeToParent(target.parent,root,matrix),target.updateLocalTransform(),matrix.append(target.localTransform)),matrix):(warn("Mask bounds, renderable is not inside the root container"),matrix)}class AlphaMask{constructor(options){this.priority=0,this.inverse=!1,this.pipe="alphaMask",options?.mask&&this.init(options.mask)}init(mask){this.mask=mask,this.renderMaskToTexture=!(mask instanceof Sprite),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(bounds,skipUpdateTransform){this.inverse||addMaskBounds(this.mask,bounds,skipUpdateTransform)}addLocalBounds(bounds,localRoot){addMaskLocalBounds(this.mask,bounds,localRoot)}containsPoint(point,hitTestFn){const mask=this.mask;return hitTestFn(mask,point)}destroy(){this.reset()}static test(mask){return mask instanceof Sprite}}AlphaMask.extension=ExtensionType.MaskEffect;class ColorMask{constructor(options){this.priority=0,this.pipe="colorMask",options?.mask&&this.init(options.mask)}init(mask){this.mask=mask}destroy(){}static test(mask){return typeof mask=="number"}}ColorMask.extension=ExtensionType.MaskEffect;class StencilMask{constructor(options){this.priority=0,this.pipe="stencilMask",options?.mask&&this.init(options.mask)}init(mask){this.mask=mask,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(bounds,skipUpdateTransform){addMaskBounds(this.mask,bounds,skipUpdateTransform)}addLocalBounds(bounds,localRoot){addMaskLocalBounds(this.mask,bounds,localRoot)}containsPoint(point,hitTestFn){const mask=this.mask;return hitTestFn(mask,point)}destroy(){this.reset()}static test(mask){return mask instanceof Container}}StencilMask.extension=ExtensionType.MaskEffect;const BrowserAdapter={createCanvas:(width,height)=>{const canvas=document.createElement("canvas");return canvas.width=width,canvas.height=height,canvas},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(url,options)=>fetch(url,options),parseXML:xml=>new DOMParser().parseFromString(xml,"text/xml")};let currentAdapter=BrowserAdapter;const DOMAdapter={get(){return currentAdapter},set(adapter){currentAdapter=adapter}};class CanvasSource extends TextureSource{constructor(options){options.resource||(options.resource=DOMAdapter.get().createCanvas()),options.width||(options.width=options.resource.width,options.autoDensity||(options.width/=options.resolution)),options.height||(options.height=options.resource.height,options.autoDensity||(options.height/=options.resolution)),super(options),this.uploadMethodId="image",this.autoDensity=options.autoDensity,this.resizeCanvas(),this.transparent=!!options.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(width=this.width,height=this.height,resolution=this._resolution){const didResize=super.resize(width,height,resolution);return didResize&&this.resizeCanvas(),didResize}static test(resource){return globalThis.HTMLCanvasElement&&resource instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&resource instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}CanvasSource.extension=ExtensionType.TextureSource;class ImageSource extends TextureSource{constructor(options){super(options),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(resource){return globalThis.HTMLImageElement&&resource instanceof HTMLImageElement||typeof ImageBitmap<"u"&&resource instanceof ImageBitmap||globalThis.VideoFrame&&resource instanceof VideoFrame}}ImageSource.extension=ExtensionType.TextureSource;var UPDATE_PRIORITY=(UPDATE_PRIORITY2=>(UPDATE_PRIORITY2[UPDATE_PRIORITY2.INTERACTION=50]="INTERACTION",UPDATE_PRIORITY2[UPDATE_PRIORITY2.HIGH=25]="HIGH",UPDATE_PRIORITY2[UPDATE_PRIORITY2.NORMAL=0]="NORMAL",UPDATE_PRIORITY2[UPDATE_PRIORITY2.LOW=-25]="LOW",UPDATE_PRIORITY2[UPDATE_PRIORITY2.UTILITY=-50]="UTILITY",UPDATE_PRIORITY2))(UPDATE_PRIORITY||{});class TickerListener{constructor(fn,context2=null,priority=0,once=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=fn,this._context=context2,this.priority=priority,this._once=once}match(fn,context2=null){return this._fn===fn&&this._context===context2}emit(ticker){this._fn&&(this._context?this._fn.call(this._context,ticker):this._fn(ticker));const redirect=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),redirect}connect(previous){this.previous=previous,previous.next&&(previous.next.previous=this),this.next=previous.next,previous.next=this}destroy(hard=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const redirect=this.next;return this.next=hard?null:redirect,this.previous=null,redirect}}const _Ticker=class _Ticker2{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/_Ticker2.targetFPMS,this.elapsedMS=1/_Ticker2.targetFPMS,this._tick=time=>{this._requestId=null,this.started&&(this.update(time),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(fn,context2,priority=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(fn,context2,priority))}addOnce(fn,context2,priority=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(fn,context2,priority,!0))}_addListener(listener){let current=this._head.next,previous=this._head;if(!current)listener.connect(previous);else{for(;current;){if(listener.priority>current.priority){listener.connect(previous);break}previous=current,current=current.next}listener.previous||listener.connect(previous)}return this._startIfPossible(),this}remove(fn,context2){let listener=this._head.next;for(;listener;)listener.match(fn,context2)?listener=listener.destroy():listener=listener.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let count2=0,current=this._head;for(;current=current.next;)count2++;return count2}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let listener=this._head.next;for(;listener;)listener=listener.destroy(!0);this._head.destroy(),this._head=null}}update(currentTime=performance.now()){let elapsedMS;if(currentTime>this.lastTime){if(elapsedMS=this.elapsedMS=currentTime-this.lastTime,elapsedMS>this._maxElapsedMS&&(elapsedMS=this._maxElapsedMS),elapsedMS*=this.speed,this._minElapsedMS){const delta=currentTime-this._lastFrame|0;if(delta<this._minElapsedMS)return;this._lastFrame=currentTime-delta%this._minElapsedMS}this.deltaMS=elapsedMS,this.deltaTime=this.deltaMS*_Ticker2.targetFPMS;const head=this._head;let listener=head.next;for(;listener;)listener=listener.emit(this);head.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=currentTime}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(fps){const minFPS=Math.min(this.maxFPS,fps),minFPMS=Math.min(Math.max(0,minFPS)/1e3,_Ticker2.targetFPMS);this._maxElapsedMS=1/minFPMS}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(fps){if(fps===0)this._minElapsedMS=0;else{const maxFPS=Math.max(this.minFPS,fps);this._minElapsedMS=1/(maxFPS/1e3)}}static get shared(){if(!_Ticker2._shared){const shared=_Ticker2._shared=new _Ticker2;shared.autoStart=!0,shared._protected=!0}return _Ticker2._shared}static get system(){if(!_Ticker2._system){const system=_Ticker2._system=new _Ticker2;system.autoStart=!0,system._protected=!0}return _Ticker2._system}};_Ticker.targetFPMS=.06;let Ticker=_Ticker,promise;async function detectVideoAlphaMode(){return promise??(promise=(async()=>{const gl=document.createElement("canvas").getContext("webgl");if(!gl)return"premultiply-alpha-on-upload";const video=await new Promise(resolve=>{const video2=document.createElement("video");video2.onloadeddata=()=>resolve(video2),video2.onerror=()=>resolve(null),video2.autoplay=!1,video2.crossOrigin="anonymous",video2.preload="auto",video2.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",video2.load()});if(!video)return"premultiply-alpha-on-upload";const texture=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,texture);const framebuffer=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,texture,0),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,gl.NONE),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,video);const pixel=new Uint8Array(4);return gl.readPixels(0,0,1,1,gl.RGBA,gl.UNSIGNED_BYTE,pixel),gl.deleteFramebuffer(framebuffer),gl.deleteTexture(texture),gl.getExtension("WEBGL_lose_context")?.loseContext(),pixel[0]<=pixel[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),promise}const _VideoSource=class _VideoSource2 extends TextureSource{constructor(options){super(options),this.isReady=!1,this.uploadMethodId="video",options={..._VideoSource2.defaultOptions,...options},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=options.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=options.autoPlay!==!1,this.alphaMode=options.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),options.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const elapsedMS=Ticker.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-elapsedMS)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const source=this.resource,options=this.options;return(source.readyState===source.HAVE_ENOUGH_DATA||source.readyState===source.HAVE_FUTURE_DATA)&&source.width&&source.height&&(source.complete=!0),source.addEventListener("play",this._onPlayStart),source.addEventListener("pause",this._onPlayStop),source.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(options.preload||source.addEventListener("canplay",this._onCanPlay),source.addEventListener("canplaythrough",this._onCanPlayThrough),source.addEventListener("error",this._onError,!0)),this.alphaMode=await detectVideoAlphaMode(),this._load=new Promise((resolve,reject)=>{this.isValid?resolve(this):(this._resolve=resolve,this._reject=reject,options.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${options.preloadTimeoutMs}ms`))})),source.load())}),this._load}_onError(event){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",event),this._reject&&(this._reject(event),this._reject=null,this._resolve=null)}_isSourcePlaying(){const source=this.resource;return!source.paused&&!source.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const source=this.resource;this.isValid&&(this.isReady=!0,this.resize(source.videoWidth,source.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const source=this.resource;source&&(source.removeEventListener("play",this._onPlayStart),source.removeEventListener("pause",this._onPlayStop),source.removeEventListener("seeked",this._onSeeked),source.removeEventListener("canplay",this._onCanPlay),source.removeEventListener("canplaythrough",this._onCanPlayThrough),source.removeEventListener("error",this._onError,!0),source.pause(),source.src="",source.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(value){value!==this._autoUpdate&&(this._autoUpdate=value,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(value){value!==this._updateFPS&&(this._updateFPS=value,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ticker.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(resource){return globalThis.HTMLVideoElement&&resource instanceof HTMLVideoElement}};_VideoSource.extension=ExtensionType.TextureSource;_VideoSource.defaultOptions={...TextureSource.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};_VideoSource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let VideoSource=_VideoSource;const convertToList=(input,transform,forceTransform=!1)=>(Array.isArray(input)||(input=[input]),transform?input.map(item=>typeof item=="string"||forceTransform?transform(item):item):input);class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(key){return this._cache.has(key)}get(key){const result=this._cache.get(key);return result||warn(`[Assets] Asset id ${key} was not found in the Cache`),result}set(key,value){const keys=convertToList(key);let cacheableAssets;for(let i2=0;i2<this.parsers.length;i2++){const parser=this.parsers[i2];if(parser.test(value)){cacheableAssets=parser.getCacheableAssets(keys,value);break}}const cacheableMap=new Map(Object.entries(cacheableAssets||{}));cacheableAssets||keys.forEach(key2=>{cacheableMap.set(key2,value)});const cacheKeys=[...cacheableMap.keys()],cachedAssets={cacheKeys,keys};keys.forEach(key2=>{this._cacheMap.set(key2,cachedAssets)}),cacheKeys.forEach(key2=>{const val=cacheableAssets?cacheableAssets[key2]:value;this._cache.has(key2)&&this._cache.get(key2)!==val&&warn("[Cache] already has key:",key2),this._cache.set(key2,cacheableMap.get(key2))})}remove(key){if(!this._cacheMap.has(key)){warn(`[Assets] Asset id ${key} was not found in the Cache`);return}const cacheMap2=this._cacheMap.get(key);cacheMap2.cacheKeys.forEach(key2=>{this._cache.delete(key2)}),cacheMap2.keys.forEach(key2=>{this._cacheMap.delete(key2)})}get parsers(){return this._parsers}}const Cache=new CacheClass,sources=[];extensions.handleByList(ExtensionType.TextureSource,sources);function textureSourceFrom(options={}){const hasResource=options&&options.resource,res=hasResource?options.resource:options,opts=hasResource?options:{resource:options};for(let i2=0;i2<sources.length;i2++){const Source=sources[i2];if(Source.test(res))return new Source(opts)}throw new Error(`Could not find a source type for resource: ${opts.resource}`)}function resourceToTexture(options={},skipCache=!1){const hasResource=options&&options.resource,resource=hasResource?options.resource:options,opts=hasResource?options:{resource:options};if(!skipCache&&Cache.has(resource))return Cache.get(resource);const texture=new Texture({source:textureSourceFrom(opts)});return texture.on("destroy",()=>{Cache.has(resource)&&Cache.remove(resource)}),skipCache||Cache.set(resource,texture),texture}function textureFrom(id,skipCache=!1){return typeof id=="string"?Cache.get(id):id instanceof TextureSource?new Texture({source:id}):resourceToTexture(id,skipCache)}Texture.from=textureFrom;TextureSource.from=textureSourceFrom;extensions.add(AlphaMask,ColorMask,StencilMask,VideoSource,ImageSource,CanvasSource,BufferImageSource);var LoaderParserPriority=(LoaderParserPriority2=>(LoaderParserPriority2[LoaderParserPriority2.Low=0]="Low",LoaderParserPriority2[LoaderParserPriority2.Normal=1]="Normal",LoaderParserPriority2[LoaderParserPriority2.High=2]="High",LoaderParserPriority2))(LoaderParserPriority||{});function assertPath(path2){if(typeof path2!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(path2)}`)}function removeUrlParams(url){return url.split("?")[0].split("#")[0]}function escapeRegExp(string){return string.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(str,find,replace){return str.replace(new RegExp(escapeRegExp(find),"g"),replace)}function normalizeStringPosix(path2,allowAboveRoot){let res="",lastSegmentLength=0,lastSlash=-1,dots=0,code=-1;for(let i2=0;i2<=path2.length;++i2){if(i2<path2.length)code=path2.charCodeAt(i2);else{if(code===47)break;code=47}if(code===47){if(!(lastSlash===i2-1||dots===1))if(lastSlash!==i2-1&&dots===2){if(res.length<2||lastSegmentLength!==2||res.charCodeAt(res.length-1)!==46||res.charCodeAt(res.length-2)!==46){if(res.length>2){const lastSlashIndex=res.lastIndexOf("/");if(lastSlashIndex!==res.length-1){lastSlashIndex===-1?(res="",lastSegmentLength=0):(res=res.slice(0,lastSlashIndex),lastSegmentLength=res.length-1-res.lastIndexOf("/")),lastSlash=i2,dots=0;continue}}else if(res.length===2||res.length===1){res="",lastSegmentLength=0,lastSlash=i2,dots=0;continue}}}else res.length>0?res+=`/${path2.slice(lastSlash+1,i2)}`:res=path2.slice(lastSlash+1,i2),lastSegmentLength=i2-lastSlash-1;lastSlash=i2,dots=0}else code===46&&dots!==-1?++dots:dots=-1}return res}const path={toPosix(path2){return replaceAll(path2,"\\","/")},isUrl(path2){return/^https?:/.test(this.toPosix(path2))},isDataUrl(path2){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(path2)},isBlobUrl(path2){return path2.startsWith("blob:")},hasProtocol(path2){return/^[^/:]+:/.test(this.toPosix(path2))},getProtocol(path2){assertPath(path2),path2=this.toPosix(path2);const matchFile=/^file:\/\/\//.exec(path2);if(matchFile)return matchFile[0];const matchProtocol=/^[^/:]+:\/{0,2}/.exec(path2);return matchProtocol?matchProtocol[0]:""},toAbsolute(url,customBaseUrl,customRootUrl){if(assertPath(url),this.isDataUrl(url)||this.isBlobUrl(url))return url;const baseUrl=removeUrlParams(this.toPosix(customBaseUrl??DOMAdapter.get().getBaseUrl())),rootUrl=removeUrlParams(this.toPosix(customRootUrl??this.rootname(baseUrl)));return url=this.toPosix(url),url.startsWith("/")?path.join(rootUrl,url.slice(1)):this.isAbsolute(url)?url:this.join(baseUrl,url)},normalize(path2){if(assertPath(path2),path2.length===0)return".";if(this.isDataUrl(path2)||this.isBlobUrl(path2))return path2;path2=this.toPosix(path2);let protocol="";const isAbsolute=path2.startsWith("/");this.hasProtocol(path2)&&(protocol=this.rootname(path2),path2=path2.slice(protocol.length));const trailingSeparator=path2.endsWith("/");return path2=normalizeStringPosix(path2),path2.length>0&&trailingSeparator&&(path2+="/"),isAbsolute?`/${path2}`:protocol+path2},isAbsolute(path2){return assertPath(path2),path2=this.toPosix(path2),this.hasProtocol(path2)?!0:path2.startsWith("/")},join(...segments){if(segments.length===0)return".";let joined;for(let i2=0;i2<segments.length;++i2){const arg=segments[i2];if(assertPath(arg),arg.length>0)if(joined===void 0)joined=arg;else{const prevArg=segments[i2-1]??"";this.joinExtensions.includes(this.extname(prevArg).toLowerCase())?joined+=`/../${arg}`:joined+=`/${arg}`}}return joined===void 0?".":this.normalize(joined)},dirname(path2){if(assertPath(path2),path2.length===0)return".";path2=this.toPosix(path2);let code=path2.charCodeAt(0);const hasRoot=code===47;let end=-1,matchedSlash=!0;const proto=this.getProtocol(path2),origpath=path2;path2=path2.slice(proto.length);for(let i2=path2.length-1;i2>=1;--i2)if(code=path2.charCodeAt(i2),code===47){if(!matchedSlash){end=i2;break}}else matchedSlash=!1;return end===-1?hasRoot?"/":this.isUrl(origpath)?proto+path2:proto:hasRoot&&end===1?"//":proto+path2.slice(0,end)},rootname(path2){assertPath(path2),path2=this.toPosix(path2);let root="";if(path2.startsWith("/")?root="/":root=this.getProtocol(path2),this.isUrl(path2)){const index=path2.indexOf("/",root.length);index!==-1?root=path2.slice(0,index):root=path2,root.endsWith("/")||(root+="/")}return root},basename(path2,ext){assertPath(path2),ext&&assertPath(ext),path2=removeUrlParams(this.toPosix(path2));let start=0,end=-1,matchedSlash=!0,i2;if(ext!==void 0&&ext.length>0&&ext.length<=path2.length){if(ext.length===path2.length&&ext===path2)return"";let extIdx=ext.length-1,firstNonSlashEnd=-1;for(i2=path2.length-1;i2>=0;--i2){const code=path2.charCodeAt(i2);if(code===47){if(!matchedSlash){start=i2+1;break}}else firstNonSlashEnd===-1&&(matchedSlash=!1,firstNonSlashEnd=i2+1),extIdx>=0&&(code===ext.charCodeAt(extIdx)?--extIdx===-1&&(end=i2):(extIdx=-1,end=firstNonSlashEnd))}return start===end?end=firstNonSlashEnd:end===-1&&(end=path2.length),path2.slice(start,end)}for(i2=path2.length-1;i2>=0;--i2)if(path2.charCodeAt(i2)===47){if(!matchedSlash){start=i2+1;break}}else end===-1&&(matchedSlash=!1,end=i2+1);return end===-1?"":path2.slice(start,end)},extname(path2){assertPath(path2),path2=removeUrlParams(this.toPosix(path2));let startDot=-1,startPart=0,end=-1,matchedSlash=!0,preDotState=0;for(let i2=path2.length-1;i2>=0;--i2){const code=path2.charCodeAt(i2);if(code===47){if(!matchedSlash){startPart=i2+1;break}continue}end===-1&&(matchedSlash=!1,end=i2+1),code===46?startDot===-1?startDot=i2:preDotState!==1&&(preDotState=1):startDot!==-1&&(preDotState=-1)}return startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1?"":path2.slice(startDot,end)},parse(path2){assertPath(path2);const ret={root:"",dir:"",base:"",ext:"",name:""};if(path2.length===0)return ret;path2=removeUrlParams(this.toPosix(path2));let code=path2.charCodeAt(0);const isAbsolute=this.isAbsolute(path2);let start;ret.root=this.rootname(path2),isAbsolute||this.hasProtocol(path2)?start=1:start=0;let startDot=-1,startPart=0,end=-1,matchedSlash=!0,i2=path2.length-1,preDotState=0;for(;i2>=start;--i2){if(code=path2.charCodeAt(i2),code===47){if(!matchedSlash){startPart=i2+1;break}continue}end===-1&&(matchedSlash=!1,end=i2+1),code===46?startDot===-1?startDot=i2:preDotState!==1&&(preDotState=1):startDot!==-1&&(preDotState=-1)}return startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1?end!==-1&&(startPart===0&&isAbsolute?ret.base=ret.name=path2.slice(1,end):ret.base=ret.name=path2.slice(startPart,end)):(startPart===0&&isAbsolute?(ret.name=path2.slice(1,startDot),ret.base=path2.slice(1,end)):(ret.name=path2.slice(startPart,startDot),ret.base=path2.slice(startPart,end)),ret.ext=path2.slice(startDot,end)),ret.dir=this.dirname(path2),ret},sep:"/",delimiter:":",joinExtensions:[".html"]};function processX(base,ids,depth,result,tags){const id=ids[depth];for(let i2=0;i2<id.length;i2++){const value=id[i2];depth<ids.length-1?processX(base.replace(result[depth],value),ids,depth+1,result,tags):tags.push(base.replace(result[depth],value))}}function createStringVariations(string){const regex=/\{(.*?)\}/g,result=string.match(regex),tags=[];if(result){const ids=[];result.forEach(vars=>{const split=vars.substring(1,vars.length-1).split(",");ids.push(split)}),processX(string,ids,0,result,tags)}else tags.push(string);return tags}const isSingleItem=item=>!Array.isArray(item);class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(bundleId,assetId)=>`${bundleId}${this._bundleIdConnector}${assetId}`,extractAssetIdFromBundle:(bundleId,assetBundleId)=>assetBundleId.replace(`${bundleId}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(bundleIdentifier){if(this._bundleIdConnector=bundleIdentifier.connector??this._bundleIdConnector,this._createBundleAssetId=bundleIdentifier.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=bundleIdentifier.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...preferOrders){preferOrders.forEach(prefer=>{this._preferredOrder.push(prefer),prefer.priority||(prefer.priority=Object.keys(prefer.params))}),this._resolverHash={}}set basePath(basePath){this._basePath=basePath}get basePath(){return this._basePath}set rootPath(rootPath){this._rootPath=rootPath}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(searchParams){if(typeof searchParams=="string")this._defaultSearchParams=searchParams;else{const queryValues=searchParams;this._defaultSearchParams=Object.keys(queryValues).map(key=>`${encodeURIComponent(key)}=${encodeURIComponent(queryValues[key])}`).join("&")}}getAlias(asset){const{alias,src}=asset;return convertToList(alias||src,value=>typeof value=="string"?value:Array.isArray(value)?value.map(v2=>v2?.src??v2):value?.src?value.src:value,!0)}addManifest(manifest){this._manifest&&warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=manifest,manifest.bundles.forEach(bundle=>{this.addBundle(bundle.name,bundle.assets)})}addBundle(bundleId,assets){const assetNames=[];let convertedAssets=assets;Array.isArray(assets)||(convertedAssets=Object.entries(assets).map(([alias,src])=>typeof src=="string"||Array.isArray(src)?{alias,src}:{alias,...src})),convertedAssets.forEach(asset=>{const srcs=asset.src,aliases=asset.alias;let ids;if(typeof aliases=="string"){const bundleAssetId=this._createBundleAssetId(bundleId,aliases);assetNames.push(bundleAssetId),ids=[aliases,bundleAssetId]}else{const bundleIds=aliases.map(name=>this._createBundleAssetId(bundleId,name));assetNames.push(...bundleIds),ids=[...aliases,...bundleIds]}this.add({...asset,alias:ids,src:srcs})}),this._bundles[bundleId]=assetNames}add(aliases){const assets=[];Array.isArray(aliases)?assets.push(...aliases):assets.push(aliases);let keyCheck;keyCheck=key=>{this.hasKey(key)&&warn(`[Resolver] already has key: ${key} overwriting`)},convertToList(assets).forEach(asset=>{const{src}=asset;let{data,format,loadParser}=asset;const srcsToUse=convertToList(src).map(src2=>typeof src2=="string"?createStringVariations(src2):Array.isArray(src2)?src2:[src2]),aliasesToUse=this.getAlias(asset);Array.isArray(aliasesToUse)?aliasesToUse.forEach(keyCheck):keyCheck(aliasesToUse);const resolvedAssets=[];srcsToUse.forEach(srcs=>{srcs.forEach(src2=>{let formattedAsset={};if(typeof src2!="object"){formattedAsset.src=src2;for(let i2=0;i2<this._parsers.length;i2++){const parser=this._parsers[i2];if(parser.test(src2)){formattedAsset=parser.parse(src2);break}}}else data=src2.data??data,format=src2.format??format,loadParser=src2.loadParser??loadParser,formattedAsset={...formattedAsset,...src2};if(!aliasesToUse)throw new Error(`[Resolver] alias is undefined for this asset: ${formattedAsset.src}`);formattedAsset=this._buildResolvedAsset(formattedAsset,{aliases:aliasesToUse,data,format,loadParser}),resolvedAssets.push(formattedAsset)})}),aliasesToUse.forEach(alias=>{this._assetMap[alias]=resolvedAssets})})}resolveBundle(bundleIds){const singleAsset=isSingleItem(bundleIds);bundleIds=convertToList(bundleIds);const out2={};return bundleIds.forEach(bundleId=>{const assetNames=this._bundles[bundleId];if(assetNames){const results=this.resolve(assetNames),assets={};for(const key in results){const asset=results[key];assets[this._extractAssetIdFromBundle(bundleId,key)]=asset}out2[bundleId]=assets}}),singleAsset?out2[bundleIds[0]]:out2}resolveUrl(key){const result=this.resolve(key);if(typeof key!="string"){const out2={};for(const i2 in result)out2[i2]=result[i2].src;return out2}return result.src}resolve(keys){const singleAsset=isSingleItem(keys);keys=convertToList(keys);const result={};return keys.forEach(key=>{if(!this._resolverHash[key])if(this._assetMap[key]){let assets=this._assetMap[key];const preferredOrder=this._getPreferredOrder(assets);preferredOrder?.priority.forEach(priorityKey=>{preferredOrder.params[priorityKey].forEach(value=>{const filteredAssets=assets.filter(asset=>asset[priorityKey]?asset[priorityKey]===value:!1);filteredAssets.length&&(assets=filteredAssets)})}),this._resolverHash[key]=assets[0]}else this._resolverHash[key]=this._buildResolvedAsset({alias:[key],src:key},{});result[key]=this._resolverHash[key]}),singleAsset?result[keys[0]]:result}hasKey(key){return!!this._assetMap[key]}hasBundle(key){return!!this._bundles[key]}_getPreferredOrder(assets){for(let i2=0;i2<assets.length;i2++){const asset=assets[i2],preferred=this._preferredOrder.find(preference=>preference.params.format.includes(asset.format));if(preferred)return preferred}return this._preferredOrder[0]}_appendDefaultSearchParams(url){if(!this._defaultSearchParams)return url;const paramConnector=/\?/.test(url)?"&":"?";return`${url}${paramConnector}${this._defaultSearchParams}`}_buildResolvedAsset(formattedAsset,data){const{aliases,data:assetData,loadParser,format}=data;return(this._basePath||this._rootPath)&&(formattedAsset.src=path.toAbsolute(formattedAsset.src,this._basePath,this._rootPath)),formattedAsset.alias=aliases??formattedAsset.alias??[formattedAsset.src],formattedAsset.src=this._appendDefaultSearchParams(formattedAsset.src),formattedAsset.data={...assetData||{},...formattedAsset.data},formattedAsset.loadParser=loadParser??formattedAsset.loadParser,formattedAsset.format=format??formattedAsset.format??getUrlExtension(formattedAsset.src),formattedAsset}}Resolver.RETINA_PREFIX=/@([0-9\.]+)x/;function getUrlExtension(url){return url.split(".").pop().split("?").shift().split("#").shift()}const copySearchParams=(targetUrl,sourceUrl)=>{const searchParams=sourceUrl.split("?")[1];return searchParams&&(targetUrl+=`?${searchParams}`),targetUrl},_Spritesheet=class _Spritesheet2{constructor(optionsOrTexture,arg1){this.linkedSheets=[];let options=optionsOrTexture;optionsOrTexture?.source instanceof TextureSource&&(options={texture:optionsOrTexture,data:arg1});const{texture,data,cachePrefix=""}=options;this.cachePrefix=cachePrefix,this._texture=texture instanceof Texture?texture:null,this.textureSource=texture.source,this.textures={},this.animations={},this.data=data;const metaResolution=parseFloat(data.meta.scale);metaResolution?(this.resolution=metaResolution,texture.source.resolution=this.resolution):this.resolution=texture.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(resolve=>{this._callback=resolve,this._batchIndex=0,this._frameKeys.length<=_Spritesheet2.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(initialFrameIndex){let frameIndex=initialFrameIndex;const maxFrames=_Spritesheet2.BATCH_SIZE;for(;frameIndex-initialFrameIndex<maxFrames&&frameIndex<this._frameKeys.length;){const i2=this._frameKeys[frameIndex],data=this._frames[i2],rect=data.frame;if(rect){let frame=null,trim=null;const sourceSize=data.trimmed!==!1&&data.sourceSize?data.sourceSize:data.frame,orig=new Rectangle(0,0,Math.floor(sourceSize.w)/this.resolution,Math.floor(sourceSize.h)/this.resolution);data.rotated?frame=new Rectangle(Math.floor(rect.x)/this.resolution,Math.floor(rect.y)/this.resolution,Math.floor(rect.h)/this.resolution,Math.floor(rect.w)/this.resolution):frame=new Rectangle(Math.floor(rect.x)/this.resolution,Math.floor(rect.y)/this.resolution,Math.floor(rect.w)/this.resolution,Math.floor(rect.h)/this.resolution),data.trimmed!==!1&&data.spriteSourceSize&&(trim=new Rectangle(Math.floor(data.spriteSourceSize.x)/this.resolution,Math.floor(data.spriteSourceSize.y)/this.resolution,Math.floor(rect.w)/this.resolution,Math.floor(rect.h)/this.resolution)),this.textures[i2]=new Texture({source:this.textureSource,frame,orig,trim,rotate:data.rotated?2:0,defaultAnchor:data.anchor,defaultBorders:data.borders,label:i2.toString()})}frameIndex++}}_processAnimations(){const animations=this.data.animations||{};for(const animName in animations){this.animations[animName]=[];for(let i2=0;i2<animations[animName].length;i2++){const frameName=animations[animName][i2];this.animations[animName].push(this.textures[frameName])}}}_parseComplete(){const callback=this._callback;this._callback=null,this._batchIndex=0,callback.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*_Spritesheet2.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*_Spritesheet2.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(destroyBase=!1){for(const i2 in this.textures)this.textures[i2].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,destroyBase&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};_Spritesheet.BATCH_SIZE=1e3;let Spritesheet=_Spritesheet;const validImages=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function getCacheableAssets(keys,asset,ignoreMultiPack){const out2={};if(keys.forEach(key=>{out2[key]=asset}),Object.keys(asset.textures).forEach(key=>{out2[`${asset.cachePrefix}${key}`]=asset.textures[key]}),!ignoreMultiPack){const basePath=path.dirname(keys[0]);asset.linkedSheets.forEach((item,i2)=>{const out22=getCacheableAssets([`${basePath}/${asset.data.meta.related_multi_packs[i2]}`],item,!0);Object.assign(out2,out22)})}return out2}const spritesheetAsset={extension:ExtensionType.Asset,cache:{test:asset=>asset instanceof Spritesheet,getCacheableAssets:(keys,asset)=>getCacheableAssets(keys,asset,!1)},resolver:{extension:{type:ExtensionType.ResolveParser,name:"resolveSpritesheet"},test:value=>{const split=value.split("?")[0].split("."),extension=split.pop(),format=split.pop();return extension==="json"&&validImages.includes(format)},parse:value=>{const split=value.split(".");return{resolution:parseFloat(Resolver.RETINA_PREFIX.exec(value)?.[1]??"1"),format:split[split.length-2],src:value}}},loader:{name:"spritesheetLoader",extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal,name:"spritesheetLoader"},async testParse(asset,options){return path.extname(options.src).toLowerCase()===".json"&&!!asset.frames},async parse(asset,options,loader){const{texture:imageTexture,imageFilename,textureOptions,cachePrefix}=options?.data??{};let basePath=path.dirname(options.src);basePath&&basePath.lastIndexOf("/")!==basePath.length-1&&(basePath+="/");let texture;if(imageTexture instanceof Texture)texture=imageTexture;else{const imagePath=copySearchParams(basePath+(imageFilename??asset.meta.image),options.src);texture=(await loader.load([{src:imagePath,data:textureOptions}]))[imagePath]}const spritesheet=new Spritesheet({texture:texture.source,data:asset,cachePrefix});await spritesheet.parse();const multiPacks=asset?.meta?.related_multi_packs;if(Array.isArray(multiPacks)){const promises=[];for(const item of multiPacks){if(typeof item!="string")continue;let itemUrl=basePath+item;options.data?.ignoreMultiPack||(itemUrl=copySearchParams(itemUrl,options.src),promises.push(loader.load({src:itemUrl,data:{textureOptions,ignoreMultiPack:!0}})))}const res=await Promise.all(promises);spritesheet.linkedSheets=res,res.forEach(item=>{item.linkedSheets=[spritesheet].concat(spritesheet.linkedSheets.filter(sp=>sp!==item))})}return spritesheet},async unload(spritesheet,_resolvedAsset,loader){await loader.unload(spritesheet.textureSource._sourceOrigin),spritesheet.destroy(!1)}}};extensions.add(spritesheetAsset);const idCounts=Object.create(null),idHash=Object.create(null);function createIdFromString(value,groupId){let id=idHash[value];return id===void 0&&(idCounts[groupId]===void 0&&(idCounts[groupId]=1),idHash[value]=id=idCounts[groupId]++),id}let context;function getTestContext(){return(!context||context?.isContextLost())&&(context=DOMAdapter.get().createCanvas().getContext("webgl",{})),context}let maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision="mediump";const gl=getTestContext();gl&&gl.getShaderPrecisionFormat&&(maxFragmentPrecision=gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.HIGH_FLOAT).precision?"highp":"mediump")}return maxFragmentPrecision}function addProgramDefines(src,isES300,isFragment){return isES300?src:isFragment?(src=src.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${src}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${src}
        `}function ensurePrecision(src,options,isFragment){const maxSupportedPrecision=isFragment?options.maxSupportedFragmentPrecision:options.maxSupportedVertexPrecision;if(src.substring(0,9)!=="precision"){let precision=isFragment?options.requestedFragmentPrecision:options.requestedVertexPrecision;return precision==="highp"&&maxSupportedPrecision!=="highp"&&(precision="mediump"),`precision ${precision} float;
${src}`}else if(maxSupportedPrecision!=="highp"&&src.substring(0,15)==="precision highp")return src.replace("precision highp","precision mediump");return src}function insertVersion(src,isES300){return isES300?`#version 300 es
${src}`:src}const fragmentNameCache={},VertexNameCache={};function setProgramName(src,{name="pixi-program"},isFragment=!0){name=name.replace(/\s+/g,"-"),name+=isFragment?"-fragment":"-vertex";const nameCache=isFragment?fragmentNameCache:VertexNameCache;return nameCache[name]?(nameCache[name]++,name+=`-${nameCache[name]}`):nameCache[name]=1,src.indexOf("#define SHADER_NAME")!==-1?src:`${`#define SHADER_NAME ${name}`}
${src}`}function stripVersion(src,isES300){return isES300?src.replace("#version 300 es",""):src}const processes={stripVersion,ensurePrecision,addProgramDefines,setProgramName,insertVersion},programCache$1=Object.create(null),_GlProgram=class _GlProgram2{constructor(options){options={..._GlProgram2.defaultOptions,...options};const isES300=options.fragment.indexOf("#version 300 es")!==-1,preprocessorOptions={stripVersion:isES300,ensurePrecision:{requestedFragmentPrecision:options.preferredFragmentPrecision,requestedVertexPrecision:options.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:getMaxFragmentPrecision()},setProgramName:{name:options.name},addProgramDefines:isES300,insertVersion:isES300};let fragment=options.fragment,vertex=options.vertex;Object.keys(processes).forEach(processKey=>{const processOptions=preprocessorOptions[processKey];fragment=processes[processKey](fragment,processOptions,!0),vertex=processes[processKey](vertex,processOptions,!1)}),this.fragment=fragment,this.vertex=vertex,this.transformFeedbackVaryings=options.transformFeedbackVaryings,this._key=createIdFromString(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(options){const key=`${options.vertex}:${options.fragment}`;return programCache$1[key]||(programCache$1[key]=new _GlProgram2(options)),programCache$1[key]}};_GlProgram.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let GlProgram=_GlProgram;const attributeFormatData={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function getAttributeInfoFromFormat(format){return attributeFormatData[format]??attributeFormatData.float32}const WGSL_TO_VERTEX_TYPES={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function extractAttributesFromGpuProgram({source,entryPoint}){const results={},mainVertStart=source.indexOf(`fn ${entryPoint}`);if(mainVertStart!==-1){const arrowFunctionStart=source.indexOf("->",mainVertStart);if(arrowFunctionStart!==-1){const functionArgsSubstring=source.substring(mainVertStart,arrowFunctionStart),inputsRegex=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let match;for(;(match=inputsRegex.exec(functionArgsSubstring))!==null;){const format=WGSL_TO_VERTEX_TYPES[match[3]]??"float32";results[match[2]]={location:parseInt(match[1],10),format,stride:getAttributeInfoFromFormat(format).stride,offset:0,instance:!1,start:0}}}}return results}function extractStructAndGroups(wgsl){const linePattern=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,groupPattern=/@group\((\d+)\)/,bindingPattern=/@binding\((\d+)\)/,namePattern=/var(<[^>]+>)? (\w+)/,typePattern=/:\s*(\w+)/,structPattern=/struct\s+(\w+)\s*{([^}]+)}/g,structMemberPattern=/(\w+)\s*:\s*([\w\<\>]+)/g,structName=/struct\s+(\w+)/,groups=wgsl.match(linePattern)?.map(item=>({group:parseInt(item.match(groupPattern)[1],10),binding:parseInt(item.match(bindingPattern)[1],10),name:item.match(namePattern)[2],isUniform:item.match(namePattern)[1]==="<uniform>",type:item.match(typePattern)[1]}));if(!groups)return{groups:[],structs:[]};const structs=wgsl.match(structPattern)?.map(struct=>{const name=struct.match(structName)[1],members=struct.match(structMemberPattern).reduce((acc,member)=>{const[name2,type]=member.split(":");return acc[name2.trim()]=type.trim(),acc},{});return members?{name,members}:null}).filter(({name})=>groups.some(group=>group.type===name))??[];return{groups,structs}}var ShaderStage=(ShaderStage2=>(ShaderStage2[ShaderStage2.VERTEX=1]="VERTEX",ShaderStage2[ShaderStage2.FRAGMENT=2]="FRAGMENT",ShaderStage2[ShaderStage2.COMPUTE=4]="COMPUTE",ShaderStage2))(ShaderStage||{});function generateGpuLayoutGroups({groups}){const layout=[];for(let i2=0;i2<groups.length;i2++){const group=groups[i2];layout[group.group]||(layout[group.group]=[]),group.isUniform?layout[group.group].push({binding:group.binding,visibility:ShaderStage.VERTEX|ShaderStage.FRAGMENT,buffer:{type:"uniform"}}):group.type==="sampler"?layout[group.group].push({binding:group.binding,visibility:ShaderStage.FRAGMENT,sampler:{type:"filtering"}}):group.type==="texture_2d"&&layout[group.group].push({binding:group.binding,visibility:ShaderStage.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return layout}function generateLayoutHash({groups}){const layout=[];for(let i2=0;i2<groups.length;i2++){const group=groups[i2];layout[group.group]||(layout[group.group]={}),layout[group.group][group.name]=group.binding}return layout}function removeStructAndGroupDuplicates(vertexStructsAndGroups,fragmentStructsAndGroups){const structNameSet=new Set,dupeGroupKeySet=new Set,structs=[...vertexStructsAndGroups.structs,...fragmentStructsAndGroups.structs].filter(struct=>structNameSet.has(struct.name)?!1:(structNameSet.add(struct.name),!0)),groups=[...vertexStructsAndGroups.groups,...fragmentStructsAndGroups.groups].filter(group=>{const key=`${group.name}-${group.binding}`;return dupeGroupKeySet.has(key)?!1:(dupeGroupKeySet.add(key),!0)});return{structs,groups}}const programCache=Object.create(null);class GpuProgram{constructor(options){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment,vertex,layout,gpuLayout,name}=options;if(this.name=name,this.fragment=fragment,this.vertex=vertex,fragment.source===vertex.source){const structsAndGroups=extractStructAndGroups(fragment.source);this.structsAndGroups=structsAndGroups}else{const vertexStructsAndGroups=extractStructAndGroups(vertex.source),fragmentStructsAndGroups=extractStructAndGroups(fragment.source);this.structsAndGroups=removeStructAndGroupDuplicates(vertexStructsAndGroups,fragmentStructsAndGroups)}this.layout=layout??generateLayoutHash(this.structsAndGroups),this.gpuLayout=gpuLayout??generateGpuLayoutGroups(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex,fragment}=this,bigKey=vertex.source+fragment.source+vertex.entryPoint+fragment.entryPoint;this._layoutKey=createIdFromString(bigKey,"program")}get attributeData(){return this._attributeData??(this._attributeData=extractAttributesFromGpuProgram(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(options){const key=`${options.vertex.source}:${options.fragment.source}:${options.fragment.entryPoint}:${options.vertex.entryPoint}`;return programCache[key]||(programCache[key]=new GpuProgram(options)),programCache[key]}}const UNIFORM_TYPES_VALUES=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],UNIFORM_TYPES_MAP=UNIFORM_TYPES_VALUES.reduce((acc,type)=>(acc[type]=!0,acc),{});function getDefaultUniformValue(type,size){switch(type){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*size);case"vec3<f32>":return new Float32Array(3*size);case"vec4<f32>":return new Float32Array(4*size);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const _UniformGroup=class _UniformGroup2{constructor(uniformStructures,options){this._touched=0,this.uid=uid("uniform"),this._resourceType="uniformGroup",this._resourceId=uid("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,options={..._UniformGroup2.defaultOptions,...options},this.uniformStructures=uniformStructures;const uniforms={};for(const i2 in uniformStructures){const uniformData=uniformStructures[i2];if(uniformData.name=i2,uniformData.size=uniformData.size??1,!UNIFORM_TYPES_MAP[uniformData.type])throw new Error(`Uniform type ${uniformData.type} is not supported. Supported uniform types are: ${UNIFORM_TYPES_VALUES.join(", ")}`);uniformData.value??(uniformData.value=getDefaultUniformValue(uniformData.type,uniformData.size)),uniforms[i2]=uniformData.value}this.uniforms=uniforms,this._dirtyId=1,this.ubo=options.ubo,this.isStatic=options.isStatic,this._signature=createIdFromString(Object.keys(uniforms).map(i2=>`${i2}-${uniformStructures[i2].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};_UniformGroup.defaultOptions={ubo:!1,isStatic:!1};let UniformGroup=_UniformGroup;class BindGroup{constructor(resources){this.resources=Object.create(null),this._dirty=!0;let index=0;for(const i2 in resources){const resource=resources[i2];this.setResource(resource,index++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const keyParts=[];let index=0;for(const i2 in this.resources)keyParts[index++]=this.resources[i2]._resourceId;this._key=keyParts.join("|")}setResource(resource,index){const currentResource=this.resources[index];resource!==currentResource&&(currentResource&&resource.off?.("change",this.onResourceChange,this),resource.on?.("change",this.onResourceChange,this),this.resources[index]=resource,this._dirty=!0)}getResource(index){return this.resources[index]}_touch(tick){const resources=this.resources;for(const i2 in resources)resources[i2]._touched=tick}destroy(){const resources=this.resources;for(const i2 in resources)resources[i2].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(resource){if(this._dirty=!0,resource.destroyed){const resources=this.resources;for(const i2 in resources)resources[i2]===resource&&(resources[i2]=null)}else this._updateKey()}}var RendererType=(RendererType2=>(RendererType2[RendererType2.WEBGL=1]="WEBGL",RendererType2[RendererType2.WEBGPU=2]="WEBGPU",RendererType2[RendererType2.BOTH=3]="BOTH",RendererType2))(RendererType||{});class Shader extends EventEmitter{constructor(options){super(),this.uid=uid("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram,glProgram,groups,resources,compatibleRenderers,groupMap}=options;this.gpuProgram=gpuProgram,this.glProgram=glProgram,compatibleRenderers===void 0&&(compatibleRenderers=0,gpuProgram&&(compatibleRenderers|=RendererType.WEBGPU),glProgram&&(compatibleRenderers|=RendererType.WEBGL)),this.compatibleRenderers=compatibleRenderers;const nameHash={};if(!resources&&!groups&&(resources={}),resources&&groups)throw new Error("[Shader] Cannot have both resources and groups");if(!gpuProgram&&groups&&!groupMap)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!gpuProgram&&groups&&groupMap)for(const i2 in groupMap)for(const j2 in groupMap[i2]){const uniformName=groupMap[i2][j2];nameHash[uniformName]={group:i2,binding:j2,name:uniformName}}else if(gpuProgram&&groups&&!groupMap){const groupData=gpuProgram.structsAndGroups.groups;groupMap={},groupData.forEach(data=>{groupMap[data.group]=groupMap[data.group]||{},groupMap[data.group][data.binding]=data.name,nameHash[data.name]=data})}else if(resources){groups={},groupMap={},gpuProgram&&gpuProgram.structsAndGroups.groups.forEach(data=>{groupMap[data.group]=groupMap[data.group]||{},groupMap[data.group][data.binding]=data.name,nameHash[data.name]=data});let bindTick=0;for(const i2 in resources)nameHash[i2]||(groups[99]||(groups[99]=new BindGroup,this._ownedBindGroups.push(groups[99])),nameHash[i2]={group:99,binding:bindTick,name:i2},groupMap[99]=groupMap[99]||{},groupMap[99][bindTick]=i2,bindTick++);for(const i2 in resources){const name=i2;let value=resources[i2];!value.source&&!value._resourceType&&(value=new UniformGroup(value));const data=nameHash[name];data&&(groups[data.group]||(groups[data.group]=new BindGroup,this._ownedBindGroups.push(groups[data.group])),groups[data.group].setResource(value,data.binding))}}this.groups=groups,this._uniformBindMap=groupMap,this.resources=this._buildResourceAccessor(groups,nameHash)}addResource(name,groupIndex,bindIndex){var _a,_b;(_a=this._uniformBindMap)[groupIndex]||(_a[groupIndex]={}),(_b=this._uniformBindMap[groupIndex])[bindIndex]||(_b[bindIndex]=name),this.groups[groupIndex]||(this.groups[groupIndex]=new BindGroup,this._ownedBindGroups.push(this.groups[groupIndex]))}_buildResourceAccessor(groups,nameHash){const uniformsOut={};for(const i2 in nameHash){const data=nameHash[i2];Object.defineProperty(uniformsOut,data.name,{get(){return groups[data.group].getResource(data.binding)},set(value){groups[data.group].setResource(value,data.binding)}})}return uniformsOut}destroy(destroyPrograms=!1){this.emit("destroy",this),destroyPrograms&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(bindGroup=>{bindGroup.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(options){const{gpu,gl,...rest}=options;let gpuProgram,glProgram;return gpu&&(gpuProgram=GpuProgram.from(gpu)),gl&&(glProgram=GlProgram.from(gl)),new Shader({gpuProgram,glProgram,...rest})}}const environments=[];extensions.handleByNamedList(ExtensionType.Environment,environments);async function loadEnvironmentExtensions(skip){if(!skip)for(let i2=0;i2<environments.length;i2++){const env=environments[i2];if(env.value.test()){await env.value.load();return}}}let unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{unsafeEval=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}function earcut$1(data,holeIndices,dim=2){const hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length;let outerNode=linkedList(data,0,outerLen,dim,!0);const triangles=[];if(!outerNode||outerNode.next===outerNode.prev)return triangles;let minX,minY,invSize;if(hasHoles&&(outerNode=eliminateHoles(data,holeIndices,outerNode,dim)),data.length>80*dim){minX=1/0,minY=1/0;let maxX=-1/0,maxY=-1/0;for(let i2=dim;i2<outerLen;i2+=dim){const x2=data[i2],y2=data[i2+1];x2<minX&&(minX=x2),y2<minY&&(minY=y2),x2>maxX&&(maxX=x2),y2>maxY&&(maxY=y2)}invSize=Math.max(maxX-minX,maxY-minY),invSize=invSize!==0?32767/invSize:0}return earcutLinked(outerNode,triangles,dim,minX,minY,invSize,0),triangles}function linkedList(data,start,end,dim,clockwise){let last;if(clockwise===signedArea(data,start,end,dim)>0)for(let i2=start;i2<end;i2+=dim)last=insertNode(i2/dim|0,data[i2],data[i2+1],last);else for(let i2=end-dim;i2>=start;i2-=dim)last=insertNode(i2/dim|0,data[i2],data[i2+1],last);return last&&equals(last,last.next)&&(removeNode(last),last=last.next),last}function filterPoints(start,end){if(!start)return start;end||(end=start);let p2=start,again;do if(again=!1,!p2.steiner&&(equals(p2,p2.next)||area(p2.prev,p2,p2.next)===0)){if(removeNode(p2),p2=end=p2.prev,p2===p2.next)break;again=!0}else p2=p2.next;while(again||p2!==end);return end}function earcutLinked(ear,triangles,dim,minX,minY,invSize,pass){if(!ear)return;!pass&&invSize&&indexCurve(ear,minX,minY,invSize);let stop=ear;for(;ear.prev!==ear.next;){const prev=ear.prev,next=ear.next;if(invSize?isEarHashed(ear,minX,minY,invSize):isEar(ear)){triangles.push(prev.i,ear.i,next.i),removeNode(ear),ear=next.next,stop=next.next;continue}if(ear=next,ear===stop){pass?pass===1?(ear=cureLocalIntersections(filterPoints(ear),triangles),earcutLinked(ear,triangles,dim,minX,minY,invSize,2)):pass===2&&splitEarcut(ear,triangles,dim,minX,minY,invSize):earcutLinked(filterPoints(ear),triangles,dim,minX,minY,invSize,1);break}}}function isEar(ear){const a2=ear.prev,b2=ear,c2=ear.next;if(area(a2,b2,c2)>=0)return!1;const ax=a2.x,bx=b2.x,cx=c2.x,ay=a2.y,by=b2.y,cy=c2.y,x0=Math.min(ax,bx,cx),y0=Math.min(ay,by,cy),x1=Math.max(ax,bx,cx),y1=Math.max(ay,by,cy);let p2=c2.next;for(;p2!==a2;){if(p2.x>=x0&&p2.x<=x1&&p2.y>=y0&&p2.y<=y1&&pointInTriangleExceptFirst(ax,ay,bx,by,cx,cy,p2.x,p2.y)&&area(p2.prev,p2,p2.next)>=0)return!1;p2=p2.next}return!0}function isEarHashed(ear,minX,minY,invSize){const a2=ear.prev,b2=ear,c2=ear.next;if(area(a2,b2,c2)>=0)return!1;const ax=a2.x,bx=b2.x,cx=c2.x,ay=a2.y,by=b2.y,cy=c2.y,x0=Math.min(ax,bx,cx),y0=Math.min(ay,by,cy),x1=Math.max(ax,bx,cx),y1=Math.max(ay,by,cy),minZ=zOrder(x0,y0,minX,minY,invSize),maxZ=zOrder(x1,y1,minX,minY,invSize);let p2=ear.prevZ,n2=ear.nextZ;for(;p2&&p2.z>=minZ&&n2&&n2.z<=maxZ;){if(p2.x>=x0&&p2.x<=x1&&p2.y>=y0&&p2.y<=y1&&p2!==a2&&p2!==c2&&pointInTriangleExceptFirst(ax,ay,bx,by,cx,cy,p2.x,p2.y)&&area(p2.prev,p2,p2.next)>=0||(p2=p2.prevZ,n2.x>=x0&&n2.x<=x1&&n2.y>=y0&&n2.y<=y1&&n2!==a2&&n2!==c2&&pointInTriangleExceptFirst(ax,ay,bx,by,cx,cy,n2.x,n2.y)&&area(n2.prev,n2,n2.next)>=0))return!1;n2=n2.nextZ}for(;p2&&p2.z>=minZ;){if(p2.x>=x0&&p2.x<=x1&&p2.y>=y0&&p2.y<=y1&&p2!==a2&&p2!==c2&&pointInTriangleExceptFirst(ax,ay,bx,by,cx,cy,p2.x,p2.y)&&area(p2.prev,p2,p2.next)>=0)return!1;p2=p2.prevZ}for(;n2&&n2.z<=maxZ;){if(n2.x>=x0&&n2.x<=x1&&n2.y>=y0&&n2.y<=y1&&n2!==a2&&n2!==c2&&pointInTriangleExceptFirst(ax,ay,bx,by,cx,cy,n2.x,n2.y)&&area(n2.prev,n2,n2.next)>=0)return!1;n2=n2.nextZ}return!0}function cureLocalIntersections(start,triangles){let p2=start;do{const a2=p2.prev,b2=p2.next.next;!equals(a2,b2)&&intersects(a2,p2,p2.next,b2)&&locallyInside(a2,b2)&&locallyInside(b2,a2)&&(triangles.push(a2.i,p2.i,b2.i),removeNode(p2),removeNode(p2.next),p2=start=b2),p2=p2.next}while(p2!==start);return filterPoints(p2)}function splitEarcut(start,triangles,dim,minX,minY,invSize){let a2=start;do{let b2=a2.next.next;for(;b2!==a2.prev;){if(a2.i!==b2.i&&isValidDiagonal(a2,b2)){let c2=splitPolygon(a2,b2);a2=filterPoints(a2,a2.next),c2=filterPoints(c2,c2.next),earcutLinked(a2,triangles,dim,minX,minY,invSize,0),earcutLinked(c2,triangles,dim,minX,minY,invSize,0);return}b2=b2.next}a2=a2.next}while(a2!==start)}function eliminateHoles(data,holeIndices,outerNode,dim){const queue=[];for(let i2=0,len=holeIndices.length;i2<len;i2++){const start=holeIndices[i2]*dim,end=i2<len-1?holeIndices[i2+1]*dim:data.length,list=linkedList(data,start,end,dim,!1);list===list.next&&(list.steiner=!0),queue.push(getLeftmost(list))}queue.sort(compareXYSlope);for(let i2=0;i2<queue.length;i2++)outerNode=eliminateHole(queue[i2],outerNode);return outerNode}function compareXYSlope(a2,b2){let result=a2.x-b2.x;if(result===0&&(result=a2.y-b2.y,result===0)){const aSlope=(a2.next.y-a2.y)/(a2.next.x-a2.x),bSlope=(b2.next.y-b2.y)/(b2.next.x-b2.x);result=aSlope-bSlope}return result}function eliminateHole(hole,outerNode){const bridge=findHoleBridge(hole,outerNode);if(!bridge)return outerNode;const bridgeReverse=splitPolygon(bridge,hole);return filterPoints(bridgeReverse,bridgeReverse.next),filterPoints(bridge,bridge.next)}function findHoleBridge(hole,outerNode){let p2=outerNode;const hx=hole.x,hy=hole.y;let qx=-1/0,m2;if(equals(hole,p2))return p2;do{if(equals(hole,p2.next))return p2.next;if(hy<=p2.y&&hy>=p2.next.y&&p2.next.y!==p2.y){const x2=p2.x+(hy-p2.y)*(p2.next.x-p2.x)/(p2.next.y-p2.y);if(x2<=hx&&x2>qx&&(qx=x2,m2=p2.x<p2.next.x?p2:p2.next,x2===hx))return m2}p2=p2.next}while(p2!==outerNode);if(!m2)return null;const stop=m2,mx=m2.x,my=m2.y;let tanMin=1/0;p2=m2;do{if(hx>=p2.x&&p2.x>=mx&&hx!==p2.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p2.x,p2.y)){const tan=Math.abs(hy-p2.y)/(hx-p2.x);locallyInside(p2,hole)&&(tan<tanMin||tan===tanMin&&(p2.x>m2.x||p2.x===m2.x&&sectorContainsSector(m2,p2)))&&(m2=p2,tanMin=tan)}p2=p2.next}while(p2!==stop);return m2}function sectorContainsSector(m2,p2){return area(m2.prev,m2,p2.prev)<0&&area(p2.next,m2,m2.next)<0}function indexCurve(start,minX,minY,invSize){let p2=start;do p2.z===0&&(p2.z=zOrder(p2.x,p2.y,minX,minY,invSize)),p2.prevZ=p2.prev,p2.nextZ=p2.next,p2=p2.next;while(p2!==start);p2.prevZ.nextZ=null,p2.prevZ=null,sortLinked(p2)}function sortLinked(list){let numMerges,inSize=1;do{let p2=list,e2;list=null;let tail=null;for(numMerges=0;p2;){numMerges++;let q2=p2,pSize=0;for(let i2=0;i2<inSize&&(pSize++,q2=q2.nextZ,!!q2);i2++);let qSize=inSize;for(;pSize>0||qSize>0&&q2;)pSize!==0&&(qSize===0||!q2||p2.z<=q2.z)?(e2=p2,p2=p2.nextZ,pSize--):(e2=q2,q2=q2.nextZ,qSize--),tail?tail.nextZ=e2:list=e2,e2.prevZ=tail,tail=e2;p2=q2}tail.nextZ=null,inSize*=2}while(numMerges>1);return list}function zOrder(x2,y2,minX,minY,invSize){return x2=(x2-minX)*invSize|0,y2=(y2-minY)*invSize|0,x2=(x2|x2<<8)&16711935,x2=(x2|x2<<4)&252645135,x2=(x2|x2<<2)&858993459,x2=(x2|x2<<1)&1431655765,y2=(y2|y2<<8)&16711935,y2=(y2|y2<<4)&252645135,y2=(y2|y2<<2)&858993459,y2=(y2|y2<<1)&1431655765,x2|y2<<1}function getLeftmost(start){let p2=start,leftmost=start;do(p2.x<leftmost.x||p2.x===leftmost.x&&p2.y<leftmost.y)&&(leftmost=p2),p2=p2.next;while(p2!==start);return leftmost}function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)>=(ax-px)*(cy-py)&&(ax-px)*(by-py)>=(bx-px)*(ay-py)&&(bx-px)*(cy-py)>=(cx-px)*(by-py)}function pointInTriangleExceptFirst(ax,ay,bx,by,cx,cy,px,py){return!(ax===px&&ay===py)&&pointInTriangle(ax,ay,bx,by,cx,cy,px,py)}function isValidDiagonal(a2,b2){return a2.next.i!==b2.i&&a2.prev.i!==b2.i&&!intersectsPolygon(a2,b2)&&(locallyInside(a2,b2)&&locallyInside(b2,a2)&&middleInside(a2,b2)&&(area(a2.prev,a2,b2.prev)||area(a2,b2.prev,b2))||equals(a2,b2)&&area(a2.prev,a2,a2.next)>0&&area(b2.prev,b2,b2.next)>0)}function area(p2,q2,r2){return(q2.y-p2.y)*(r2.x-q2.x)-(q2.x-p2.x)*(r2.y-q2.y)}function equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function intersects(p1,q1,p2,q2){const o1=sign(area(p1,q1,p2)),o2=sign(area(p1,q1,q2)),o3=sign(area(p2,q2,p1)),o4=sign(area(p2,q2,q1));return!!(o1!==o2&&o3!==o4||o1===0&&onSegment(p1,p2,q1)||o2===0&&onSegment(p1,q2,q1)||o3===0&&onSegment(p2,p1,q2)||o4===0&&onSegment(p2,q1,q2))}function onSegment(p2,q2,r2){return q2.x<=Math.max(p2.x,r2.x)&&q2.x>=Math.min(p2.x,r2.x)&&q2.y<=Math.max(p2.y,r2.y)&&q2.y>=Math.min(p2.y,r2.y)}function sign(num){return num>0?1:num<0?-1:0}function intersectsPolygon(a2,b2){let p2=a2;do{if(p2.i!==a2.i&&p2.next.i!==a2.i&&p2.i!==b2.i&&p2.next.i!==b2.i&&intersects(p2,p2.next,a2,b2))return!0;p2=p2.next}while(p2!==a2);return!1}function locallyInside(a2,b2){return area(a2.prev,a2,a2.next)<0?area(a2,b2,a2.next)>=0&&area(a2,a2.prev,b2)>=0:area(a2,b2,a2.prev)<0||area(a2,a2.next,b2)<0}function middleInside(a2,b2){let p2=a2,inside=!1;const px=(a2.x+b2.x)/2,py=(a2.y+b2.y)/2;do p2.y>py!=p2.next.y>py&&p2.next.y!==p2.y&&px<(p2.next.x-p2.x)*(py-p2.y)/(p2.next.y-p2.y)+p2.x&&(inside=!inside),p2=p2.next;while(p2!==a2);return inside}function splitPolygon(a2,b2){const a22=createNode(a2.i,a2.x,a2.y),b22=createNode(b2.i,b2.x,b2.y),an2=a2.next,bp=b2.prev;return a2.next=b2,b2.prev=a2,a22.next=an2,an2.prev=a22,b22.next=a22,a22.prev=b22,bp.next=b22,b22.prev=bp,b22}function insertNode(i2,x2,y2,last){const p2=createNode(i2,x2,y2);return last?(p2.next=last.next,p2.prev=last,last.next.prev=p2,last.next=p2):(p2.prev=p2,p2.next=p2),p2}function removeNode(p2){p2.next.prev=p2.prev,p2.prev.next=p2.next,p2.prevZ&&(p2.prevZ.nextZ=p2.nextZ),p2.nextZ&&(p2.nextZ.prevZ=p2.prevZ)}function createNode(i2,x2,y2){return{i:i2,x:x2,y:y2,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function signedArea(data,start,end,dim){let sum=0;for(let i2=start,j2=end-dim;i2<end;i2+=dim)sum+=(data[j2]-data[i2])*(data[i2+1]+data[j2+1]),j2=i2;return sum}const earcut=earcut$1.default||earcut$1;var CLEAR=(CLEAR2=>(CLEAR2[CLEAR2.NONE=0]="NONE",CLEAR2[CLEAR2.COLOR=16384]="COLOR",CLEAR2[CLEAR2.STENCIL=1024]="STENCIL",CLEAR2[CLEAR2.DEPTH=256]="DEPTH",CLEAR2[CLEAR2.COLOR_DEPTH=16640]="COLOR_DEPTH",CLEAR2[CLEAR2.COLOR_STENCIL=17408]="COLOR_STENCIL",CLEAR2[CLEAR2.DEPTH_STENCIL=1280]="DEPTH_STENCIL",CLEAR2[CLEAR2.ALL=17664]="ALL",CLEAR2))(CLEAR||{});class SystemRunner{constructor(name){this.items=[],this._name=name}emit(a0,a1,a2,a3,a4,a5,a6,a7){const{name,items}=this;for(let i2=0,len=items.length;i2<len;i2++)items[i2][name](a0,a1,a2,a3,a4,a5,a6,a7);return this}add(item){return item[this._name]&&(this.remove(item),this.items.push(item)),this}remove(item){const index=this.items.indexOf(item);return index!==-1&&this.items.splice(index,1),this}contains(item){return this.items.indexOf(item)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const defaultRunners=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],_AbstractRenderer=class _AbstractRenderer2 extends EventEmitter{constructor(config){super(),this.uid=uid("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=config.type,this.name=config.name,this.config=config;const combinedRunners=[...defaultRunners,...this.config.runners??[]];this._addRunners(...combinedRunners),this._unsafeEvalCheck()}async init(options={}){const skip=options.skipExtensionImports===!0?!0:options.manageImports===!1;await loadEnvironmentExtensions(skip),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const systemName in this._systemsHash)options={...this._systemsHash[systemName].constructor.defaultOptions,...options};options={..._AbstractRenderer2.defaultOptions,...options},this._roundPixels=options.roundPixels?1:0;for(let i2=0;i2<this.runners.init.items.length;i2++)await this.runners.init.items[i2].init(options);this._initOptions=options}render(args,deprecated){let options=args;if(options instanceof Container&&(options={container:options},deprecated&&(deprecation(v8_0_0,"passing a second argument is deprecated, please use render options instead"),options.target=deprecated.renderTexture)),options.target||(options.target=this.view.renderTarget),options.target===this.view.renderTarget&&(this._lastObjectRendered=options.container,options.clearColor??(options.clearColor=this.background.colorRgba),options.clear??(options.clear=this.background.clearBeforeRender)),options.clearColor){const isRGBAArray=Array.isArray(options.clearColor)&&options.clearColor.length===4;options.clearColor=isRGBAArray?options.clearColor:Color.shared.setValue(options.clearColor).toArray()}options.transform||(options.container.updateLocalTransform(),options.transform=options.container.localTransform),options.container.enableRenderGroup(),this.runners.prerender.emit(options),this.runners.renderStart.emit(options),this.runners.render.emit(options),this.runners.renderEnd.emit(options),this.runners.postrender.emit(options)}resize(desiredScreenWidth,desiredScreenHeight,resolution){const previousResolution=this.view.resolution;this.view.resize(desiredScreenWidth,desiredScreenHeight,resolution),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),resolution!==void 0&&resolution!==previousResolution&&this.runners.resolutionChange.emit(resolution)}clear(options={}){const renderer=this;options.target||(options.target=renderer.renderTarget.renderTarget),options.clearColor||(options.clearColor=this.background.colorRgba),options.clear??(options.clear=CLEAR.ALL);const{clear,clearColor,target}=options;Color.shared.setValue(clearColor??this.background.colorRgba),renderer.renderTarget.clear(target,clear,Color.shared.toArray())}get resolution(){return this.view.resolution}set resolution(value){this.view.resolution=value,this.runners.resolutionChange.emit(value)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...runnerIds){runnerIds.forEach(runnerId=>{this.runners[runnerId]=new SystemRunner(runnerId)})}_addSystems(systems){let i2;for(i2 in systems){const val=systems[i2];this._addSystem(val.value,val.name)}}_addSystem(ClassRef,name){const system=new ClassRef(this);if(this[name])throw new Error(`Whoops! The name "${name}" is already in use`);this[name]=system,this._systemsHash[name]=system;for(const i2 in this.runners)this.runners[i2].add(system);return this}_addPipes(pipes,pipeAdaptors){const adaptors=pipeAdaptors.reduce((acc,adaptor)=>(acc[adaptor.name]=adaptor.value,acc),{});pipes.forEach(pipe=>{const PipeClass=pipe.value,name=pipe.name,Adaptor=adaptors[name];this.renderPipes[name]=new PipeClass(this,Adaptor?new Adaptor:null)})}destroy(options=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(options),Object.values(this.runners).forEach(runner=>{runner.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(options){return this.textureGenerator.generateTexture(options)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};_AbstractRenderer.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let AbstractRenderer=_AbstractRenderer,_isWebGLSupported;function isWebGLSupported(failIfMajorPerformanceCaveat){return _isWebGLSupported!==void 0||(_isWebGLSupported=(()=>{const contextOptions={stencil:!0,failIfMajorPerformanceCaveat:failIfMajorPerformanceCaveat??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat};try{if(!DOMAdapter.get().getWebGLRenderingContext())return!1;let gl=DOMAdapter.get().createCanvas().getContext("webgl",contextOptions);const success=!!gl?.getContextAttributes()?.stencil;if(gl){const loseContext=gl.getExtension("WEBGL_lose_context");loseContext&&loseContext.loseContext()}return gl=null,success}catch{return!1}})()),_isWebGLSupported}let _isWebGPUSupported;async function isWebGPUSupported(options={}){return _isWebGPUSupported!==void 0||(_isWebGPUSupported=await(async()=>{const gpu=DOMAdapter.get().getNavigator().gpu;if(!gpu)return!1;try{return await(await gpu.requestAdapter(options)).requestDevice(),!0}catch{return!1}})()),_isWebGPUSupported}const renderPriority=["webgl","webgpu","canvas"];async function autoDetectRenderer(options){let preferredOrder=[];options.preference?(preferredOrder.push(options.preference),renderPriority.forEach(item=>{item!==options.preference&&preferredOrder.push(item)})):preferredOrder=renderPriority.slice();let RendererClass,finalOptions={};for(let i2=0;i2<preferredOrder.length;i2++){const rendererType=preferredOrder[i2];if(rendererType==="webgpu"&&await isWebGPUSupported()){const{WebGPURenderer}=await __vitePreload(async()=>{const{WebGPURenderer:WebGPURenderer2}=await import("./WebGPURenderer.D6FMXlPx.js");return{WebGPURenderer:WebGPURenderer2}},__vite__mapDeps([4,2,5,3]));RendererClass=WebGPURenderer,finalOptions={...options,...options.webgpu};break}else if(rendererType==="webgl"&&isWebGLSupported(options.failIfMajorPerformanceCaveat??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer}=await __vitePreload(async()=>{const{WebGLRenderer:WebGLRenderer2}=await import("./WebGLRenderer.Cl4GGwp7.js");return{WebGLRenderer:WebGLRenderer2}},__vite__mapDeps([6,2,5,3]));RendererClass=WebGLRenderer,finalOptions={...options,...options.webgl};break}else if(rendererType==="canvas")throw finalOptions={...options},new Error("CanvasRenderer is not yet implemented")}if(delete finalOptions.webgpu,delete finalOptions.webgl,!RendererClass)throw new Error("No available renderer for the current environment");const renderer=new RendererClass;return await renderer.init(finalOptions),renderer}const VERSION="8.10.2";class ApplicationInitHook{static init(){globalThis.__PIXI_APP_INIT__?.(this,VERSION)}static destroy(){}}ApplicationInitHook.extension=ExtensionType.Application;class RendererInitHook{constructor(renderer){this._renderer=renderer}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,VERSION)}destroy(){this._renderer=null}}RendererInitHook.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem],name:"initHook",priority:-10};const _Application=class _Application2{constructor(...args){this.stage=new Container,args[0]!==void 0&&deprecation(v8_0_0,"Application constructor options are deprecated, please use Application.init() instead.")}async init(options){options={...options},this.renderer=await autoDetectRenderer(options),_Application2._plugins.forEach(plugin=>{plugin.init.call(this,options)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return deprecation(v8_0_0,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(rendererDestroyOptions=!1,options=!1){const plugins=_Application2._plugins.slice(0);plugins.reverse(),plugins.forEach(plugin=>{plugin.destroy.call(this)}),this.stage.destroy(options),this.stage=null,this.renderer.destroy(rendererDestroyOptions),this.renderer=null}};_Application._plugins=[];let Application=_Application;extensions.handleByList(ExtensionType.Application,Application._plugins);extensions.add(ApplicationInitHook);const genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function fontStringFromTextStyle(style){const fontSizeString=typeof style.fontSize=="number"?`${style.fontSize}px`:style.fontSize;let fontFamilies=style.fontFamily;Array.isArray(style.fontFamily)||(fontFamilies=style.fontFamily.split(","));for(let i2=fontFamilies.length-1;i2>=0;i2--){let fontFamily=fontFamilies[i2].trim();!/([\"\'])[^\'\"]+\1/.test(fontFamily)&&!genericFontFamilies.includes(fontFamily)&&(fontFamily=`"${fontFamily}"`),fontFamilies[i2]=fontFamily}return`${style.fontStyle} ${style.fontVariant} ${style.fontWeight} ${fontSizeString} ${fontFamilies.join(",")}`}const contextSettings={willReadFrequently:!0},_CanvasTextMetrics=class _CanvasTextMetrics2{static get experimentalLetterSpacingSupported(){let result=_CanvasTextMetrics2._experimentalLetterSpacingSupported;if(result===void 0){const proto=DOMAdapter.get().getCanvasRenderingContext2D().prototype;result=_CanvasTextMetrics2._experimentalLetterSpacingSupported="letterSpacing"in proto||"textLetterSpacing"in proto}return result}constructor(text,style,width,height,lines,lineWidths,lineHeight,maxLineWidth,fontProperties){this.text=text,this.style=style,this.width=width,this.height=height,this.lines=lines,this.lineWidths=lineWidths,this.lineHeight=lineHeight,this.maxLineWidth=maxLineWidth,this.fontProperties=fontProperties}static measureText(text=" ",style,canvas=_CanvasTextMetrics2._canvas,wordWrap=style.wordWrap){const font=fontStringFromTextStyle(style),fontProperties=_CanvasTextMetrics2.measureFont(font);fontProperties.fontSize===0&&(fontProperties.fontSize=style.fontSize,fontProperties.ascent=style.fontSize);const context2=_CanvasTextMetrics2.__context;context2.font=font;const lines=(wordWrap?_CanvasTextMetrics2._wordWrap(text,style,canvas):text).split(/(?:\r\n|\r|\n)/),lineWidths=new Array(lines.length);let maxLineWidth=0;for(let i2=0;i2<lines.length;i2++){const lineWidth=_CanvasTextMetrics2._measureText(lines[i2],style.letterSpacing,context2);lineWidths[i2]=lineWidth,maxLineWidth=Math.max(maxLineWidth,lineWidth)}const strokeWidth=style._stroke?.width||0;let width=maxLineWidth+strokeWidth;style.dropShadow&&(width+=style.dropShadow.distance);const lineHeight=style.lineHeight||fontProperties.fontSize;let height=Math.max(lineHeight,fontProperties.fontSize+strokeWidth)+(lines.length-1)*(lineHeight+style.leading);return style.dropShadow&&(height+=style.dropShadow.distance),new _CanvasTextMetrics2(text,style,width,height,lines,lineWidths,lineHeight+style.leading,maxLineWidth,fontProperties)}static _measureText(text,letterSpacing,context2){let useExperimentalLetterSpacing=!1;_CanvasTextMetrics2.experimentalLetterSpacingSupported&&(_CanvasTextMetrics2.experimentalLetterSpacing?(context2.letterSpacing=`${letterSpacing}px`,context2.textLetterSpacing=`${letterSpacing}px`,useExperimentalLetterSpacing=!0):(context2.letterSpacing="0px",context2.textLetterSpacing="0px"));const metrics=context2.measureText(text);let metricWidth=metrics.width;const actualBoundingBoxLeft=-metrics.actualBoundingBoxLeft;let boundsWidth=metrics.actualBoundingBoxRight-actualBoundingBoxLeft;if(metricWidth>0)if(useExperimentalLetterSpacing)metricWidth-=letterSpacing,boundsWidth-=letterSpacing;else{const val=(_CanvasTextMetrics2.graphemeSegmenter(text).length-1)*letterSpacing;metricWidth+=val,boundsWidth+=val}return Math.max(metricWidth,boundsWidth)}static _wordWrap(text,style,canvas=_CanvasTextMetrics2._canvas){const context2=canvas.getContext("2d",contextSettings);let width=0,line="",lines="";const cache=Object.create(null),{letterSpacing,whiteSpace}=style,collapseSpaces=_CanvasTextMetrics2._collapseSpaces(whiteSpace),collapseNewlines=_CanvasTextMetrics2._collapseNewlines(whiteSpace);let canPrependSpaces=!collapseSpaces;const wordWrapWidth=style.wordWrapWidth+letterSpacing,tokens=_CanvasTextMetrics2._tokenize(text);for(let i2=0;i2<tokens.length;i2++){let token=tokens[i2];if(_CanvasTextMetrics2._isNewline(token)){if(!collapseNewlines){lines+=_CanvasTextMetrics2._addLine(line),canPrependSpaces=!collapseSpaces,line="",width=0;continue}token=" "}if(collapseSpaces){const currIsBreakingSpace=_CanvasTextMetrics2.isBreakingSpace(token),lastIsBreakingSpace=_CanvasTextMetrics2.isBreakingSpace(line[line.length-1]);if(currIsBreakingSpace&&lastIsBreakingSpace)continue}const tokenWidth=_CanvasTextMetrics2._getFromCache(token,letterSpacing,cache,context2);if(tokenWidth>wordWrapWidth)if(line!==""&&(lines+=_CanvasTextMetrics2._addLine(line),line="",width=0),_CanvasTextMetrics2.canBreakWords(token,style.breakWords)){const characters=_CanvasTextMetrics2.wordWrapSplit(token);for(let j2=0;j2<characters.length;j2++){let char=characters[j2],lastChar=char,k2=1;for(;characters[j2+k2];){const nextChar=characters[j2+k2];if(!_CanvasTextMetrics2.canBreakChars(lastChar,nextChar,token,j2,style.breakWords))char+=nextChar;else break;lastChar=nextChar,k2++}j2+=k2-1;const characterWidth=_CanvasTextMetrics2._getFromCache(char,letterSpacing,cache,context2);characterWidth+width>wordWrapWidth&&(lines+=_CanvasTextMetrics2._addLine(line),canPrependSpaces=!1,line="",width=0),line+=char,width+=characterWidth}}else{line.length>0&&(lines+=_CanvasTextMetrics2._addLine(line),line="",width=0);const isLastToken=i2===tokens.length-1;lines+=_CanvasTextMetrics2._addLine(token,!isLastToken),canPrependSpaces=!1,line="",width=0}else tokenWidth+width>wordWrapWidth&&(canPrependSpaces=!1,lines+=_CanvasTextMetrics2._addLine(line),line="",width=0),(line.length>0||!_CanvasTextMetrics2.isBreakingSpace(token)||canPrependSpaces)&&(line+=token,width+=tokenWidth)}return lines+=_CanvasTextMetrics2._addLine(line,!1),lines}static _addLine(line,newLine=!0){return line=_CanvasTextMetrics2._trimRight(line),line=newLine?`${line}
`:line,line}static _getFromCache(key,letterSpacing,cache,context2){let width=cache[key];return typeof width!="number"&&(width=_CanvasTextMetrics2._measureText(key,letterSpacing,context2)+letterSpacing,cache[key]=width),width}static _collapseSpaces(whiteSpace){return whiteSpace==="normal"||whiteSpace==="pre-line"}static _collapseNewlines(whiteSpace){return whiteSpace==="normal"}static _trimRight(text){if(typeof text!="string")return"";for(let i2=text.length-1;i2>=0;i2--){const char=text[i2];if(!_CanvasTextMetrics2.isBreakingSpace(char))break;text=text.slice(0,-1)}return text}static _isNewline(char){return typeof char!="string"?!1:_CanvasTextMetrics2._newlines.includes(char.charCodeAt(0))}static isBreakingSpace(char,_nextChar){return typeof char!="string"?!1:_CanvasTextMetrics2._breakingSpaces.includes(char.charCodeAt(0))}static _tokenize(text){const tokens=[];let token="";if(typeof text!="string")return tokens;for(let i2=0;i2<text.length;i2++){const char=text[i2],nextChar=text[i2+1];if(_CanvasTextMetrics2.isBreakingSpace(char,nextChar)||_CanvasTextMetrics2._isNewline(char)){token!==""&&(tokens.push(token),token=""),tokens.push(char);continue}token+=char}return token!==""&&tokens.push(token),tokens}static canBreakWords(_token,breakWords){return breakWords}static canBreakChars(_char,_nextChar,_token,_index,_breakWords){return!0}static wordWrapSplit(token){return _CanvasTextMetrics2.graphemeSegmenter(token)}static measureFont(font){if(_CanvasTextMetrics2._fonts[font])return _CanvasTextMetrics2._fonts[font];const context2=_CanvasTextMetrics2._context;context2.font=font;const metrics=context2.measureText(_CanvasTextMetrics2.METRICS_STRING+_CanvasTextMetrics2.BASELINE_SYMBOL),properties={ascent:metrics.actualBoundingBoxAscent,descent:metrics.actualBoundingBoxDescent,fontSize:metrics.actualBoundingBoxAscent+metrics.actualBoundingBoxDescent};return _CanvasTextMetrics2._fonts[font]=properties,properties}static clearMetrics(font=""){font?delete _CanvasTextMetrics2._fonts[font]:_CanvasTextMetrics2._fonts={}}static get _canvas(){if(!_CanvasTextMetrics2.__canvas){let canvas;try{const c2=new OffscreenCanvas(0,0);if(c2.getContext("2d",contextSettings)?.measureText)return _CanvasTextMetrics2.__canvas=c2,c2;canvas=DOMAdapter.get().createCanvas()}catch{canvas=DOMAdapter.get().createCanvas()}canvas.width=canvas.height=10,_CanvasTextMetrics2.__canvas=canvas}return _CanvasTextMetrics2.__canvas}static get _context(){return _CanvasTextMetrics2.__context||(_CanvasTextMetrics2.__context=_CanvasTextMetrics2._canvas.getContext("2d",contextSettings)),_CanvasTextMetrics2.__context}};_CanvasTextMetrics.METRICS_STRING="|q";_CanvasTextMetrics.BASELINE_SYMBOL="M";_CanvasTextMetrics.BASELINE_MULTIPLIER=1.4;_CanvasTextMetrics.HEIGHT_MULTIPLIER=2;_CanvasTextMetrics.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const segmenter=new Intl.Segmenter;return s2=>{const segments=segmenter.segment(s2),result=[];let i2=0;for(const segment of segments)result[i2++]=segment.segment;return result}}return s2=>[...s2]})();_CanvasTextMetrics.experimentalLetterSpacing=!1;_CanvasTextMetrics._fonts={};_CanvasTextMetrics._newlines=[10,13];_CanvasTextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let CanvasTextMetrics=_CanvasTextMetrics;const emptyColorStops=[{offset:0,color:"white"},{offset:1,color:"black"}],_FillGradient=class _FillGradient2{constructor(...args){this.uid=uid("fillGradient"),this.type="linear",this.colorStops=[];let options=ensureGradientOptions(args);options={...options.type==="radial"?_FillGradient2.defaultRadialOptions:_FillGradient2.defaultLinearOptions,...definedProps(options)},this._textureSize=options.textureSize,this._wrapMode=options.wrapMode,options.type==="radial"?(this.center=options.center,this.outerCenter=options.outerCenter??this.center,this.innerRadius=options.innerRadius,this.outerRadius=options.outerRadius,this.scale=options.scale,this.rotation=options.rotation):(this.start=options.start,this.end=options.end),this.textureSpace=options.textureSpace,this.type=options.type,options.colorStops.forEach(stop=>{this.addColorStop(stop.offset,stop.color)})}addColorStop(offset,color){return this.colorStops.push({offset,color:Color.shared.setValue(color).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:x0,y:y0}=this.start,{x:x1,y:y1}=this.end,dx=x1-x0,dy=y1-y0;const flip=dx<0||dy<0;if(this._wrapMode==="clamp-to-edge"){if(dx<0){const temp=x0;x0=x1,x1=temp,dx*=-1}if(dy<0){const temp=y0;y0=y1,y1=temp,dy*=-1}}const colorStops=this.colorStops.length?this.colorStops:emptyColorStops,defaultSize=this._textureSize,{canvas,context:context2}=getCanvas(defaultSize,1),gradient=flip?context2.createLinearGradient(this._textureSize,0,0,0):context2.createLinearGradient(0,0,this._textureSize,0);addColorStops(gradient,colorStops),context2.fillStyle=gradient,context2.fillRect(0,0,defaultSize,1),this.texture=new Texture({source:new ImageSource({resource:canvas,addressMode:this._wrapMode})});const dist=Math.sqrt(dx*dx+dy*dy),angle=Math.atan2(dy,dx),m2=new Matrix;m2.scale(dist/defaultSize,1),m2.rotate(angle),m2.translate(x0,y0),this.textureSpace==="local"&&m2.scale(defaultSize,defaultSize),this.transform=m2}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const colorStops=this.colorStops.length?this.colorStops:emptyColorStops,defaultSize=this._textureSize,{canvas,context:context2}=getCanvas(defaultSize,defaultSize),{x:x0,y:y0}=this.center,{x:x1,y:y1}=this.outerCenter,r0=this.innerRadius,r1=this.outerRadius,ox=x1-r1,oy=y1-r1,scale=defaultSize/(r1*2),cx=(x0-ox)*scale,cy=(y0-oy)*scale,gradient=context2.createRadialGradient(cx,cy,r0*scale,(x1-ox)*scale,(y1-oy)*scale,r1*scale);addColorStops(gradient,colorStops),context2.fillStyle=colorStops[colorStops.length-1].color,context2.fillRect(0,0,defaultSize,defaultSize),context2.fillStyle=gradient,context2.translate(cx,cy),context2.rotate(this.rotation),context2.scale(1,this.scale),context2.translate(-cx,-cy),context2.fillRect(0,0,defaultSize,defaultSize),this.texture=new Texture({source:new ImageSource({resource:canvas,addressMode:this._wrapMode})});const m2=new Matrix;m2.scale(1/scale,1/scale),m2.translate(ox,oy),this.textureSpace==="local"&&m2.scale(defaultSize,defaultSize),this.transform=m2}get styleKey(){return this.uid}destroy(){this.texture?.destroy(!0),this.texture=null}};_FillGradient.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};_FillGradient.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let FillGradient=_FillGradient;function addColorStops(gradient,colorStops){for(let i2=0;i2<colorStops.length;i2++){const stop=colorStops[i2];gradient.addColorStop(stop.offset,stop.color)}}function getCanvas(width,height){const canvas=DOMAdapter.get().createCanvas(width,height),context2=canvas.getContext("2d");return{canvas,context:context2}}function ensureGradientOptions(args){let options=args[0]??{};return(typeof options=="number"||args[1])&&(deprecation("8.5.2","use options object instead"),options={type:"linear",start:{x:args[0],y:args[1]},end:{x:args[2],y:args[3]},textureSpace:args[4],textureSize:args[5]??FillGradient.defaultLinearOptions.textureSize}),options}const repetitionMap={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class FillPattern{constructor(texture,repetition){this.uid=uid("fillPattern"),this.transform=new Matrix,this._styleKey=null,this.texture=texture,this.transform.scale(1/texture.frame.width,1/texture.frame.height),repetition&&(texture.source.style.addressModeU=repetitionMap[repetition].addressModeU,texture.source.style.addressModeV=repetitionMap[repetition].addressModeV)}setTransform(transform){const texture=this.texture;this.transform.copyFrom(transform),this.transform.invert(),this.transform.scale(1/texture.frame.width,1/texture.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var parseSvgPath,hasRequiredParseSvgPath;function requireParseSvgPath(){if(hasRequiredParseSvgPath)return parseSvgPath;hasRequiredParseSvgPath=1,parseSvgPath=parse2;var length={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},segment=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function parse2(path2){var data=[];return path2.replace(segment,function(_2,command,args){var type=command.toLowerCase();for(args=parseValues(args),type=="m"&&args.length>2&&(data.push([command].concat(args.splice(0,2))),type="l",command=command=="m"?"l":"L");;){if(args.length==length[type])return args.unshift(command),data.push(args);if(args.length<length[type])throw new Error("malformed path data");data.push([command].concat(args.splice(0,length[type])))}}),data}var number=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function parseValues(args){var numbers=args.match(number);return numbers?numbers.map(Number):[]}return parseSvgPath}var parseSvgPathExports=requireParseSvgPath();const parse=getDefaultExportFromCjs(parseSvgPathExports);function parseSVGPath(svgPath,path2){const commands=parse(svgPath),subpaths=[];let currentSubPath=null,lastX=0,lastY=0;for(let i2=0;i2<commands.length;i2++){const command=commands[i2],type=command[0],data=command;switch(type){case"M":lastX=data[1],lastY=data[2],path2.moveTo(lastX,lastY);break;case"m":lastX+=data[1],lastY+=data[2],path2.moveTo(lastX,lastY);break;case"H":lastX=data[1],path2.lineTo(lastX,lastY);break;case"h":lastX+=data[1],path2.lineTo(lastX,lastY);break;case"V":lastY=data[1],path2.lineTo(lastX,lastY);break;case"v":lastY+=data[1],path2.lineTo(lastX,lastY);break;case"L":lastX=data[1],lastY=data[2],path2.lineTo(lastX,lastY);break;case"l":lastX+=data[1],lastY+=data[2],path2.lineTo(lastX,lastY);break;case"C":lastX=data[5],lastY=data[6],path2.bezierCurveTo(data[1],data[2],data[3],data[4],lastX,lastY);break;case"c":path2.bezierCurveTo(lastX+data[1],lastY+data[2],lastX+data[3],lastY+data[4],lastX+data[5],lastY+data[6]),lastX+=data[5],lastY+=data[6];break;case"S":lastX=data[3],lastY=data[4],path2.bezierCurveToShort(data[1],data[2],lastX,lastY);break;case"s":path2.bezierCurveToShort(lastX+data[1],lastY+data[2],lastX+data[3],lastY+data[4]),lastX+=data[3],lastY+=data[4];break;case"Q":lastX=data[3],lastY=data[4],path2.quadraticCurveTo(data[1],data[2],lastX,lastY);break;case"q":path2.quadraticCurveTo(lastX+data[1],lastY+data[2],lastX+data[3],lastY+data[4]),lastX+=data[3],lastY+=data[4];break;case"T":lastX=data[1],lastY=data[2],path2.quadraticCurveToShort(lastX,lastY);break;case"t":lastX+=data[1],lastY+=data[2],path2.quadraticCurveToShort(lastX,lastY);break;case"A":lastX=data[6],lastY=data[7],path2.arcToSvg(data[1],data[2],data[3],data[4],data[5],lastX,lastY);break;case"a":lastX+=data[6],lastY+=data[7],path2.arcToSvg(data[1],data[2],data[3],data[4],data[5],lastX,lastY);break;case"Z":case"z":path2.closePath(),subpaths.length>0&&(currentSubPath=subpaths.pop(),currentSubPath?(lastX=currentSubPath.startX,lastY=currentSubPath.startY):(lastX=0,lastY=0)),currentSubPath=null;break;default:warn(`Unknown SVG path command: ${type}`)}type!=="Z"&&type!=="z"&&currentSubPath===null&&(currentSubPath={startX:lastX,startY:lastY},subpaths.push(currentSubPath))}return path2}class Circle{constructor(x2=0,y2=0,radius=0){this.type="circle",this.x=x2,this.y=y2,this.radius=radius}clone(){return new Circle(this.x,this.y,this.radius)}contains(x2,y2){if(this.radius<=0)return!1;const r2=this.radius*this.radius;let dx=this.x-x2,dy=this.y-y2;return dx*=dx,dy*=dy,dx+dy<=r2}strokeContains(x2,y2,width,alignment=.5){if(this.radius===0)return!1;const dx=this.x-x2,dy=this.y-y2,radius=this.radius,outerWidth=(1-alignment)*width,distance=Math.sqrt(dx*dx+dy*dy);return distance<=radius+outerWidth&&distance>radius-(width-outerWidth)}getBounds(out2){return out2||(out2=new Rectangle),out2.x=this.x-this.radius,out2.y=this.y-this.radius,out2.width=this.radius*2,out2.height=this.radius*2,out2}copyFrom(circle){return this.x=circle.x,this.y=circle.y,this.radius=circle.radius,this}copyTo(circle){return circle.copyFrom(this),circle}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ellipse{constructor(x2=0,y2=0,halfWidth=0,halfHeight=0){this.type="ellipse",this.x=x2,this.y=y2,this.halfWidth=halfWidth,this.halfHeight=halfHeight}clone(){return new Ellipse(this.x,this.y,this.halfWidth,this.halfHeight)}contains(x2,y2){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let normx=(x2-this.x)/this.halfWidth,normy=(y2-this.y)/this.halfHeight;return normx*=normx,normy*=normy,normx+normy<=1}strokeContains(x2,y2,strokeWidth,alignment=.5){const{halfWidth,halfHeight}=this;if(halfWidth<=0||halfHeight<=0)return!1;const strokeOuterWidth=strokeWidth*(1-alignment),strokeInnerWidth=strokeWidth-strokeOuterWidth,innerHorizontal=halfWidth-strokeInnerWidth,innerVertical=halfHeight-strokeInnerWidth,outerHorizontal=halfWidth+strokeOuterWidth,outerVertical=halfHeight+strokeOuterWidth,normalizedX=x2-this.x,normalizedY=y2-this.y,innerEllipse=normalizedX*normalizedX/(innerHorizontal*innerHorizontal)+normalizedY*normalizedY/(innerVertical*innerVertical),outerEllipse=normalizedX*normalizedX/(outerHorizontal*outerHorizontal)+normalizedY*normalizedY/(outerVertical*outerVertical);return innerEllipse>1&&outerEllipse<=1}getBounds(out2){return out2||(out2=new Rectangle),out2.x=this.x-this.halfWidth,out2.y=this.y-this.halfHeight,out2.width=this.halfWidth*2,out2.height=this.halfHeight*2,out2}copyFrom(ellipse){return this.x=ellipse.x,this.y=ellipse.y,this.halfWidth=ellipse.halfWidth,this.halfHeight=ellipse.halfHeight,this}copyTo(ellipse){return ellipse.copyFrom(this),ellipse}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function squaredDistanceToLineSegment(x2,y2,x1,y1,x22,y22){const a2=x2-x1,b2=y2-y1,c2=x22-x1,d2=y22-y1,dot=a2*c2+b2*d2,lenSq=c2*c2+d2*d2;let param=-1;lenSq!==0&&(param=dot/lenSq);let xx,yy;param<0?(xx=x1,yy=y1):param>1?(xx=x22,yy=y22):(xx=x1+param*c2,yy=y1+param*d2);const dx=x2-xx,dy=y2-yy;return dx*dx+dy*dy}let tempRect$3,tempRect2;class Polygon{constructor(...points){this.type="polygon";let flat=Array.isArray(points[0])?points[0]:points;if(typeof flat[0]!="number"){const p2=[];for(let i2=0,il=flat.length;i2<il;i2++)p2.push(flat[i2].x,flat[i2].y);flat=p2}this.points=flat,this.closePath=!0}isClockwise(){let area2=0;const points=this.points,length=points.length;for(let i2=0;i2<length;i2+=2){const x1=points[i2],y1=points[i2+1],x2=points[(i2+2)%length],y2=points[(i2+3)%length];area2+=(x2-x1)*(y2+y1)}return area2<0}containsPolygon(polygon){const thisBounds=this.getBounds(tempRect$3),otherBounds=polygon.getBounds(tempRect2);if(!thisBounds.containsRect(otherBounds))return!1;const points=polygon.points;for(let i2=0;i2<points.length;i2+=2){const x2=points[i2],y2=points[i2+1];if(!this.contains(x2,y2))return!1}return!0}clone(){const points=this.points.slice(),polygon=new Polygon(points);return polygon.closePath=this.closePath,polygon}contains(x2,y2){let inside=!1;const length=this.points.length/2;for(let i2=0,j2=length-1;i2<length;j2=i2++){const xi=this.points[i2*2],yi=this.points[i2*2+1],xj=this.points[j2*2],yj=this.points[j2*2+1];yi>y2!=yj>y2&&x2<(xj-xi)*((y2-yi)/(yj-yi))+xi&&(inside=!inside)}return inside}strokeContains(x2,y2,strokeWidth,alignment=.5){const strokeWidthSquared=strokeWidth*strokeWidth,rightWidthSquared=strokeWidthSquared*(1-alignment),leftWidthSquared=strokeWidthSquared-rightWidthSquared,{points}=this,iterationLength=points.length-(this.closePath?0:2);for(let i2=0;i2<iterationLength;i2+=2){const x1=points[i2],y1=points[i2+1],x22=points[(i2+2)%points.length],y22=points[(i2+3)%points.length],distanceSquared=squaredDistanceToLineSegment(x2,y2,x1,y1,x22,y22),sign2=Math.sign((x22-x1)*(y2-y1)-(y22-y1)*(x2-x1));if(distanceSquared<=(sign2<0?leftWidthSquared:rightWidthSquared))return!0}return!1}getBounds(out2){out2||(out2=new Rectangle);const points=this.points;let minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0;for(let i2=0,n2=points.length;i2<n2;i2+=2){const x2=points[i2],y2=points[i2+1];minX=x2<minX?x2:minX,maxX=x2>maxX?x2:maxX,minY=y2<minY?y2:minY,maxY=y2>maxY?y2:maxY}return out2.x=minX,out2.width=maxX-minX,out2.y=minY,out2.height=maxY-minY,out2}copyFrom(polygon){return this.points=polygon.points.slice(),this.closePath=polygon.closePath,this}copyTo(polygon){return polygon.copyFrom(this),polygon}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((pointsDesc,currentPoint)=>`${pointsDesc}, ${currentPoint}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const isCornerWithinStroke=(pX,pY,cornerX,cornerY,radius,strokeWidthInner,strokeWidthOuter)=>{const dx=pX-cornerX,dy=pY-cornerY,distance=Math.sqrt(dx*dx+dy*dy);return distance>=radius-strokeWidthInner&&distance<=radius+strokeWidthOuter};class RoundedRectangle{constructor(x2=0,y2=0,width=0,height=0,radius=20){this.type="roundedRectangle",this.x=x2,this.y=y2,this.width=width,this.height=height,this.radius=radius}getBounds(out2){return out2||(out2=new Rectangle),out2.x=this.x,out2.y=this.y,out2.width=this.width,out2.height=this.height,out2}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}copyFrom(rectangle){return this.x=rectangle.x,this.y=rectangle.y,this.width=rectangle.width,this.height=rectangle.height,this}copyTo(rectangle){return rectangle.copyFrom(this),rectangle}contains(x2,y2){if(this.width<=0||this.height<=0)return!1;if(x2>=this.x&&x2<=this.x+this.width&&y2>=this.y&&y2<=this.y+this.height){const radius=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(y2>=this.y+radius&&y2<=this.y+this.height-radius||x2>=this.x+radius&&x2<=this.x+this.width-radius)return!0;let dx=x2-(this.x+radius),dy=y2-(this.y+radius);const radius2=radius*radius;if(dx*dx+dy*dy<=radius2||(dx=x2-(this.x+this.width-radius),dx*dx+dy*dy<=radius2)||(dy=y2-(this.y+this.height-radius),dx*dx+dy*dy<=radius2)||(dx=x2-(this.x+radius),dx*dx+dy*dy<=radius2))return!0}return!1}strokeContains(pX,pY,strokeWidth,alignment=.5){const{x:x2,y:y2,width,height,radius}=this,strokeWidthOuter=strokeWidth*(1-alignment),strokeWidthInner=strokeWidth-strokeWidthOuter,innerX=x2+radius,innerY=y2+radius,innerWidth2=width-radius*2,innerHeight2=height-radius*2,rightBound=x2+width,bottomBound=y2+height;return(pX>=x2-strokeWidthOuter&&pX<=x2+strokeWidthInner||pX>=rightBound-strokeWidthInner&&pX<=rightBound+strokeWidthOuter)&&pY>=innerY&&pY<=innerY+innerHeight2||(pY>=y2-strokeWidthOuter&&pY<=y2+strokeWidthInner||pY>=bottomBound-strokeWidthInner&&pY<=bottomBound+strokeWidthOuter)&&pX>=innerX&&pX<=innerX+innerWidth2?!0:pX<innerX&&pY<innerY&&isCornerWithinStroke(pX,pY,innerX,innerY,radius,strokeWidthInner,strokeWidthOuter)||pX>rightBound-radius&&pY<innerY&&isCornerWithinStroke(pX,pY,rightBound-radius,innerY,radius,strokeWidthInner,strokeWidthOuter)||pX>rightBound-radius&&pY>bottomBound-radius&&isCornerWithinStroke(pX,pY,rightBound-radius,bottomBound-radius,radius,strokeWidthInner,strokeWidthOuter)||pX<innerX&&pY>bottomBound-radius&&isCornerWithinStroke(pX,pY,innerX,bottomBound-radius,radius,strokeWidthInner,strokeWidthOuter)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const cachedGroups={};function getTextureBatchBindGroup(textures,size,maxTextures){let uid2=2166136261;for(let i2=0;i2<size;i2++)uid2^=textures[i2].uid,uid2=Math.imul(uid2,16777619),uid2>>>=0;return cachedGroups[uid2]||generateTextureBatchBindGroup(textures,size,uid2,maxTextures)}function generateTextureBatchBindGroup(textures,size,key,maxTextures){const bindGroupResources={};let bindIndex=0;for(let i2=0;i2<maxTextures;i2++){const texture=i2<size?textures[i2]:Texture.EMPTY.source;bindGroupResources[bindIndex++]=texture.source,bindGroupResources[bindIndex++]=texture.style}const bindGroup=new BindGroup(bindGroupResources);return cachedGroups[key]=bindGroup,bindGroup}class ViewableBuffer{constructor(sizeOrBuffer){typeof sizeOrBuffer=="number"?this.rawBinaryData=new ArrayBuffer(sizeOrBuffer):sizeOrBuffer instanceof Uint8Array?this.rawBinaryData=sizeOrBuffer.buffer:this.rawBinaryData=sizeOrBuffer,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(type){return this[`${type}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(type){switch(type){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${type} isn't a valid view type`)}}}function fastCopy(sourceBuffer,destinationBuffer){const lengthDouble=sourceBuffer.byteLength/8|0,sourceFloat64View=new Float64Array(sourceBuffer,0,lengthDouble);new Float64Array(destinationBuffer,0,lengthDouble).set(sourceFloat64View);const remainingBytes=sourceBuffer.byteLength-lengthDouble*8;if(remainingBytes>0){const sourceUint8View=new Uint8Array(sourceBuffer,lengthDouble*8,remainingBytes);new Uint8Array(destinationBuffer,lengthDouble*8,remainingBytes).set(sourceUint8View)}}const BLEND_TO_NPM={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var STENCIL_MODES=(STENCIL_MODES2=>(STENCIL_MODES2[STENCIL_MODES2.DISABLED=0]="DISABLED",STENCIL_MODES2[STENCIL_MODES2.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",STENCIL_MODES2[STENCIL_MODES2.MASK_ACTIVE=2]="MASK_ACTIVE",STENCIL_MODES2[STENCIL_MODES2.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",STENCIL_MODES2[STENCIL_MODES2.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",STENCIL_MODES2[STENCIL_MODES2.NONE=5]="NONE",STENCIL_MODES2))(STENCIL_MODES||{});function getAdjustedBlendModeBlend(blendMode,textureSource){return textureSource.alphaMode==="no-premultiply-alpha"&&BLEND_TO_NPM[blendMode]||blendMode}const fragTemplate=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(maxIfs){let src="";for(let i2=0;i2<maxIfs;++i2)i2>0&&(src+=`
else `),i2<maxIfs-1&&(src+=`if(test == ${i2}.0){}`);return src}function checkMaxIfStatementsInShader(maxIfs,gl){if(maxIfs===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const shader=gl.createShader(gl.FRAGMENT_SHADER);try{for(;;){const fragmentSrc=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(maxIfs));if(gl.shaderSource(shader,fragmentSrc),gl.compileShader(shader),!gl.getShaderParameter(shader,gl.COMPILE_STATUS))maxIfs=maxIfs/2|0;else break}}finally{gl.deleteShader(shader)}return maxIfs}let maxTexturesPerBatchCache=null;function getMaxTexturesPerBatch(){if(maxTexturesPerBatchCache)return maxTexturesPerBatchCache;const gl=getTestContext();return maxTexturesPerBatchCache=gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS),maxTexturesPerBatchCache=checkMaxIfStatementsInShader(maxTexturesPerBatchCache,gl),gl.getExtension("WEBGL_lose_context")?.loseContext(),maxTexturesPerBatchCache}class BatchTextureArray{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let i2=0;i2<this.count;i2++){const t2=this.textures[i2];this.textures[i2]=null,this.ids[t2.uid]=null}this.count=0}}class Batch{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new BatchTextureArray,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const batchPool=[];let batchPoolIndex=0;function getBatchFromPool(){return batchPoolIndex>0?batchPool[--batchPoolIndex]:new Batch}function returnBatchToPool(batch){batchPool[batchPoolIndex++]=batch}let BATCH_TICK=0;const _Batcher=class _Batcher2{constructor(options){this.uid=uid("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],options={..._Batcher2.defaultOptions,...options},options.maxTextures||(deprecation("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),options.maxTextures=getMaxTexturesPerBatch());const{maxTextures,attributesInitialSize,indicesInitialSize}=options;this.attributeBuffer=new ViewableBuffer(attributesInitialSize*4),this.indexBuffer=new Uint16Array(indicesInitialSize),this.maxTextures=maxTextures}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let i2=0;i2<this.batchIndex;i2++)returnBatchToPool(this.batches[i2]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(batchableObject){this._elements[this.elementSize++]=batchableObject,batchableObject._indexStart=this.indexSize,batchableObject._attributeStart=this.attributeSize,batchableObject._batcher=this,this.indexSize+=batchableObject.indexSize,this.attributeSize+=batchableObject.attributeSize*this.vertexSize}checkAndUpdateTexture(batchableObject,texture){const textureId=batchableObject._batch.textures.ids[texture._source.uid];return!textureId&&textureId!==0?!1:(batchableObject._textureId=textureId,batchableObject.texture=texture,!0)}updateElement(batchableObject){this.dirty=!0;const attributeBuffer=this.attributeBuffer;batchableObject.packAsQuad?this.packQuadAttributes(batchableObject,attributeBuffer.float32View,attributeBuffer.uint32View,batchableObject._attributeStart,batchableObject._textureId):this.packAttributes(batchableObject,attributeBuffer.float32View,attributeBuffer.uint32View,batchableObject._attributeStart,batchableObject._textureId)}break(instructionSet){const elements=this._elements;if(!elements[this.elementStart])return;let batch=getBatchFromPool(),textureBatch=batch.textures;textureBatch.clear();const firstElement=elements[this.elementStart];let blendMode=getAdjustedBlendModeBlend(firstElement.blendMode,firstElement.texture._source),topology=firstElement.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const f32=this.attributeBuffer.float32View,u32=this.attributeBuffer.uint32View,indexBuffer=this.indexBuffer;let size=this._batchIndexSize,start=this._batchIndexStart,action="startBatch";const maxTextures=this.maxTextures;for(let i2=this.elementStart;i2<this.elementSize;++i2){const element=elements[i2];elements[i2]=null;const source=element.texture._source,adjustedBlendMode=getAdjustedBlendModeBlend(element.blendMode,source),breakRequired=blendMode!==adjustedBlendMode||topology!==element.topology;if(source._batchTick===BATCH_TICK&&!breakRequired){element._textureId=source._textureBindLocation,size+=element.indexSize,element.packAsQuad?(this.packQuadAttributes(element,f32,u32,element._attributeStart,element._textureId),this.packQuadIndex(indexBuffer,element._indexStart,element._attributeStart/this.vertexSize)):(this.packAttributes(element,f32,u32,element._attributeStart,element._textureId),this.packIndex(element,indexBuffer,element._indexStart,element._attributeStart/this.vertexSize)),element._batch=batch;continue}source._batchTick=BATCH_TICK,(textureBatch.count>=maxTextures||breakRequired)&&(this._finishBatch(batch,start,size-start,textureBatch,blendMode,topology,instructionSet,action),action="renderBatch",start=size,blendMode=adjustedBlendMode,topology=element.topology,batch=getBatchFromPool(),textureBatch=batch.textures,textureBatch.clear(),++BATCH_TICK),element._textureId=source._textureBindLocation=textureBatch.count,textureBatch.ids[source.uid]=textureBatch.count,textureBatch.textures[textureBatch.count++]=source,element._batch=batch,size+=element.indexSize,element.packAsQuad?(this.packQuadAttributes(element,f32,u32,element._attributeStart,element._textureId),this.packQuadIndex(indexBuffer,element._indexStart,element._attributeStart/this.vertexSize)):(this.packAttributes(element,f32,u32,element._attributeStart,element._textureId),this.packIndex(element,indexBuffer,element._indexStart,element._attributeStart/this.vertexSize))}textureBatch.count>0&&(this._finishBatch(batch,start,size-start,textureBatch,blendMode,topology,instructionSet,action),start=size,++BATCH_TICK),this.elementStart=this.elementSize,this._batchIndexStart=start,this._batchIndexSize=size}_finishBatch(batch,indexStart,indexSize,textureBatch,blendMode,topology,instructionSet,action){batch.gpuBindGroup=null,batch.bindGroup=null,batch.action=action,batch.batcher=this,batch.textures=textureBatch,batch.blendMode=blendMode,batch.topology=topology,batch.start=indexStart,batch.size=indexSize,++BATCH_TICK,this.batches[this.batchIndex++]=batch,instructionSet.add(batch)}finish(instructionSet){this.break(instructionSet)}ensureAttributeBuffer(size){size*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(size*4)}ensureIndexBuffer(size){size<=this.indexBuffer.length||this._resizeIndexBuffer(size)}_resizeAttributeBuffer(size){const newSize=Math.max(size,this.attributeBuffer.size*2),newArrayBuffer=new ViewableBuffer(newSize);fastCopy(this.attributeBuffer.rawBinaryData,newArrayBuffer.rawBinaryData),this.attributeBuffer=newArrayBuffer}_resizeIndexBuffer(size){const indexBuffer=this.indexBuffer;let newSize=Math.max(size,indexBuffer.length*1.5);newSize+=newSize%2;const newIndexBuffer=newSize>65535?new Uint32Array(newSize):new Uint16Array(newSize);if(newIndexBuffer.BYTES_PER_ELEMENT!==indexBuffer.BYTES_PER_ELEMENT)for(let i2=0;i2<indexBuffer.length;i2++)newIndexBuffer[i2]=indexBuffer[i2];else fastCopy(indexBuffer.buffer,newIndexBuffer.buffer);this.indexBuffer=newIndexBuffer}packQuadIndex(indexBuffer,index,indicesOffset){indexBuffer[index]=indicesOffset+0,indexBuffer[index+1]=indicesOffset+1,indexBuffer[index+2]=indicesOffset+2,indexBuffer[index+3]=indicesOffset+0,indexBuffer[index+4]=indicesOffset+2,indexBuffer[index+5]=indicesOffset+3}packIndex(element,indexBuffer,index,indicesOffset){const indices=element.indices,size=element.indexSize,indexOffset=element.indexOffset,attributeOffset=element.attributeOffset;for(let i2=0;i2<size;i2++)indexBuffer[index++]=indicesOffset+indices[i2+indexOffset]-attributeOffset}destroy(){for(let i2=0;i2<this.batches.length;i2++)returnBatchToPool(this.batches[i2]);this.batches=null;for(let i2=0;i2<this._elements.length;i2++)this._elements[i2]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};_Batcher.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Batcher=_Batcher;var BufferUsage=(BufferUsage2=>(BufferUsage2[BufferUsage2.MAP_READ=1]="MAP_READ",BufferUsage2[BufferUsage2.MAP_WRITE=2]="MAP_WRITE",BufferUsage2[BufferUsage2.COPY_SRC=4]="COPY_SRC",BufferUsage2[BufferUsage2.COPY_DST=8]="COPY_DST",BufferUsage2[BufferUsage2.INDEX=16]="INDEX",BufferUsage2[BufferUsage2.VERTEX=32]="VERTEX",BufferUsage2[BufferUsage2.UNIFORM=64]="UNIFORM",BufferUsage2[BufferUsage2.STORAGE=128]="STORAGE",BufferUsage2[BufferUsage2.INDIRECT=256]="INDIRECT",BufferUsage2[BufferUsage2.QUERY_RESOLVE=512]="QUERY_RESOLVE",BufferUsage2[BufferUsage2.STATIC=1024]="STATIC",BufferUsage2))(BufferUsage||{});class Buffer extends EventEmitter{constructor(options){let{data,size}=options;const{usage,label,shrinkToFit}=options;super(),this.uid=uid("buffer"),this._resourceType="buffer",this._resourceId=uid("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,data instanceof Array&&(data=new Float32Array(data)),this._data=data,size??(size=data?.byteLength);const mappedAtCreation=!!data;this.descriptor={size,usage,mappedAtCreation,label},this.shrinkToFit=shrinkToFit??!0}get data(){return this._data}set data(value){this.setDataWithSize(value,value.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&BufferUsage.STATIC)}set static(value){value?this.descriptor.usage|=BufferUsage.STATIC:this.descriptor.usage&=~BufferUsage.STATIC}setDataWithSize(value,size,syncGPU){if(this._updateID++,this._updateSize=size*value.BYTES_PER_ELEMENT,this._data===value){syncGPU&&this.emit("update",this);return}const oldData=this._data;if(this._data=value,this._dataInt32=null,!oldData||oldData.length!==value.length){!this.shrinkToFit&&oldData&&value.byteLength<oldData.byteLength?syncGPU&&this.emit("update",this):(this.descriptor.size=value.byteLength,this._resourceId=uid("resource"),this.emit("change",this));return}syncGPU&&this.emit("update",this)}update(sizeInBytes){this._updateSize=sizeInBytes??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function ensureIsBuffer(buffer,index){if(!(buffer instanceof Buffer)){let usage=index?BufferUsage.INDEX:BufferUsage.VERTEX;buffer instanceof Array&&(index?(buffer=new Uint32Array(buffer),usage=BufferUsage.INDEX|BufferUsage.COPY_DST):(buffer=new Float32Array(buffer),usage=BufferUsage.VERTEX|BufferUsage.COPY_DST)),buffer=new Buffer({data:buffer,label:index?"index-mesh-buffer":"vertex-mesh-buffer",usage})}return buffer}function getGeometryBounds(geometry,attributeId,bounds){const attribute=geometry.getAttribute(attributeId);if(!attribute)return bounds.minX=0,bounds.minY=0,bounds.maxX=0,bounds.maxY=0,bounds;const data=attribute.buffer.data;let minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;const byteSize=data.BYTES_PER_ELEMENT,offset=(attribute.offset||0)/byteSize,stride=(attribute.stride||2*4)/byteSize;for(let i2=offset;i2<data.length;i2+=stride){const x2=data[i2],y2=data[i2+1];x2>maxX&&(maxX=x2),y2>maxY&&(maxY=y2),x2<minX&&(minX=x2),y2<minY&&(minY=y2)}return bounds.minX=minX,bounds.minY=minY,bounds.maxX=maxX,bounds.maxY=maxY,bounds}function ensureIsAttribute(attribute){return(attribute instanceof Buffer||Array.isArray(attribute)||attribute.BYTES_PER_ELEMENT)&&(attribute={buffer:attribute}),attribute.buffer=ensureIsBuffer(attribute.buffer,!1),attribute}class Geometry extends EventEmitter{constructor(options={}){super(),this.uid=uid("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Bounds,this._boundsDirty=!0;const{attributes,indexBuffer,topology}=options;if(this.buffers=[],this.attributes={},attributes)for(const i2 in attributes)this.addAttribute(i2,attributes[i2]);this.instanceCount=options.instanceCount??1,indexBuffer&&this.addIndex(indexBuffer),this.topology=topology||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(id){return this.attributes[id]}getIndex(){return this.indexBuffer}getBuffer(id){return this.getAttribute(id).buffer}getSize(){for(const i2 in this.attributes){const attribute=this.attributes[i2];return attribute.buffer.data.length/(attribute.stride/4||attribute.size)}return 0}addAttribute(name,attributeOption){const attribute=ensureIsAttribute(attributeOption);this.buffers.indexOf(attribute.buffer)===-1&&(this.buffers.push(attribute.buffer),attribute.buffer.on("update",this.onBufferUpdate,this),attribute.buffer.on("change",this.onBufferUpdate,this)),this.attributes[name]=attribute}addIndex(indexBuffer){this.indexBuffer=ensureIsBuffer(indexBuffer,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,getGeometryBounds(this,"aPosition",this._bounds)):this._bounds}destroy(destroyBuffers=!1){this.emit("destroy",this),this.removeAllListeners(),destroyBuffers&&this.buffers.forEach(buffer=>buffer.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const placeHolderBufferData=new Float32Array(1),placeHolderIndexData=new Uint32Array(1);class BatchGeometry extends Geometry{constructor(){const attributeBuffer=new Buffer({data:placeHolderBufferData,label:"attribute-batch-buffer",usage:BufferUsage.VERTEX|BufferUsage.COPY_DST,shrinkToFit:!1}),indexBuffer=new Buffer({data:placeHolderIndexData,label:"index-batch-buffer",usage:BufferUsage.INDEX|BufferUsage.COPY_DST,shrinkToFit:!1}),stride=6*4;super({attributes:{aPosition:{buffer:attributeBuffer,format:"float32x2",stride,offset:0},aUV:{buffer:attributeBuffer,format:"float32x2",stride,offset:2*4},aColor:{buffer:attributeBuffer,format:"unorm8x4",stride,offset:4*4},aTextureIdAndRound:{buffer:attributeBuffer,format:"uint16x2",stride,offset:5*4}},indexBuffer})}}function addBits(srcParts,parts,name){if(srcParts)for(const i2 in srcParts){const id=i2.toLocaleLowerCase(),part=parts[id];if(part){let sanitisedPart=srcParts[i2];i2==="header"&&(sanitisedPart=sanitisedPart.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),name&&part.push(`//----${name}----//`),part.push(sanitisedPart)}else warn(`${i2} placement hook does not exist in shader`)}}const findHooksRx=/\{\{(.*?)\}\}/g;function compileHooks(programSrc){const parts={};return(programSrc.match(findHooksRx)?.map(hook=>hook.replace(/[{()}]/g,""))??[]).forEach(hook=>{parts[hook]=[]}),parts}function extractInputs(fragmentSource,out2){let match;const regex=/@in\s+([^;]+);/g;for(;(match=regex.exec(fragmentSource))!==null;)out2.push(match[1])}function compileInputs(fragments,template,sort=!1){const results=[];extractInputs(template,results),fragments.forEach(fragment=>{fragment.header&&extractInputs(fragment.header,results)});const mainInput=results;sort&&mainInput.sort();const finalString=mainInput.map((inValue,i2)=>`       @location(${i2}) ${inValue},`).join(`
`);let cleanedString=template.replace(/@in\s+[^;]+;\s*/g,"");return cleanedString=cleanedString.replace("{{in}}",`
${finalString}
`),cleanedString}function extractOutputs(fragmentSource,out2){let match;const regex=/@out\s+([^;]+);/g;for(;(match=regex.exec(fragmentSource))!==null;)out2.push(match[1])}function extractVariableName(value){const match=/\b(\w+)\s*:/g.exec(value);return match?match[1]:""}function stripVariable(value){const regex=/@.*?\s+/g;return value.replace(regex,"")}function compileOutputs(fragments,template){const results=[];extractOutputs(template,results),fragments.forEach(fragment=>{fragment.header&&extractOutputs(fragment.header,results)});let index=0;const mainStruct=results.sort().map(inValue=>inValue.indexOf("builtin")>-1?inValue:`@location(${index++}) ${inValue}`).join(`,
`),mainStart=results.sort().map(inValue=>`       var ${stripVariable(inValue)};`).join(`
`),mainEnd=`return VSOutput(
            ${results.sort().map(inValue=>` ${extractVariableName(inValue)}`).join(`,
`)});`;let compiledCode=template.replace(/@out\s+[^;]+;\s*/g,"");return compiledCode=compiledCode.replace("{{struct}}",`
${mainStruct}
`),compiledCode=compiledCode.replace("{{start}}",`
${mainStart}
`),compiledCode=compiledCode.replace("{{return}}",`
${mainEnd}
`),compiledCode}function injectBits(templateSrc,fragmentParts){let out2=templateSrc;for(const i2 in fragmentParts){const parts=fragmentParts[i2];parts.join(`
`).length?out2=out2.replace(`{{${i2}}}`,`//-----${i2} START-----//
${parts.join(`
`)}
//----${i2} FINISH----//`):out2=out2.replace(`{{${i2}}}`,"")}return out2}const cacheMap=Object.create(null),bitCacheMap=new Map;let CACHE_UID=0;function compileHighShader({template,bits}){const cacheId=generateCacheId(template,bits);if(cacheMap[cacheId])return cacheMap[cacheId];const{vertex,fragment}=compileInputsAndOutputs(template,bits);return cacheMap[cacheId]=compileBits(vertex,fragment,bits),cacheMap[cacheId]}function compileHighShaderGl({template,bits}){const cacheId=generateCacheId(template,bits);return cacheMap[cacheId]||(cacheMap[cacheId]=compileBits(template.vertex,template.fragment,bits)),cacheMap[cacheId]}function compileInputsAndOutputs(template,bits){const vertexFragments=bits.map(shaderBit=>shaderBit.vertex).filter(v2=>!!v2),fragmentFragments=bits.map(shaderBit=>shaderBit.fragment).filter(v2=>!!v2);let compiledVertex=compileInputs(vertexFragments,template.vertex,!0);compiledVertex=compileOutputs(vertexFragments,compiledVertex);const compiledFragment=compileInputs(fragmentFragments,template.fragment,!0);return{vertex:compiledVertex,fragment:compiledFragment}}function generateCacheId(template,bits){return bits.map(highFragment=>(bitCacheMap.has(highFragment)||bitCacheMap.set(highFragment,CACHE_UID++),bitCacheMap.get(highFragment))).sort((a2,b2)=>a2-b2).join("-")+template.vertex+template.fragment}function compileBits(vertex,fragment,bits){const vertexParts=compileHooks(vertex),fragmentParts=compileHooks(fragment);return bits.forEach(shaderBit=>{addBits(shaderBit.vertex,vertexParts,shaderBit.name),addBits(shaderBit.fragment,fragmentParts,shaderBit.name)}),{vertex:injectBits(vertex,vertexParts),fragment:injectBits(fragment,fragmentParts)}}const vertexGPUTemplate=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,fragmentGPUTemplate=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,vertexGlTemplate=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,fragmentGlTemplate=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,globalUniformsBit={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},globalUniformsBitGl={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function compileHighShaderGpuProgram({bits,name}){const source=compileHighShader({template:{fragment:fragmentGPUTemplate,vertex:vertexGPUTemplate},bits:[globalUniformsBit,...bits]});return GpuProgram.from({name,vertex:{source:source.vertex,entryPoint:"main"},fragment:{source:source.fragment,entryPoint:"main"}})}function compileHighShaderGlProgram({bits,name}){return new GlProgram({name,...compileHighShaderGl({template:{vertex:vertexGlTemplate,fragment:fragmentGlTemplate},bits:[globalUniformsBitGl,...bits]})})}const colorBit={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},colorBitGl={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},textureBatchBitGpuCache={};function generateBindingSrc(maxTextures){const src=[];if(maxTextures===1)src.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),src.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let bindingIndex=0;for(let i2=0;i2<maxTextures;i2++)src.push(`@group(1) @binding(${bindingIndex++}) var textureSource${i2+1}: texture_2d<f32>;`),src.push(`@group(1) @binding(${bindingIndex++}) var textureSampler${i2+1}: sampler;`)}return src.join(`
`)}function generateSampleSrc(maxTextures){const src=[];if(maxTextures===1)src.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{src.push("switch vTextureId {");for(let i2=0;i2<maxTextures;i2++)i2===maxTextures-1?src.push("  default:{"):src.push(`  case ${i2}:{`),src.push(`      outColor = textureSampleGrad(textureSource${i2+1}, textureSampler${i2+1}, vUV, uvDx, uvDy);`),src.push("      break;}");src.push("}")}return src.join(`
`)}function generateTextureBatchBit(maxTextures){return textureBatchBitGpuCache[maxTextures]||(textureBatchBitGpuCache[maxTextures]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${generateBindingSrc(maxTextures)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${generateSampleSrc(maxTextures)}
            `}}),textureBatchBitGpuCache[maxTextures]}const textureBatchBitGlCache={};function generateSampleGlSrc(maxTextures){const src=[];for(let i2=0;i2<maxTextures;i2++)i2>0&&src.push("else"),i2<maxTextures-1&&src.push(`if(vTextureId < ${i2}.5)`),src.push("{"),src.push(`	outColor = texture(uTextures[${i2}], vUV);`),src.push("}");return src.join(`
`)}function generateTextureBatchBitGl(maxTextures){return textureBatchBitGlCache[maxTextures]||(textureBatchBitGlCache[maxTextures]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${maxTextures}];

            `,main:`

                ${generateSampleGlSrc(maxTextures)}
            `}}),textureBatchBitGlCache[maxTextures]}const roundPixelsBit={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},roundPixelsBitGl={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},batchSamplersUniformGroupHash={};function getBatchSamplersUniformGroup(maxTextures){let batchSamplersUniformGroup=batchSamplersUniformGroupHash[maxTextures];if(batchSamplersUniformGroup)return batchSamplersUniformGroup;const sampleValues=new Int32Array(maxTextures);for(let i2=0;i2<maxTextures;i2++)sampleValues[i2]=i2;return batchSamplersUniformGroup=batchSamplersUniformGroupHash[maxTextures]=new UniformGroup({uTextures:{value:sampleValues,type:"i32",size:maxTextures}},{isStatic:!0}),batchSamplersUniformGroup}class DefaultShader extends Shader{constructor(maxTextures){const glProgram=compileHighShaderGlProgram({name:"batch",bits:[colorBitGl,generateTextureBatchBitGl(maxTextures),roundPixelsBitGl]}),gpuProgram=compileHighShaderGpuProgram({name:"batch",bits:[colorBit,generateTextureBatchBit(maxTextures),roundPixelsBit]});super({glProgram,gpuProgram,resources:{batchSamplers:getBatchSamplersUniformGroup(maxTextures)}})}}let defaultShader=null;const _DefaultBatcher=class _DefaultBatcher2 extends Batcher{constructor(options){super(options),this.geometry=new BatchGeometry,this.name=_DefaultBatcher2.extension.name,this.vertexSize=6,defaultShader??(defaultShader=new DefaultShader(options.maxTextures)),this.shader=defaultShader}packAttributes(element,float32View,uint32View,index,textureId){const textureIdAndRound=textureId<<16|element.roundPixels&65535,wt2=element.transform,a2=wt2.a,b2=wt2.b,c2=wt2.c,d2=wt2.d,tx=wt2.tx,ty=wt2.ty,{positions,uvs}=element,argb=element.color,offset=element.attributeOffset,end=offset+element.attributeSize;for(let i2=offset;i2<end;i2++){const i22=i2*2,x2=positions[i22],y2=positions[i22+1];float32View[index++]=a2*x2+c2*y2+tx,float32View[index++]=d2*y2+b2*x2+ty,float32View[index++]=uvs[i22],float32View[index++]=uvs[i22+1],uint32View[index++]=argb,uint32View[index++]=textureIdAndRound}}packQuadAttributes(element,float32View,uint32View,index,textureId){const texture=element.texture,wt2=element.transform,a2=wt2.a,b2=wt2.b,c2=wt2.c,d2=wt2.d,tx=wt2.tx,ty=wt2.ty,bounds=element.bounds,w0=bounds.maxX,w1=bounds.minX,h0=bounds.maxY,h1=bounds.minY,uvs=texture.uvs,argb=element.color,textureIdAndRound=textureId<<16|element.roundPixels&65535;float32View[index+0]=a2*w1+c2*h1+tx,float32View[index+1]=d2*h1+b2*w1+ty,float32View[index+2]=uvs.x0,float32View[index+3]=uvs.y0,uint32View[index+4]=argb,uint32View[index+5]=textureIdAndRound,float32View[index+6]=a2*w0+c2*h1+tx,float32View[index+7]=d2*h1+b2*w0+ty,float32View[index+8]=uvs.x1,float32View[index+9]=uvs.y1,uint32View[index+10]=argb,uint32View[index+11]=textureIdAndRound,float32View[index+12]=a2*w0+c2*h0+tx,float32View[index+13]=d2*h0+b2*w0+ty,float32View[index+14]=uvs.x2,float32View[index+15]=uvs.y2,uint32View[index+16]=argb,uint32View[index+17]=textureIdAndRound,float32View[index+18]=a2*w1+c2*h0+tx,float32View[index+19]=d2*h0+b2*w1+ty,float32View[index+20]=uvs.x3,float32View[index+21]=uvs.y3,uint32View[index+22]=argb,uint32View[index+23]=textureIdAndRound}};_DefaultBatcher.extension={type:[ExtensionType.Batcher],name:"default"};let DefaultBatcher=_DefaultBatcher;function buildUvs(vertices,verticesStride,verticesOffset,uvs,uvsOffset,uvsStride,size,matrix=null){let index=0;verticesOffset*=verticesStride,uvsOffset*=uvsStride;const a2=matrix.a,b2=matrix.b,c2=matrix.c,d2=matrix.d,tx=matrix.tx,ty=matrix.ty;for(;index<size;){const x2=vertices[verticesOffset],y2=vertices[verticesOffset+1];uvs[uvsOffset]=a2*x2+c2*y2+tx,uvs[uvsOffset+1]=b2*x2+d2*y2+ty,uvsOffset+=uvsStride,verticesOffset+=verticesStride,index++}}function buildSimpleUvs(uvs,uvsOffset,uvsStride,size){let index=0;for(uvsOffset*=uvsStride;index<size;)uvs[uvsOffset]=0,uvs[uvsOffset+1]=0,uvsOffset+=uvsStride,index++}function transformVertices(vertices,m2,offset,stride,size){const a2=m2.a,b2=m2.b,c2=m2.c,d2=m2.d,tx=m2.tx,ty=m2.ty;offset||(offset=0),stride||(stride=2),size||(size=vertices.length/stride-offset);let index=offset*stride;for(let i2=0;i2<size;i2++){const x2=vertices[index],y2=vertices[index+1];vertices[index]=a2*x2+c2*y2+tx,vertices[index+1]=b2*x2+d2*y2+ty,index+=stride}}const identityMatrix=new Matrix;class BatchableGraphics{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const rgb=this.baseColor,bgr=rgb>>16|rgb&65280|(rgb&255)<<16,renderable=this.renderable;return renderable?multiplyHexColors(bgr,renderable.groupColor)+(this.alpha*renderable.groupAlpha*255<<24):bgr+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||identityMatrix}copyTo(gpuBuffer){gpuBuffer.indexOffset=this.indexOffset,gpuBuffer.indexSize=this.indexSize,gpuBuffer.attributeOffset=this.attributeOffset,gpuBuffer.attributeSize=this.attributeSize,gpuBuffer.baseColor=this.baseColor,gpuBuffer.alpha=this.alpha,gpuBuffer.texture=this.texture,gpuBuffer.geometryData=this.geometryData,gpuBuffer.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const buildCircle={extension:{type:ExtensionType.ShapeBuilder,name:"circle"},build(shape,points){let x2,y2,dx,dy,rx,ry;if(shape.type==="circle"){const circle=shape;if(rx=ry=circle.radius,rx<=0)return!1;x2=circle.x,y2=circle.y,dx=dy=0}else if(shape.type==="ellipse"){const ellipse=shape;if(rx=ellipse.halfWidth,ry=ellipse.halfHeight,rx<=0||ry<=0)return!1;x2=ellipse.x,y2=ellipse.y,dx=dy=0}else{const roundedRect=shape,halfWidth=roundedRect.width/2,halfHeight=roundedRect.height/2;x2=roundedRect.x+halfWidth,y2=roundedRect.y+halfHeight,rx=ry=Math.max(0,Math.min(roundedRect.radius,Math.min(halfWidth,halfHeight))),dx=halfWidth-rx,dy=halfHeight-ry}if(dx<0||dy<0)return!1;const n2=Math.ceil(2.3*Math.sqrt(rx+ry)),m2=n2*8+(dx?4:0)+(dy?4:0);if(m2===0)return!1;if(n2===0)return points[0]=points[6]=x2+dx,points[1]=points[3]=y2+dy,points[2]=points[4]=x2-dx,points[5]=points[7]=y2-dy,!0;let j1=0,j2=n2*4+(dx?2:0)+2,j3=j2,j4=m2,x0=dx+rx,y0=dy,x1=x2+x0,x22=x2-x0,y1=y2+y0;if(points[j1++]=x1,points[j1++]=y1,points[--j2]=y1,points[--j2]=x22,dy){const y222=y2-y0;points[j3++]=x22,points[j3++]=y222,points[--j4]=y222,points[--j4]=x1}for(let i2=1;i2<n2;i2++){const a2=Math.PI/2*(i2/n2),x02=dx+Math.cos(a2)*rx,y02=dy+Math.sin(a2)*ry,x12=x2+x02,x222=x2-x02,y12=y2+y02,y222=y2-y02;points[j1++]=x12,points[j1++]=y12,points[--j2]=y12,points[--j2]=x222,points[j3++]=x222,points[j3++]=y222,points[--j4]=y222,points[--j4]=x12}x0=dx,y0=dy+ry,x1=x2+x0,x22=x2-x0,y1=y2+y0;const y22=y2-y0;return points[j1++]=x1,points[j1++]=y1,points[--j4]=y22,points[--j4]=x1,dx&&(points[j1++]=x22,points[j1++]=y1,points[--j4]=y22,points[--j4]=x22),!0},triangulate(points,vertices,verticesStride,verticesOffset,indices,indicesOffset){if(points.length===0)return;let centerX=0,centerY=0;for(let i2=0;i2<points.length;i2+=2)centerX+=points[i2],centerY+=points[i2+1];centerX/=points.length/2,centerY/=points.length/2;let count2=verticesOffset;vertices[count2*verticesStride]=centerX,vertices[count2*verticesStride+1]=centerY;const centerIndex=count2++;for(let i2=0;i2<points.length;i2+=2)vertices[count2*verticesStride]=points[i2],vertices[count2*verticesStride+1]=points[i2+1],i2>0&&(indices[indicesOffset++]=count2,indices[indicesOffset++]=centerIndex,indices[indicesOffset++]=count2-1),count2++;indices[indicesOffset++]=centerIndex+1,indices[indicesOffset++]=centerIndex,indices[indicesOffset++]=count2-1}},buildEllipse={...buildCircle,extension:{...buildCircle.extension,name:"ellipse"}},buildRoundedRectangle={...buildCircle,extension:{...buildCircle.extension,name:"roundedRectangle"}},closePointEps=1e-4,curveEps=1e-4;function getOrientationOfPoints(points){const m2=points.length;if(m2<6)return 1;let area2=0;for(let i2=0,x1=points[m2-2],y1=points[m2-1];i2<m2;i2+=2){const x2=points[i2],y2=points[i2+1];area2+=(x2-x1)*(y2+y1),x1=x2,y1=y2}return area2<0?-1:1}function square(x2,y2,nx,ny,innerWeight,outerWeight,clockwise,verts){const ix=x2-nx*innerWeight,iy=y2-ny*innerWeight,ox=x2+nx*outerWeight,oy=y2+ny*outerWeight;let exx,eyy;clockwise?(exx=ny,eyy=-nx):(exx=-ny,eyy=nx);const eix=ix+exx,eiy=iy+eyy,eox=ox+exx,eoy=oy+eyy;return verts.push(eix,eiy),verts.push(eox,eoy),2}function round(cx,cy,sx,sy,ex,ey,verts,clockwise){const cx2p0x=sx-cx,cy2p0y=sy-cy;let angle0=Math.atan2(cx2p0x,cy2p0y),angle1=Math.atan2(ex-cx,ey-cy);clockwise&&angle0<angle1?angle0+=Math.PI*2:!clockwise&&angle0>angle1&&(angle1+=Math.PI*2);let startAngle=angle0;const angleDiff=angle1-angle0,absAngleDiff=Math.abs(angleDiff),radius=Math.sqrt(cx2p0x*cx2p0x+cy2p0y*cy2p0y),segCount=(15*absAngleDiff*Math.sqrt(radius)/Math.PI>>0)+1,angleInc=angleDiff/segCount;if(startAngle+=angleInc,clockwise){verts.push(cx,cy),verts.push(sx,sy);for(let i2=1,angle=startAngle;i2<segCount;i2++,angle+=angleInc)verts.push(cx,cy),verts.push(cx+Math.sin(angle)*radius,cy+Math.cos(angle)*radius);verts.push(cx,cy),verts.push(ex,ey)}else{verts.push(sx,sy),verts.push(cx,cy);for(let i2=1,angle=startAngle;i2<segCount;i2++,angle+=angleInc)verts.push(cx+Math.sin(angle)*radius,cy+Math.cos(angle)*radius),verts.push(cx,cy);verts.push(ex,ey),verts.push(cx,cy)}return segCount*2}function buildLine(points,lineStyle,flipAlignment,closed,vertices,indices){const eps=closePointEps;if(points.length===0)return;const style=lineStyle;let alignment=style.alignment;if(lineStyle.alignment!==.5){let orientation=getOrientationOfPoints(points);alignment=(alignment-.5)*orientation+.5}const firstPoint=new Point(points[0],points[1]),lastPoint=new Point(points[points.length-2],points[points.length-1]),closedShape=closed,closedPath=Math.abs(firstPoint.x-lastPoint.x)<eps&&Math.abs(firstPoint.y-lastPoint.y)<eps;if(closedShape){points=points.slice(),closedPath&&(points.pop(),points.pop(),lastPoint.set(points[points.length-2],points[points.length-1]));const midPointX=(firstPoint.x+lastPoint.x)*.5,midPointY=(lastPoint.y+firstPoint.y)*.5;points.unshift(midPointX,midPointY),points.push(midPointX,midPointY)}const verts=vertices,length=points.length/2;let indexCount=points.length;const indexStart=verts.length/2,width=style.width/2,widthSquared=width*width,miterLimitSquared=style.miterLimit*style.miterLimit;let x0=points[0],y0=points[1],x1=points[2],y1=points[3],x2=0,y2=0,perpX=-(y0-y1),perpY=x0-x1,perp1x=0,perp1y=0,dist=Math.sqrt(perpX*perpX+perpY*perpY);perpX/=dist,perpY/=dist,perpX*=width,perpY*=width;const ratio=alignment,innerWeight=(1-ratio)*2,outerWeight=ratio*2;closedShape||(style.cap==="round"?indexCount+=round(x0-perpX*(innerWeight-outerWeight)*.5,y0-perpY*(innerWeight-outerWeight)*.5,x0-perpX*innerWeight,y0-perpY*innerWeight,x0+perpX*outerWeight,y0+perpY*outerWeight,verts,!0)+2:style.cap==="square"&&(indexCount+=square(x0,y0,perpX,perpY,innerWeight,outerWeight,!0,verts))),verts.push(x0-perpX*innerWeight,y0-perpY*innerWeight),verts.push(x0+perpX*outerWeight,y0+perpY*outerWeight);for(let i2=1;i2<length-1;++i2){x0=points[(i2-1)*2],y0=points[(i2-1)*2+1],x1=points[i2*2],y1=points[i2*2+1],x2=points[(i2+1)*2],y2=points[(i2+1)*2+1],perpX=-(y0-y1),perpY=x0-x1,dist=Math.sqrt(perpX*perpX+perpY*perpY),perpX/=dist,perpY/=dist,perpX*=width,perpY*=width,perp1x=-(y1-y2),perp1y=x1-x2,dist=Math.sqrt(perp1x*perp1x+perp1y*perp1y),perp1x/=dist,perp1y/=dist,perp1x*=width,perp1y*=width;const dx0=x1-x0,dy0=y0-y1,dx1=x1-x2,dy1=y2-y1,dot=dx0*dx1+dy0*dy1,cross=dy0*dx1-dy1*dx0,clockwise=cross<0;if(Math.abs(cross)<.001*Math.abs(dot)){verts.push(x1-perpX*innerWeight,y1-perpY*innerWeight),verts.push(x1+perpX*outerWeight,y1+perpY*outerWeight),dot>=0&&(style.join==="round"?indexCount+=round(x1,y1,x1-perpX*innerWeight,y1-perpY*innerWeight,x1-perp1x*innerWeight,y1-perp1y*innerWeight,verts,!1)+4:indexCount+=2,verts.push(x1-perp1x*outerWeight,y1-perp1y*outerWeight),verts.push(x1+perp1x*innerWeight,y1+perp1y*innerWeight));continue}const c1=(-perpX+x0)*(-perpY+y1)-(-perpX+x1)*(-perpY+y0),c2=(-perp1x+x2)*(-perp1y+y1)-(-perp1x+x1)*(-perp1y+y2),px=(dx0*c2-dx1*c1)/cross,py=(dy1*c1-dy0*c2)/cross,pDist=(px-x1)*(px-x1)+(py-y1)*(py-y1),imx=x1+(px-x1)*innerWeight,imy=y1+(py-y1)*innerWeight,omx=x1-(px-x1)*outerWeight,omy=y1-(py-y1)*outerWeight,smallerInsideSegmentSq=Math.min(dx0*dx0+dy0*dy0,dx1*dx1+dy1*dy1),insideWeight=clockwise?innerWeight:outerWeight,smallerInsideDiagonalSq=smallerInsideSegmentSq+insideWeight*insideWeight*widthSquared;pDist<=smallerInsideDiagonalSq?style.join==="bevel"||pDist/widthSquared>miterLimitSquared?(clockwise?(verts.push(imx,imy),verts.push(x1+perpX*outerWeight,y1+perpY*outerWeight),verts.push(imx,imy),verts.push(x1+perp1x*outerWeight,y1+perp1y*outerWeight)):(verts.push(x1-perpX*innerWeight,y1-perpY*innerWeight),verts.push(omx,omy),verts.push(x1-perp1x*innerWeight,y1-perp1y*innerWeight),verts.push(omx,omy)),indexCount+=2):style.join==="round"?clockwise?(verts.push(imx,imy),verts.push(x1+perpX*outerWeight,y1+perpY*outerWeight),indexCount+=round(x1,y1,x1+perpX*outerWeight,y1+perpY*outerWeight,x1+perp1x*outerWeight,y1+perp1y*outerWeight,verts,!0)+4,verts.push(imx,imy),verts.push(x1+perp1x*outerWeight,y1+perp1y*outerWeight)):(verts.push(x1-perpX*innerWeight,y1-perpY*innerWeight),verts.push(omx,omy),indexCount+=round(x1,y1,x1-perpX*innerWeight,y1-perpY*innerWeight,x1-perp1x*innerWeight,y1-perp1y*innerWeight,verts,!1)+4,verts.push(x1-perp1x*innerWeight,y1-perp1y*innerWeight),verts.push(omx,omy)):(verts.push(imx,imy),verts.push(omx,omy)):(verts.push(x1-perpX*innerWeight,y1-perpY*innerWeight),verts.push(x1+perpX*outerWeight,y1+perpY*outerWeight),style.join==="round"?clockwise?indexCount+=round(x1,y1,x1+perpX*outerWeight,y1+perpY*outerWeight,x1+perp1x*outerWeight,y1+perp1y*outerWeight,verts,!0)+2:indexCount+=round(x1,y1,x1-perpX*innerWeight,y1-perpY*innerWeight,x1-perp1x*innerWeight,y1-perp1y*innerWeight,verts,!1)+2:style.join==="miter"&&pDist/widthSquared<=miterLimitSquared&&(clockwise?(verts.push(omx,omy),verts.push(omx,omy)):(verts.push(imx,imy),verts.push(imx,imy)),indexCount+=2),verts.push(x1-perp1x*innerWeight,y1-perp1y*innerWeight),verts.push(x1+perp1x*outerWeight,y1+perp1y*outerWeight),indexCount+=2)}x0=points[(length-2)*2],y0=points[(length-2)*2+1],x1=points[(length-1)*2],y1=points[(length-1)*2+1],perpX=-(y0-y1),perpY=x0-x1,dist=Math.sqrt(perpX*perpX+perpY*perpY),perpX/=dist,perpY/=dist,perpX*=width,perpY*=width,verts.push(x1-perpX*innerWeight,y1-perpY*innerWeight),verts.push(x1+perpX*outerWeight,y1+perpY*outerWeight),closedShape||(style.cap==="round"?indexCount+=round(x1-perpX*(innerWeight-outerWeight)*.5,y1-perpY*(innerWeight-outerWeight)*.5,x1-perpX*innerWeight,y1-perpY*innerWeight,x1+perpX*outerWeight,y1+perpY*outerWeight,verts,!1)+2:style.cap==="square"&&(indexCount+=square(x1,y1,perpX,perpY,innerWeight,outerWeight,!1,verts)));const eps2=curveEps*curveEps;for(let i2=indexStart;i2<indexCount+indexStart-2;++i2)x0=verts[i2*2],y0=verts[i2*2+1],x1=verts[(i2+1)*2],y1=verts[(i2+1)*2+1],x2=verts[(i2+2)*2],y2=verts[(i2+2)*2+1],!(Math.abs(x0*(y1-y2)+x1*(y2-y0)+x2*(y0-y1))<eps2)&&indices.push(i2,i2+1,i2+2)}function buildPixelLine(points,closed,vertices,indices){const eps=closePointEps;if(points.length===0)return;const fx=points[0],fy=points[1],lx=points[points.length-2],ly=points[points.length-1],closePath=closed||Math.abs(fx-lx)<eps&&Math.abs(fy-ly)<eps,verts=vertices,length=points.length/2,indexStart=verts.length/2;for(let i2=0;i2<length;i2++)verts.push(points[i2*2]),verts.push(points[i2*2+1]);for(let i2=0;i2<length-1;i2++)indices.push(indexStart+i2,indexStart+i2+1);closePath&&indices.push(indexStart+length-1,indexStart)}function triangulateWithHoles(points,holes,vertices,verticesStride,verticesOffset,indices,indicesOffset){const triangles=earcut(points,holes,2);if(!triangles)return;for(let i2=0;i2<triangles.length;i2+=3)indices[indicesOffset++]=triangles[i2]+verticesOffset,indices[indicesOffset++]=triangles[i2+1]+verticesOffset,indices[indicesOffset++]=triangles[i2+2]+verticesOffset;let index=verticesOffset*verticesStride;for(let i2=0;i2<points.length;i2+=2)vertices[index]=points[i2],vertices[index+1]=points[i2+1],index+=verticesStride}const emptyArray=[],buildPolygon={extension:{type:ExtensionType.ShapeBuilder,name:"polygon"},build(shape,points){for(let i2=0;i2<shape.points.length;i2++)points[i2]=shape.points[i2];return!0},triangulate(points,vertices,verticesStride,verticesOffset,indices,indicesOffset){triangulateWithHoles(points,emptyArray,vertices,verticesStride,verticesOffset,indices,indicesOffset)}},buildRectangle={extension:{type:ExtensionType.ShapeBuilder,name:"rectangle"},build(shape,points){const rectData=shape,x2=rectData.x,y2=rectData.y,width=rectData.width,height=rectData.height;return width>0&&height>0?(points[0]=x2,points[1]=y2,points[2]=x2+width,points[3]=y2,points[4]=x2+width,points[5]=y2+height,points[6]=x2,points[7]=y2+height,!0):!1},triangulate(points,vertices,verticesStride,verticesOffset,indices,indicesOffset){let count2=0;verticesOffset*=verticesStride,vertices[verticesOffset+count2]=points[0],vertices[verticesOffset+count2+1]=points[1],count2+=verticesStride,vertices[verticesOffset+count2]=points[2],vertices[verticesOffset+count2+1]=points[3],count2+=verticesStride,vertices[verticesOffset+count2]=points[6],vertices[verticesOffset+count2+1]=points[7],count2+=verticesStride,vertices[verticesOffset+count2]=points[4],vertices[verticesOffset+count2+1]=points[5],count2+=verticesStride;const verticesIndex=verticesOffset/verticesStride;indices[indicesOffset++]=verticesIndex,indices[indicesOffset++]=verticesIndex+1,indices[indicesOffset++]=verticesIndex+2,indices[indicesOffset++]=verticesIndex+1,indices[indicesOffset++]=verticesIndex+3,indices[indicesOffset++]=verticesIndex+2}},buildTriangle={extension:{type:ExtensionType.ShapeBuilder,name:"triangle"},build(shape,points){return points[0]=shape.x,points[1]=shape.y,points[2]=shape.x2,points[3]=shape.y2,points[4]=shape.x3,points[5]=shape.y3,!0},triangulate(points,vertices,verticesStride,verticesOffset,indices,indicesOffset){let count2=0;verticesOffset*=verticesStride,vertices[verticesOffset+count2]=points[0],vertices[verticesOffset+count2+1]=points[1],count2+=verticesStride,vertices[verticesOffset+count2]=points[2],vertices[verticesOffset+count2+1]=points[3],count2+=verticesStride,vertices[verticesOffset+count2]=points[4],vertices[verticesOffset+count2+1]=points[5];const verticesIndex=verticesOffset/verticesStride;indices[indicesOffset++]=verticesIndex,indices[indicesOffset++]=verticesIndex+1,indices[indicesOffset++]=verticesIndex+2}},tempTextureMatrix$1=new Matrix,tempRect$2=new Rectangle;function generateTextureMatrix(out2,style,shape,matrix){const textureMatrix=style.matrix?out2.copyFrom(style.matrix).invert():out2.identity();if(style.textureSpace==="local"){const bounds=shape.getBounds(tempRect$2);style.width&&bounds.pad(style.width);const{x:tx,y:ty}=bounds,sx=1/bounds.width,sy=1/bounds.height,mTx=-tx*sx,mTy=-ty*sy,a1=textureMatrix.a,b1=textureMatrix.b,c1=textureMatrix.c,d1=textureMatrix.d;textureMatrix.a*=sx,textureMatrix.b*=sx,textureMatrix.c*=sy,textureMatrix.d*=sy,textureMatrix.tx=mTx*a1+mTy*c1+textureMatrix.tx,textureMatrix.ty=mTx*b1+mTy*d1+textureMatrix.ty}else textureMatrix.translate(style.texture.frame.x,style.texture.frame.y),textureMatrix.scale(1/style.texture.source.width,1/style.texture.source.height);const sourceStyle=style.texture.source.style;return!(style.fill instanceof FillGradient)&&sourceStyle.addressMode==="clamp-to-edge"&&(sourceStyle.addressMode="repeat",sourceStyle.update()),matrix&&textureMatrix.append(tempTextureMatrix$1.copyFrom(matrix).invert()),textureMatrix}const shapeBuilders={};extensions.handleByMap(ExtensionType.ShapeBuilder,shapeBuilders);extensions.add(buildRectangle,buildPolygon,buildTriangle,buildCircle,buildEllipse,buildRoundedRectangle);const tempRect$1=new Rectangle,tempTextureMatrix=new Matrix;function buildContextBatches(context2,gpuContext){const{geometryData,batches}=gpuContext;batches.length=0,geometryData.indices.length=0,geometryData.vertices.length=0,geometryData.uvs.length=0;for(let i2=0;i2<context2.instructions.length;i2++){const instruction=context2.instructions[i2];if(instruction.action==="texture")addTextureToGeometryData(instruction.data,batches,geometryData);else if(instruction.action==="fill"||instruction.action==="stroke"){const isStroke=instruction.action==="stroke",shapePath=instruction.data.path.shapePath,style=instruction.data.style,hole=instruction.data.hole;isStroke&&hole&&addShapePathToGeometryData(hole.shapePath,style,!0,batches,geometryData),hole&&(shapePath.shapePrimitives[shapePath.shapePrimitives.length-1].holes=hole.shapePath.shapePrimitives),addShapePathToGeometryData(shapePath,style,isStroke,batches,geometryData)}}}function addTextureToGeometryData(data,batches,geometryData){const points=[],build=shapeBuilders.rectangle,rect=tempRect$1;rect.x=data.dx,rect.y=data.dy,rect.width=data.dw,rect.height=data.dh;const matrix=data.transform;if(!build.build(rect,points))return;const{vertices,uvs,indices}=geometryData,indexOffset=indices.length,vertOffset=vertices.length/2;matrix&&transformVertices(points,matrix),build.triangulate(points,vertices,2,vertOffset,indices,indexOffset);const texture=data.image,textureUvs=texture.uvs;uvs.push(textureUvs.x0,textureUvs.y0,textureUvs.x1,textureUvs.y1,textureUvs.x3,textureUvs.y3,textureUvs.x2,textureUvs.y2);const graphicsBatch=BigPool.get(BatchableGraphics);graphicsBatch.indexOffset=indexOffset,graphicsBatch.indexSize=indices.length-indexOffset,graphicsBatch.attributeOffset=vertOffset,graphicsBatch.attributeSize=vertices.length/2-vertOffset,graphicsBatch.baseColor=data.style,graphicsBatch.alpha=data.alpha,graphicsBatch.texture=texture,graphicsBatch.geometryData=geometryData,batches.push(graphicsBatch)}function addShapePathToGeometryData(shapePath,style,isStroke,batches,geometryData){const{vertices,uvs,indices}=geometryData;shapePath.shapePrimitives.forEach(({shape,transform:matrix,holes})=>{const points=[],build=shapeBuilders[shape.type];if(!build.build(shape,points))return;const indexOffset=indices.length,vertOffset=vertices.length/2;let topology="triangle-list";if(matrix&&transformVertices(points,matrix),isStroke){const close=shape.closePath??!0,lineStyle=style;lineStyle.pixelLine?(buildPixelLine(points,close,vertices,indices),topology="line-list"):buildLine(points,lineStyle,!1,close,vertices,indices)}else if(holes){const holeIndices=[],otherPoints=points.slice();getHoleArrays(holes).forEach(holePoints=>{holeIndices.push(otherPoints.length/2),otherPoints.push(...holePoints)}),triangulateWithHoles(otherPoints,holeIndices,vertices,2,vertOffset,indices,indexOffset)}else build.triangulate(points,vertices,2,vertOffset,indices,indexOffset);const uvsOffset=uvs.length/2,texture=style.texture;if(texture!==Texture.WHITE){const textureMatrix=generateTextureMatrix(tempTextureMatrix,style,shape,matrix);buildUvs(vertices,2,vertOffset,uvs,uvsOffset,2,vertices.length/2-vertOffset,textureMatrix)}else buildSimpleUvs(uvs,uvsOffset,2,vertices.length/2-vertOffset);const graphicsBatch=BigPool.get(BatchableGraphics);graphicsBatch.indexOffset=indexOffset,graphicsBatch.indexSize=indices.length-indexOffset,graphicsBatch.attributeOffset=vertOffset,graphicsBatch.attributeSize=vertices.length/2-vertOffset,graphicsBatch.baseColor=style.color,graphicsBatch.alpha=style.alpha,graphicsBatch.texture=texture,graphicsBatch.geometryData=geometryData,graphicsBatch.topology=topology,batches.push(graphicsBatch)})}function getHoleArrays(holePrimitives){const holeArrays=[];for(let k2=0;k2<holePrimitives.length;k2++){const holePrimitive=holePrimitives[k2].shape,holePoints=[];shapeBuilders[holePrimitive.type].build(holePrimitive,holePoints)&&holeArrays.push(holePoints)}return holeArrays}class GpuGraphicsContext{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class GraphicsContextRenderData{constructor(){this.instructions=new InstructionSet}init(maxTextures){this.batcher=new DefaultBatcher({maxTextures}),this.instructions.reset()}get geometry(){return deprecation(v8_3_4,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const _GraphicsContextSystem=class _GraphicsContextSystem2{constructor(renderer){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=renderer,renderer.renderableGC.addManagedHash(this,"_gpuContextHash"),renderer.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(options){_GraphicsContextSystem2.defaultOptions.bezierSmoothness=options?.bezierSmoothness??_GraphicsContextSystem2.defaultOptions.bezierSmoothness}getContextRenderData(context2){return this._graphicsDataContextHash[context2.uid]||this._initContextRenderData(context2)}updateGpuContext(context2){let gpuContext=this._gpuContextHash[context2.uid]||this._initContext(context2);if(context2.dirty){gpuContext?this._cleanGraphicsContextData(context2):gpuContext=this._initContext(context2),buildContextBatches(context2,gpuContext);const batchMode=context2.batchMode;context2.customShader||batchMode==="no-batch"?gpuContext.isBatchable=!1:batchMode==="auto"?gpuContext.isBatchable=gpuContext.geometryData.vertices.length<400:gpuContext.isBatchable=!0,context2.dirty=!1}return gpuContext}getGpuContext(context2){return this._gpuContextHash[context2.uid]||this._initContext(context2)}_initContextRenderData(context2){const graphicsData=BigPool.get(GraphicsContextRenderData,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches,geometryData}=this._gpuContextHash[context2.uid],vertexSize=geometryData.vertices.length,indexSize=geometryData.indices.length;for(let i2=0;i2<batches.length;i2++)batches[i2].applyTransform=!1;const batcher=graphicsData.batcher;batcher.ensureAttributeBuffer(vertexSize),batcher.ensureIndexBuffer(indexSize),batcher.begin();for(let i2=0;i2<batches.length;i2++){const batch=batches[i2];batcher.add(batch)}batcher.finish(graphicsData.instructions);const geometry=batcher.geometry;geometry.indexBuffer.setDataWithSize(batcher.indexBuffer,batcher.indexSize,!0),geometry.buffers[0].setDataWithSize(batcher.attributeBuffer.float32View,batcher.attributeSize,!0);const drawBatches=batcher.batches;for(let i2=0;i2<drawBatches.length;i2++){const batch=drawBatches[i2];batch.bindGroup=getTextureBatchBindGroup(batch.textures.textures,batch.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[context2.uid]=graphicsData,graphicsData}_initContext(context2){const gpuContext=new GpuGraphicsContext;return gpuContext.context=context2,this._gpuContextHash[context2.uid]=gpuContext,context2.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[context2.uid]}onGraphicsContextDestroy(context2){this._cleanGraphicsContextData(context2),context2.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[context2.uid]=null}_cleanGraphicsContextData(context2){const gpuContext=this._gpuContextHash[context2.uid];gpuContext.isBatchable||this._graphicsDataContextHash[context2.uid]&&(BigPool.return(this.getContextRenderData(context2)),this._graphicsDataContextHash[context2.uid]=null),gpuContext.batches&&gpuContext.batches.forEach(batch=>{BigPool.return(batch)})}destroy(){for(const i2 in this._gpuContextHash)this._gpuContextHash[i2]&&this.onGraphicsContextDestroy(this._gpuContextHash[i2].context)}};_GraphicsContextSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"graphicsContext"};_GraphicsContextSystem.defaultOptions={bezierSmoothness:.5};let GraphicsContextSystem=_GraphicsContextSystem;const RECURSION_LIMIT$1=8,FLT_EPSILON$1=11920929e-14,PATH_DISTANCE_EPSILON$1=1;function buildAdaptiveBezier(points,sX,sY,cp1x,cp1y,cp2x,cp2y,eX,eY,smoothness){const smoothing=Math.min(.99,Math.max(0,smoothness??GraphicsContextSystem.defaultOptions.bezierSmoothness));let distanceTolerance=(PATH_DISTANCE_EPSILON$1-smoothing)/1;return distanceTolerance*=distanceTolerance,begin$1(sX,sY,cp1x,cp1y,cp2x,cp2y,eX,eY,points,distanceTolerance),points}function begin$1(sX,sY,cp1x,cp1y,cp2x,cp2y,eX,eY,points,distanceTolerance){recursive$1(sX,sY,cp1x,cp1y,cp2x,cp2y,eX,eY,points,distanceTolerance,0),points.push(eX,eY)}function recursive$1(x1,y1,x2,y2,x3,y3,x4,y4,points,distanceTolerance,level){if(level>RECURSION_LIMIT$1)return;const x12=(x1+x2)/2,y12=(y1+y2)/2,x23=(x2+x3)/2,y23=(y2+y3)/2,x34=(x3+x4)/2,y34=(y3+y4)/2,x123=(x12+x23)/2,y123=(y12+y23)/2,x234=(x23+x34)/2,y234=(y23+y34)/2,x1234=(x123+x234)/2,y1234=(y123+y234)/2;if(level>0){let dx=x4-x1,dy=y4-y1;const d2=Math.abs((x2-x4)*dy-(y2-y4)*dx),d3=Math.abs((x3-x4)*dy-(y3-y4)*dx);if(d2>FLT_EPSILON$1&&d3>FLT_EPSILON$1){if((d2+d3)*(d2+d3)<=distanceTolerance*(dx*dx+dy*dy)){points.push(x1234,y1234);return}}else if(d2>FLT_EPSILON$1){if(d2*d2<=distanceTolerance*(dx*dx+dy*dy)){points.push(x1234,y1234);return}}else if(d3>FLT_EPSILON$1){if(d3*d3<=distanceTolerance*(dx*dx+dy*dy)){points.push(x1234,y1234);return}}else if(dx=x1234-(x1+x4)/2,dy=y1234-(y1+y4)/2,dx*dx+dy*dy<=distanceTolerance){points.push(x1234,y1234);return}}recursive$1(x1,y1,x12,y12,x123,y123,x1234,y1234,points,distanceTolerance,level+1),recursive$1(x1234,y1234,x234,y234,x34,y34,x4,y4,points,distanceTolerance,level+1)}const RECURSION_LIMIT=8,FLT_EPSILON=11920929e-14,PATH_DISTANCE_EPSILON=1;function buildAdaptiveQuadratic(points,sX,sY,cp1x,cp1y,eX,eY,smoothness){const smoothing=Math.min(.99,Math.max(0,smoothness??GraphicsContextSystem.defaultOptions.bezierSmoothness));let distanceTolerance=(PATH_DISTANCE_EPSILON-smoothing)/1;return distanceTolerance*=distanceTolerance,begin(sX,sY,cp1x,cp1y,eX,eY,points,distanceTolerance),points}function begin(sX,sY,cp1x,cp1y,eX,eY,points,distanceTolerance){recursive(points,sX,sY,cp1x,cp1y,eX,eY,distanceTolerance,0),points.push(eX,eY)}function recursive(points,x1,y1,x2,y2,x3,y3,distanceTolerance,level){if(level>RECURSION_LIMIT)return;const x12=(x1+x2)/2,y12=(y1+y2)/2,x23=(x2+x3)/2,y23=(y2+y3)/2,x123=(x12+x23)/2,y123=(y12+y23)/2;let dx=x3-x1,dy=y3-y1;const d2=Math.abs((x2-x3)*dy-(y2-y3)*dx);if(d2>FLT_EPSILON){if(d2*d2<=distanceTolerance*(dx*dx+dy*dy)){points.push(x123,y123);return}}else if(dx=x123-(x1+x3)/2,dy=y123-(y1+y3)/2,dx*dx+dy*dy<=distanceTolerance){points.push(x123,y123);return}recursive(points,x1,y1,x12,y12,x123,y123,distanceTolerance,level+1),recursive(points,x123,y123,x23,y23,x3,y3,distanceTolerance,level+1)}function buildArc(points,x2,y2,radius,start,end,clockwise,steps){let dist=Math.abs(start-end);(!clockwise&&start>end||clockwise&&end>start)&&(dist=2*Math.PI-dist),steps||(steps=Math.max(6,Math.floor(6*Math.pow(radius,1/3)*(dist/Math.PI)))),steps=Math.max(steps,3);let f2=dist/steps,t2=start;f2*=clockwise?-1:1;for(let i2=0;i2<steps+1;i2++){const cs=Math.cos(t2),sn2=Math.sin(t2),nx=x2+cs*radius,ny=y2+sn2*radius;points.push(nx,ny),t2+=f2}}function buildArcTo(points,x1,y1,x2,y2,radius){const fromX=points[points.length-2],a1=points[points.length-1]-y1,b1=fromX-x1,a2=y2-y1,b2=x2-x1,mm=Math.abs(a1*b2-b1*a2);if(mm<1e-8||radius===0){(points[points.length-2]!==x1||points[points.length-1]!==y1)&&points.push(x1,y1);return}const dd=a1*a1+b1*b1,cc=a2*a2+b2*b2,tt2=a1*a2+b1*b2,k1=radius*Math.sqrt(dd)/mm,k2=radius*Math.sqrt(cc)/mm,j1=k1*tt2/dd,j2=k2*tt2/cc,cx=k1*b2+k2*b1,cy=k1*a2+k2*a1,px=b1*(k2+j1),py=a1*(k2+j1),qx=b2*(k1+j2),qy=a2*(k1+j2),startAngle=Math.atan2(py-cy,px-cx),endAngle=Math.atan2(qy-cy,qx-cx);buildArc(points,cx+x1,cy+y1,radius,startAngle,endAngle,b1*a2>b2*a1)}const TAU=Math.PI*2,out={centerX:0,centerY:0,ang1:0,ang2:0},mapToEllipse=({x:x2,y:y2},rx,ry,cosPhi,sinPhi,centerX,centerY,out2)=>{x2*=rx,y2*=ry;const xp=cosPhi*x2-sinPhi*y2,yp=sinPhi*x2+cosPhi*y2;return out2.x=xp+centerX,out2.y=yp+centerY,out2};function approxUnitArc(ang1,ang2){const a1=ang2===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(ang2/4),a2=ang2===1.5707963267948966?.551915024494:a1,x1=Math.cos(ang1),y1=Math.sin(ang1),x2=Math.cos(ang1+ang2),y2=Math.sin(ang1+ang2);return[{x:x1-y1*a2,y:y1+x1*a2},{x:x2+y2*a2,y:y2-x2*a2},{x:x2,y:y2}]}const vectorAngle=(ux2,uy2,vx2,vy2)=>{const sign2=ux2*vy2-uy2*vx2<0?-1:1;let dot=ux2*vx2+uy2*vy2;return dot>1&&(dot=1),dot<-1&&(dot=-1),sign2*Math.acos(dot)},getArcCenter=(px,py,cx,cy,rx,ry,largeArcFlag,sweepFlag,sinPhi,cosPhi,pxp,pyp,out2)=>{const rxSq=Math.pow(rx,2),rySq=Math.pow(ry,2),pxpSq=Math.pow(pxp,2),pypSq=Math.pow(pyp,2);let radicant=rxSq*rySq-rxSq*pypSq-rySq*pxpSq;radicant<0&&(radicant=0),radicant/=rxSq*pypSq+rySq*pxpSq,radicant=Math.sqrt(radicant)*(largeArcFlag===sweepFlag?-1:1);const centerXp=radicant*rx/ry*pyp,centerYp=radicant*-ry/rx*pxp,centerX=cosPhi*centerXp-sinPhi*centerYp+(px+cx)/2,centerY=sinPhi*centerXp+cosPhi*centerYp+(py+cy)/2,vx1=(pxp-centerXp)/rx,vy1=(pyp-centerYp)/ry,vx2=(-pxp-centerXp)/rx,vy2=(-pyp-centerYp)/ry,ang1=vectorAngle(1,0,vx1,vy1);let ang2=vectorAngle(vx1,vy1,vx2,vy2);sweepFlag===0&&ang2>0&&(ang2-=TAU),sweepFlag===1&&ang2<0&&(ang2+=TAU),out2.centerX=centerX,out2.centerY=centerY,out2.ang1=ang1,out2.ang2=ang2};function buildArcToSvg(points,px,py,cx,cy,rx,ry,xAxisRotation=0,largeArcFlag=0,sweepFlag=0){if(rx===0||ry===0)return;const sinPhi=Math.sin(xAxisRotation*TAU/360),cosPhi=Math.cos(xAxisRotation*TAU/360),pxp=cosPhi*(px-cx)/2+sinPhi*(py-cy)/2,pyp=-sinPhi*(px-cx)/2+cosPhi*(py-cy)/2;if(pxp===0&&pyp===0)return;rx=Math.abs(rx),ry=Math.abs(ry);const lambda=Math.pow(pxp,2)/Math.pow(rx,2)+Math.pow(pyp,2)/Math.pow(ry,2);lambda>1&&(rx*=Math.sqrt(lambda),ry*=Math.sqrt(lambda)),getArcCenter(px,py,cx,cy,rx,ry,largeArcFlag,sweepFlag,sinPhi,cosPhi,pxp,pyp,out);let{ang1,ang2}=out;const{centerX,centerY}=out;let ratio=Math.abs(ang2)/(TAU/4);Math.abs(1-ratio)<1e-7&&(ratio=1);const segments=Math.max(Math.ceil(ratio),1);ang2/=segments;let lastX=points[points.length-2],lastY=points[points.length-1];const outCurvePoint={x:0,y:0};for(let i2=0;i2<segments;i2++){const curve=approxUnitArc(ang1,ang2),{x:x1,y:y1}=mapToEllipse(curve[0],rx,ry,cosPhi,sinPhi,centerX,centerY,outCurvePoint),{x:x2,y:y2}=mapToEllipse(curve[1],rx,ry,cosPhi,sinPhi,centerX,centerY,outCurvePoint),{x:x3,y:y3}=mapToEllipse(curve[2],rx,ry,cosPhi,sinPhi,centerX,centerY,outCurvePoint);buildAdaptiveBezier(points,lastX,lastY,x1,y1,x2,y2,x3,y3),lastX=x3,lastY=y3,ang1+=ang2}}function roundedShapeArc(g2,points,radius){const vecFrom=(p2,pp)=>{const x2=pp.x-p2.x,y2=pp.y-p2.y,len=Math.sqrt(x2*x2+y2*y2),nx=x2/len,ny=y2/len;return{len,nx,ny}},sharpCorner=(i2,p2)=>{i2===0?g2.moveTo(p2.x,p2.y):g2.lineTo(p2.x,p2.y)};let p1=points[points.length-1];for(let i2=0;i2<points.length;i2++){const p2=points[i2%points.length],pRadius=p2.radius??radius;if(pRadius<=0){sharpCorner(i2,p2),p1=p2;continue}const p3=points[(i2+1)%points.length],v1=vecFrom(p2,p1),v2=vecFrom(p2,p3);if(v1.len<1e-4||v2.len<1e-4){sharpCorner(i2,p2),p1=p2;continue}let angle=Math.asin(v1.nx*v2.ny-v1.ny*v2.nx),radDirection=1,drawDirection=!1;v1.nx*v2.nx-v1.ny*-v2.ny<0?angle<0?angle=Math.PI+angle:(angle=Math.PI-angle,radDirection=-1,drawDirection=!0):angle>0&&(radDirection=-1,drawDirection=!0);const halfAngle=angle/2;let cRadius,lenOut=Math.abs(Math.cos(halfAngle)*pRadius/Math.sin(halfAngle));lenOut>Math.min(v1.len/2,v2.len/2)?(lenOut=Math.min(v1.len/2,v2.len/2),cRadius=Math.abs(lenOut*Math.sin(halfAngle)/Math.cos(halfAngle))):cRadius=pRadius;const cX=p2.x+v2.nx*lenOut+-v2.ny*cRadius*radDirection,cY=p2.y+v2.ny*lenOut+v2.nx*cRadius*radDirection,startAngle=Math.atan2(v1.ny,v1.nx)+Math.PI/2*radDirection,endAngle=Math.atan2(v2.ny,v2.nx)-Math.PI/2*radDirection;i2===0&&g2.moveTo(cX+Math.cos(startAngle)*cRadius,cY+Math.sin(startAngle)*cRadius),g2.arc(cX,cY,cRadius,startAngle,endAngle,drawDirection),p1=p2}}function roundedShapeQuadraticCurve(g2,points,radius,smoothness){const distance=(p1,p2)=>Math.sqrt((p1.x-p2.x)**2+(p1.y-p2.y)**2),pointLerp=(p1,p2,t2)=>({x:p1.x+(p2.x-p1.x)*t2,y:p1.y+(p2.y-p1.y)*t2}),numPoints=points.length;for(let i2=0;i2<numPoints;i2++){const thisPoint=points[(i2+1)%numPoints],pRadius=thisPoint.radius??radius;if(pRadius<=0){i2===0?g2.moveTo(thisPoint.x,thisPoint.y):g2.lineTo(thisPoint.x,thisPoint.y);continue}const lastPoint=points[i2],nextPoint=points[(i2+2)%numPoints],lastEdgeLength=distance(lastPoint,thisPoint);let start;if(lastEdgeLength<1e-4)start=thisPoint;else{const lastOffsetDistance=Math.min(lastEdgeLength/2,pRadius);start=pointLerp(thisPoint,lastPoint,lastOffsetDistance/lastEdgeLength)}const nextEdgeLength=distance(nextPoint,thisPoint);let end;if(nextEdgeLength<1e-4)end=thisPoint;else{const nextOffsetDistance=Math.min(nextEdgeLength/2,pRadius);end=pointLerp(thisPoint,nextPoint,nextOffsetDistance/nextEdgeLength)}i2===0?g2.moveTo(start.x,start.y):g2.lineTo(start.x,start.y),g2.quadraticCurveTo(thisPoint.x,thisPoint.y,end.x,end.y,smoothness)}}const tempRectangle=new Rectangle;class ShapePath{constructor(graphicsPath2D){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Bounds,this._graphicsPath2D=graphicsPath2D,this.signed=graphicsPath2D.checkForHoles}moveTo(x2,y2){return this.startPoly(x2,y2),this}lineTo(x2,y2){this._ensurePoly();const points=this._currentPoly.points,fromX=points[points.length-2],fromY=points[points.length-1];return(fromX!==x2||fromY!==y2)&&points.push(x2,y2),this}arc(x2,y2,radius,startAngle,endAngle,counterclockwise){this._ensurePoly(!1);const points=this._currentPoly.points;return buildArc(points,x2,y2,radius,startAngle,endAngle,counterclockwise),this}arcTo(x1,y1,x2,y2,radius){this._ensurePoly();const points=this._currentPoly.points;return buildArcTo(points,x1,y1,x2,y2,radius),this}arcToSvg(rx,ry,xAxisRotation,largeArcFlag,sweepFlag,x2,y2){const points=this._currentPoly.points;return buildArcToSvg(points,this._currentPoly.lastX,this._currentPoly.lastY,x2,y2,rx,ry,xAxisRotation,largeArcFlag,sweepFlag),this}bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x2,y2,smoothness){this._ensurePoly();const currentPoly=this._currentPoly;return buildAdaptiveBezier(this._currentPoly.points,currentPoly.lastX,currentPoly.lastY,cp1x,cp1y,cp2x,cp2y,x2,y2,smoothness),this}quadraticCurveTo(cp1x,cp1y,x2,y2,smoothing){this._ensurePoly();const currentPoly=this._currentPoly;return buildAdaptiveQuadratic(this._currentPoly.points,currentPoly.lastX,currentPoly.lastY,cp1x,cp1y,x2,y2,smoothing),this}closePath(){return this.endPoly(!0),this}addPath(path2,transform){this.endPoly(),transform&&!transform.isIdentity()&&(path2=path2.clone(!0),path2.transform(transform));const shapePrimitives=this.shapePrimitives,start=shapePrimitives.length;for(let i2=0;i2<path2.instructions.length;i2++){const instruction=path2.instructions[i2];this[instruction.action](...instruction.data)}if(path2.checkForHoles&&shapePrimitives.length-start>1){let mainShape=null;for(let i2=start;i2<shapePrimitives.length;i2++){const shapePrimitive=shapePrimitives[i2];if(shapePrimitive.shape.type==="polygon"){const polygon=shapePrimitive.shape,mainPolygon=mainShape?.shape;mainPolygon&&mainPolygon.containsPolygon(polygon)?(mainShape.holes||(mainShape.holes=[]),mainShape.holes.push(shapePrimitive),shapePrimitives.copyWithin(i2,i2+1),shapePrimitives.length--,i2--):mainShape=shapePrimitive}}}return this}finish(closePath=!1){this.endPoly(closePath)}rect(x2,y2,w2,h2,transform){return this.drawShape(new Rectangle(x2,y2,w2,h2),transform),this}circle(x2,y2,radius,transform){return this.drawShape(new Circle(x2,y2,radius),transform),this}poly(points,close,transform){const polygon=new Polygon(points);return polygon.closePath=close,this.drawShape(polygon,transform),this}regularPoly(x2,y2,radius,sides,rotation=0,transform){sides=Math.max(sides|0,3);const startAngle=-1*Math.PI/2+rotation,delta=Math.PI*2/sides,polygon=[];for(let i2=0;i2<sides;i2++){const angle=startAngle-i2*delta;polygon.push(x2+radius*Math.cos(angle),y2+radius*Math.sin(angle))}return this.poly(polygon,!0,transform),this}roundPoly(x2,y2,radius,sides,corner,rotation=0,smoothness){if(sides=Math.max(sides|0,3),corner<=0)return this.regularPoly(x2,y2,radius,sides,rotation);const sideLength=radius*Math.sin(Math.PI/sides)-.001;corner=Math.min(corner,sideLength);const startAngle=-1*Math.PI/2+rotation,delta=Math.PI*2/sides,internalAngle=(sides-2)*Math.PI/sides/2;for(let i2=0;i2<sides;i2++){const angle=i2*delta+startAngle,x0=x2+radius*Math.cos(angle),y0=y2+radius*Math.sin(angle),a1=angle+Math.PI+internalAngle,a2=angle-Math.PI-internalAngle,x1=x0+corner*Math.cos(a1),y1=y0+corner*Math.sin(a1),x3=x0+corner*Math.cos(a2),y3=y0+corner*Math.sin(a2);i2===0?this.moveTo(x1,y1):this.lineTo(x1,y1),this.quadraticCurveTo(x0,y0,x3,y3,smoothness)}return this.closePath()}roundShape(points,radius,useQuadratic=!1,smoothness){return points.length<3?this:(useQuadratic?roundedShapeQuadraticCurve(this,points,radius,smoothness):roundedShapeArc(this,points,radius),this.closePath())}filletRect(x2,y2,width,height,fillet){if(fillet===0)return this.rect(x2,y2,width,height);const maxFillet=Math.min(width,height)/2,inset=Math.min(maxFillet,Math.max(-maxFillet,fillet)),right=x2+width,bottom=y2+height,dir=inset<0?-inset:0,size=Math.abs(inset);return this.moveTo(x2,y2+size).arcTo(x2+dir,y2+dir,x2+size,y2,size).lineTo(right-size,y2).arcTo(right-dir,y2+dir,right,y2+size,size).lineTo(right,bottom-size).arcTo(right-dir,bottom-dir,x2+width-size,bottom,size).lineTo(x2+size,bottom).arcTo(x2+dir,bottom-dir,x2,bottom-size,size).closePath()}chamferRect(x2,y2,width,height,chamfer,transform){if(chamfer<=0)return this.rect(x2,y2,width,height);const inset=Math.min(chamfer,Math.min(width,height)/2),right=x2+width,bottom=y2+height,points=[x2+inset,y2,right-inset,y2,right,y2+inset,right,bottom-inset,right-inset,bottom,x2+inset,bottom,x2,bottom-inset,x2,y2+inset];for(let i2=points.length-1;i2>=2;i2-=2)points[i2]===points[i2-2]&&points[i2-1]===points[i2-3]&&points.splice(i2-1,2);return this.poly(points,!0,transform)}ellipse(x2,y2,radiusX,radiusY,transform){return this.drawShape(new Ellipse(x2,y2,radiusX,radiusY),transform),this}roundRect(x2,y2,w2,h2,radius,transform){return this.drawShape(new RoundedRectangle(x2,y2,w2,h2,radius),transform),this}drawShape(shape,matrix){return this.endPoly(),this.shapePrimitives.push({shape,transform:matrix}),this}startPoly(x2,y2){let currentPoly=this._currentPoly;return currentPoly&&this.endPoly(),currentPoly=new Polygon,currentPoly.points.push(x2,y2),this._currentPoly=currentPoly,this}endPoly(closePath=!1){const shape=this._currentPoly;return shape&&shape.points.length>2&&(shape.closePath=closePath,this.shapePrimitives.push({shape})),this._currentPoly=null,this}_ensurePoly(start=!0){if(!this._currentPoly&&(this._currentPoly=new Polygon,start)){const lastShape=this.shapePrimitives[this.shapePrimitives.length-1];if(lastShape){let lx=lastShape.shape.x,ly=lastShape.shape.y;if(lastShape.transform&&!lastShape.transform.isIdentity()){const t2=lastShape.transform,tempX=lx;lx=t2.a*lx+t2.c*ly+t2.tx,ly=t2.b*tempX+t2.d*ly+t2.ty}this._currentPoly.points.push(lx,ly)}else this._currentPoly.points.push(0,0)}}buildPath(){const path2=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let i2=0;i2<path2.instructions.length;i2++){const instruction=path2.instructions[i2];this[instruction.action](...instruction.data)}this.finish()}get bounds(){const bounds=this._bounds;bounds.clear();const shapePrimitives=this.shapePrimitives;for(let i2=0;i2<shapePrimitives.length;i2++){const shapePrimitive=shapePrimitives[i2],boundsRect=shapePrimitive.shape.getBounds(tempRectangle);shapePrimitive.transform?bounds.addRect(boundsRect,shapePrimitive.transform):bounds.addRect(boundsRect)}return bounds}}class GraphicsPath{constructor(instructions,signed=!1){this.instructions=[],this.uid=uid("graphicsPath"),this._dirty=!0,this.checkForHoles=signed,typeof instructions=="string"?parseSVGPath(instructions,this):this.instructions=instructions?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new ShapePath(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(path2,transform){return path2=path2.clone(),this.instructions.push({action:"addPath",data:[path2,transform]}),this._dirty=!0,this}arc(...args){return this.instructions.push({action:"arc",data:args}),this._dirty=!0,this}arcTo(...args){return this.instructions.push({action:"arcTo",data:args}),this._dirty=!0,this}arcToSvg(...args){return this.instructions.push({action:"arcToSvg",data:args}),this._dirty=!0,this}bezierCurveTo(...args){return this.instructions.push({action:"bezierCurveTo",data:args}),this._dirty=!0,this}bezierCurveToShort(cp2x,cp2y,x2,y2,smoothness){const last=this.instructions[this.instructions.length-1],lastPoint=this.getLastPoint(Point.shared);let cp1x=0,cp1y=0;if(!last||last.action!=="bezierCurveTo")cp1x=lastPoint.x,cp1y=lastPoint.y;else{cp1x=last.data[2],cp1y=last.data[3];const currentX=lastPoint.x,currentY=lastPoint.y;cp1x=currentX+(currentX-cp1x),cp1y=currentY+(currentY-cp1y)}return this.instructions.push({action:"bezierCurveTo",data:[cp1x,cp1y,cp2x,cp2y,x2,y2,smoothness]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...args){return this.instructions.push({action:"ellipse",data:args}),this._dirty=!0,this}lineTo(...args){return this.instructions.push({action:"lineTo",data:args}),this._dirty=!0,this}moveTo(...args){return this.instructions.push({action:"moveTo",data:args}),this}quadraticCurveTo(...args){return this.instructions.push({action:"quadraticCurveTo",data:args}),this._dirty=!0,this}quadraticCurveToShort(x2,y2,smoothness){const last=this.instructions[this.instructions.length-1],lastPoint=this.getLastPoint(Point.shared);let cpx1=0,cpy1=0;if(!last||last.action!=="quadraticCurveTo")cpx1=lastPoint.x,cpy1=lastPoint.y;else{cpx1=last.data[0],cpy1=last.data[1];const currentX=lastPoint.x,currentY=lastPoint.y;cpx1=currentX+(currentX-cpx1),cpy1=currentY+(currentY-cpy1)}return this.instructions.push({action:"quadraticCurveTo",data:[cpx1,cpy1,x2,y2,smoothness]}),this._dirty=!0,this}rect(x2,y2,w2,h2,transform){return this.instructions.push({action:"rect",data:[x2,y2,w2,h2,transform]}),this._dirty=!0,this}circle(x2,y2,radius,transform){return this.instructions.push({action:"circle",data:[x2,y2,radius,transform]}),this._dirty=!0,this}roundRect(...args){return this.instructions.push({action:"roundRect",data:args}),this._dirty=!0,this}poly(...args){return this.instructions.push({action:"poly",data:args}),this._dirty=!0,this}regularPoly(...args){return this.instructions.push({action:"regularPoly",data:args}),this._dirty=!0,this}roundPoly(...args){return this.instructions.push({action:"roundPoly",data:args}),this._dirty=!0,this}roundShape(...args){return this.instructions.push({action:"roundShape",data:args}),this._dirty=!0,this}filletRect(...args){return this.instructions.push({action:"filletRect",data:args}),this._dirty=!0,this}chamferRect(...args){return this.instructions.push({action:"chamferRect",data:args}),this._dirty=!0,this}star(x2,y2,points,radius,innerRadius,rotation,transform){innerRadius||(innerRadius=radius/2);const startAngle=-1*Math.PI/2+rotation,len=points*2,delta=Math.PI*2/len,polygon=[];for(let i2=0;i2<len;i2++){const r2=i2%2?innerRadius:radius,angle=i2*delta+startAngle;polygon.push(x2+r2*Math.cos(angle),y2+r2*Math.sin(angle))}return this.poly(polygon,!0,transform),this}clone(deep=!1){const newGraphicsPath2D=new GraphicsPath;if(newGraphicsPath2D.checkForHoles=this.checkForHoles,!deep)newGraphicsPath2D.instructions=this.instructions.slice();else for(let i2=0;i2<this.instructions.length;i2++){const instruction=this.instructions[i2];newGraphicsPath2D.instructions.push({action:instruction.action,data:instruction.data.slice()})}return newGraphicsPath2D}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(matrix){if(matrix.isIdentity())return this;const a2=matrix.a,b2=matrix.b,c2=matrix.c,d2=matrix.d,tx=matrix.tx,ty=matrix.ty;let x2=0,y2=0,cpx1=0,cpy1=0,cpx2=0,cpy2=0,rx=0,ry=0;for(let i2=0;i2<this.instructions.length;i2++){const instruction=this.instructions[i2],data=instruction.data;switch(instruction.action){case"moveTo":case"lineTo":x2=data[0],y2=data[1],data[0]=a2*x2+c2*y2+tx,data[1]=b2*x2+d2*y2+ty;break;case"bezierCurveTo":cpx1=data[0],cpy1=data[1],cpx2=data[2],cpy2=data[3],x2=data[4],y2=data[5],data[0]=a2*cpx1+c2*cpy1+tx,data[1]=b2*cpx1+d2*cpy1+ty,data[2]=a2*cpx2+c2*cpy2+tx,data[3]=b2*cpx2+d2*cpy2+ty,data[4]=a2*x2+c2*y2+tx,data[5]=b2*x2+d2*y2+ty;break;case"quadraticCurveTo":cpx1=data[0],cpy1=data[1],x2=data[2],y2=data[3],data[0]=a2*cpx1+c2*cpy1+tx,data[1]=b2*cpx1+d2*cpy1+ty,data[2]=a2*x2+c2*y2+tx,data[3]=b2*x2+d2*y2+ty;break;case"arcToSvg":x2=data[5],y2=data[6],rx=data[0],ry=data[1],data[0]=a2*rx+c2*ry,data[1]=b2*rx+d2*ry,data[5]=a2*x2+c2*y2+tx,data[6]=b2*x2+d2*y2+ty;break;case"circle":data[4]=adjustTransform(data[3],matrix);break;case"rect":data[4]=adjustTransform(data[4],matrix);break;case"ellipse":data[8]=adjustTransform(data[8],matrix);break;case"roundRect":data[5]=adjustTransform(data[5],matrix);break;case"addPath":data[0].transform(matrix);break;case"poly":data[2]=adjustTransform(data[2],matrix);break;default:warn("unknown transform action",instruction.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(out2){let index=this.instructions.length-1,lastInstruction=this.instructions[index];if(!lastInstruction)return out2.x=0,out2.y=0,out2;for(;lastInstruction.action==="closePath";){if(index--,index<0)return out2.x=0,out2.y=0,out2;lastInstruction=this.instructions[index]}switch(lastInstruction.action){case"moveTo":case"lineTo":out2.x=lastInstruction.data[0],out2.y=lastInstruction.data[1];break;case"quadraticCurveTo":out2.x=lastInstruction.data[2],out2.y=lastInstruction.data[3];break;case"bezierCurveTo":out2.x=lastInstruction.data[4],out2.y=lastInstruction.data[5];break;case"arc":case"arcToSvg":out2.x=lastInstruction.data[5],out2.y=lastInstruction.data[6];break;case"addPath":lastInstruction.data[0].getLastPoint(out2);break}return out2}}function adjustTransform(currentMatrix,transform){return currentMatrix?currentMatrix.prepend(transform):transform.clone()}function parseSVGFloatAttribute(svg,id,defaultValue){const value=svg.getAttribute(id);return value?Number(value):defaultValue}function parseSVGDefinitions(svg,session){const definitions=svg.querySelectorAll("defs");for(let i2=0;i2<definitions.length;i2++){const definition=definitions[i2];for(let j2=0;j2<definition.children.length;j2++){const child=definition.children[j2];switch(child.nodeName.toLowerCase()){case"lineargradient":session.defs[child.id]=parseLinearGradient(child);break;case"radialgradient":session.defs[child.id]=parseRadialGradient();break}}}}function parseLinearGradient(child){const x0=parseSVGFloatAttribute(child,"x1",0),y0=parseSVGFloatAttribute(child,"y1",0),x1=parseSVGFloatAttribute(child,"x2",1),y1=parseSVGFloatAttribute(child,"y2",0),gradientUnit=child.getAttribute("gradientUnits")||"objectBoundingBox",gradient=new FillGradient(x0,y0,x1,y1,gradientUnit==="objectBoundingBox"?"local":"global");for(let k2=0;k2<child.children.length;k2++){const stop=child.children[k2],offset=parseSVGFloatAttribute(stop,"offset",0),color=Color.shared.setValue(stop.getAttribute("stop-color")).toNumber();gradient.addColorStop(offset,color)}return gradient}function parseRadialGradient(_child){return warn("[SVG Parser] Radial gradients are not yet supported"),new FillGradient(0,0,1,0)}function extractSvgUrlId(url){const match=url.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return match?match[1]:""}const styleAttributes={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function parseSVGStyle(svg,session){const style=svg.getAttribute("style"),strokeStyle={},fillStyle={},result={strokeStyle,fillStyle,useFill:!1,useStroke:!1};for(const key in styleAttributes){const attribute=svg.getAttribute(key);attribute&&parseAttribute(session,result,key,attribute.trim())}if(style){const styleParts=style.split(";");for(let i2=0;i2<styleParts.length;i2++){const stylePart=styleParts[i2].trim(),[key,value]=stylePart.split(":");styleAttributes[key]&&parseAttribute(session,result,key,value.trim())}}return{strokeStyle:result.useStroke?strokeStyle:null,fillStyle:result.useFill?fillStyle:null,useFill:result.useFill,useStroke:result.useStroke}}function parseAttribute(session,result,id,value){switch(id){case"stroke":if(value!=="none"){if(value.startsWith("url(")){const id2=extractSvgUrlId(value);result.strokeStyle.fill=session.defs[id2]}else result.strokeStyle.color=Color.shared.setValue(value).toNumber();result.useStroke=!0}break;case"stroke-width":result.strokeStyle.width=Number(value);break;case"fill":if(value!=="none"){if(value.startsWith("url(")){const id2=extractSvgUrlId(value);result.fillStyle.fill=session.defs[id2]}else result.fillStyle.color=Color.shared.setValue(value).toNumber();result.useFill=!0}break;case"fill-opacity":result.fillStyle.alpha=Number(value);break;case"stroke-opacity":result.strokeStyle.alpha=Number(value);break;case"opacity":result.fillStyle.alpha=Number(value),result.strokeStyle.alpha=Number(value);break}}function SVGParser(svg,graphicsContext){if(typeof svg=="string"){const div=document.createElement("div");div.innerHTML=svg.trim(),svg=div.querySelector("svg")}const session={context:graphicsContext,defs:{},path:new GraphicsPath};parseSVGDefinitions(svg,session);const children=svg.children,{fillStyle,strokeStyle}=parseSVGStyle(svg,session);for(let i2=0;i2<children.length;i2++){const child=children[i2];child.nodeName.toLowerCase()!=="defs"&&renderChildren(child,session,fillStyle,strokeStyle)}return graphicsContext}function renderChildren(svg,session,fillStyle,strokeStyle){const children=svg.children,{fillStyle:f1,strokeStyle:s1}=parseSVGStyle(svg,session);f1&&fillStyle?fillStyle={...fillStyle,...f1}:f1&&(fillStyle=f1),s1&&strokeStyle?strokeStyle={...strokeStyle,...s1}:s1&&(strokeStyle=s1);const noStyle=!fillStyle&&!strokeStyle;noStyle&&(fillStyle={color:0});let x2,y2,x1,y1,x22,y22,cx,cy,r2,rx,ry,points,pointsString,d2,graphicsPath,width,height;switch(svg.nodeName.toLowerCase()){case"path":d2=svg.getAttribute("d"),svg.getAttribute("fill-rule")==="evenodd"&&warn("SVG Evenodd fill rule not supported, your svg may render incorrectly"),graphicsPath=new GraphicsPath(d2,!0),session.context.path(graphicsPath),fillStyle&&session.context.fill(fillStyle),strokeStyle&&session.context.stroke(strokeStyle);break;case"circle":cx=parseSVGFloatAttribute(svg,"cx",0),cy=parseSVGFloatAttribute(svg,"cy",0),r2=parseSVGFloatAttribute(svg,"r",0),session.context.ellipse(cx,cy,r2,r2),fillStyle&&session.context.fill(fillStyle),strokeStyle&&session.context.stroke(strokeStyle);break;case"rect":x2=parseSVGFloatAttribute(svg,"x",0),y2=parseSVGFloatAttribute(svg,"y",0),width=parseSVGFloatAttribute(svg,"width",0),height=parseSVGFloatAttribute(svg,"height",0),rx=parseSVGFloatAttribute(svg,"rx",0),ry=parseSVGFloatAttribute(svg,"ry",0),rx||ry?session.context.roundRect(x2,y2,width,height,rx||ry):session.context.rect(x2,y2,width,height),fillStyle&&session.context.fill(fillStyle),strokeStyle&&session.context.stroke(strokeStyle);break;case"ellipse":cx=parseSVGFloatAttribute(svg,"cx",0),cy=parseSVGFloatAttribute(svg,"cy",0),rx=parseSVGFloatAttribute(svg,"rx",0),ry=parseSVGFloatAttribute(svg,"ry",0),session.context.beginPath(),session.context.ellipse(cx,cy,rx,ry),fillStyle&&session.context.fill(fillStyle),strokeStyle&&session.context.stroke(strokeStyle);break;case"line":x1=parseSVGFloatAttribute(svg,"x1",0),y1=parseSVGFloatAttribute(svg,"y1",0),x22=parseSVGFloatAttribute(svg,"x2",0),y22=parseSVGFloatAttribute(svg,"y2",0),session.context.beginPath(),session.context.moveTo(x1,y1),session.context.lineTo(x22,y22),strokeStyle&&session.context.stroke(strokeStyle);break;case"polygon":pointsString=svg.getAttribute("points"),points=pointsString.match(/\d+/g).map(n2=>parseInt(n2,10)),session.context.poly(points,!0),fillStyle&&session.context.fill(fillStyle),strokeStyle&&session.context.stroke(strokeStyle);break;case"polyline":pointsString=svg.getAttribute("points"),points=pointsString.match(/\d+/g).map(n2=>parseInt(n2,10)),session.context.poly(points,!1),strokeStyle&&session.context.stroke(strokeStyle);break;case"g":case"svg":break;default:{warn(`[SVG parser] <${svg.nodeName}> elements unsupported`);break}}noStyle&&(fillStyle=null);for(let i2=0;i2<children.length;i2++)renderChildren(children[i2],session,fillStyle,strokeStyle)}function isColorLike(value){return Color.isColorLike(value)}function isFillPattern(value){return value instanceof FillPattern}function isFillGradient(value){return value instanceof FillGradient}function isTexture(value){return value instanceof Texture}function handleColorLike(fill,value,defaultStyle){const temp=Color.shared.setValue(value??0);return fill.color=temp.toNumber(),fill.alpha=temp.alpha===1?defaultStyle.alpha:temp.alpha,fill.texture=Texture.WHITE,{...defaultStyle,...fill}}function handleTexture(fill,value,defaultStyle){return fill.texture=value,{...defaultStyle,...fill}}function handleFillPattern(fill,value,defaultStyle){return fill.fill=value,fill.color=16777215,fill.texture=value.texture,fill.matrix=value.transform,{...defaultStyle,...fill}}function handleFillGradient(fill,value,defaultStyle){return value.buildGradient(),fill.fill=value,fill.color=16777215,fill.texture=value.texture,fill.matrix=value.transform,fill.textureSpace=value.textureSpace,{...defaultStyle,...fill}}function handleFillObject(value,defaultStyle){const style={...defaultStyle,...value},color=Color.shared.setValue(style.color);return style.alpha*=color.alpha,style.color=color.toNumber(),style}function toFillStyle(value,defaultStyle){if(value==null)return null;const fill={},objectStyle=value;return isColorLike(value)?handleColorLike(fill,value,defaultStyle):isTexture(value)?handleTexture(fill,value,defaultStyle):isFillPattern(value)?handleFillPattern(fill,value,defaultStyle):isFillGradient(value)?handleFillGradient(fill,value,defaultStyle):objectStyle.fill&&isFillPattern(objectStyle.fill)?handleFillPattern(objectStyle,objectStyle.fill,defaultStyle):objectStyle.fill&&isFillGradient(objectStyle.fill)?handleFillGradient(objectStyle,objectStyle.fill,defaultStyle):handleFillObject(objectStyle,defaultStyle)}function toStrokeStyle(value,defaultStyle){const{width,alignment,miterLimit,cap,join,pixelLine,...rest}=defaultStyle,fill=toFillStyle(value,rest);return fill?{width,alignment,miterLimit,cap,join,pixelLine,...fill}:null}const tmpPoint=new Point,tempMatrix=new Matrix,_GraphicsContext=class _GraphicsContext2 extends EventEmitter{constructor(){super(...arguments),this.uid=uid("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new GraphicsPath,this._transform=new Matrix,this._fillStyle={..._GraphicsContext2.defaultFillStyle},this._strokeStyle={..._GraphicsContext2.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Bounds,this._boundsDirty=!0}clone(){const clone=new _GraphicsContext2;return clone.batchMode=this.batchMode,clone.instructions=this.instructions.slice(),clone._activePath=this._activePath.clone(),clone._transform=this._transform.clone(),clone._fillStyle={...this._fillStyle},clone._strokeStyle={...this._strokeStyle},clone._stateStack=this._stateStack.slice(),clone._bounds=this._bounds.clone(),clone._boundsDirty=!0,clone}get fillStyle(){return this._fillStyle}set fillStyle(value){this._fillStyle=toFillStyle(value,_GraphicsContext2.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(value){this._strokeStyle=toStrokeStyle(value,_GraphicsContext2.defaultStrokeStyle)}setFillStyle(style){return this._fillStyle=toFillStyle(style,_GraphicsContext2.defaultFillStyle),this}setStrokeStyle(style){return this._strokeStyle=toFillStyle(style,_GraphicsContext2.defaultStrokeStyle),this}texture(texture,tint,dx,dy,dw,dh){return this.instructions.push({action:"texture",data:{image:texture,dx:dx||0,dy:dy||0,dw:dw||texture.frame.width,dh:dh||texture.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:tint?Color.shared.setValue(tint).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new GraphicsPath,this}fill(style,alpha){let path2;const lastInstruction=this.instructions[this.instructions.length-1];return this._tick===0&&lastInstruction&&lastInstruction.action==="stroke"?path2=lastInstruction.data.path:path2=this._activePath.clone(),path2?(style!=null&&(alpha!==void 0&&typeof style=="number"&&(deprecation(v8_0_0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),style={color:style,alpha}),this._fillStyle=toFillStyle(style,_GraphicsContext2.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:path2}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:x2,y:y2}=this._activePath.getLastPoint(Point.shared);this._activePath.clear(),this._activePath.moveTo(x2,y2)}stroke(style){let path2;const lastInstruction=this.instructions[this.instructions.length-1];return this._tick===0&&lastInstruction&&lastInstruction.action==="fill"?path2=lastInstruction.data.path:path2=this._activePath.clone(),path2?(style!=null&&(this._strokeStyle=toStrokeStyle(style,_GraphicsContext2.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:path2}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let i2=0;i2<2;i2++){const lastInstruction=this.instructions[this.instructions.length-1-i2],holePath=this._activePath.clone();if(lastInstruction&&(lastInstruction.action==="stroke"||lastInstruction.action==="fill"))if(lastInstruction.data.hole)lastInstruction.data.hole.addPath(holePath);else{lastInstruction.data.hole=holePath;break}}return this._initNextPathLocation(),this}arc(x2,y2,radius,startAngle,endAngle,counterclockwise){this._tick++;const t2=this._transform;return this._activePath.arc(t2.a*x2+t2.c*y2+t2.tx,t2.b*x2+t2.d*y2+t2.ty,radius,startAngle,endAngle,counterclockwise),this}arcTo(x1,y1,x2,y2,radius){this._tick++;const t2=this._transform;return this._activePath.arcTo(t2.a*x1+t2.c*y1+t2.tx,t2.b*x1+t2.d*y1+t2.ty,t2.a*x2+t2.c*y2+t2.tx,t2.b*x2+t2.d*y2+t2.ty,radius),this}arcToSvg(rx,ry,xAxisRotation,largeArcFlag,sweepFlag,x2,y2){this._tick++;const t2=this._transform;return this._activePath.arcToSvg(rx,ry,xAxisRotation,largeArcFlag,sweepFlag,t2.a*x2+t2.c*y2+t2.tx,t2.b*x2+t2.d*y2+t2.ty),this}bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x2,y2,smoothness){this._tick++;const t2=this._transform;return this._activePath.bezierCurveTo(t2.a*cp1x+t2.c*cp1y+t2.tx,t2.b*cp1x+t2.d*cp1y+t2.ty,t2.a*cp2x+t2.c*cp2y+t2.tx,t2.b*cp2x+t2.d*cp2y+t2.ty,t2.a*x2+t2.c*y2+t2.tx,t2.b*x2+t2.d*y2+t2.ty,smoothness),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(x2,y2,radiusX,radiusY){return this._tick++,this._activePath.ellipse(x2,y2,radiusX,radiusY,this._transform.clone()),this}circle(x2,y2,radius){return this._tick++,this._activePath.circle(x2,y2,radius,this._transform.clone()),this}path(path2){return this._tick++,this._activePath.addPath(path2,this._transform.clone()),this}lineTo(x2,y2){this._tick++;const t2=this._transform;return this._activePath.lineTo(t2.a*x2+t2.c*y2+t2.tx,t2.b*x2+t2.d*y2+t2.ty),this}moveTo(x2,y2){this._tick++;const t2=this._transform,instructions=this._activePath.instructions,transformedX=t2.a*x2+t2.c*y2+t2.tx,transformedY=t2.b*x2+t2.d*y2+t2.ty;return instructions.length===1&&instructions[0].action==="moveTo"?(instructions[0].data[0]=transformedX,instructions[0].data[1]=transformedY,this):(this._activePath.moveTo(transformedX,transformedY),this)}quadraticCurveTo(cpx,cpy,x2,y2,smoothness){this._tick++;const t2=this._transform;return this._activePath.quadraticCurveTo(t2.a*cpx+t2.c*cpy+t2.tx,t2.b*cpx+t2.d*cpy+t2.ty,t2.a*x2+t2.c*y2+t2.tx,t2.b*x2+t2.d*y2+t2.ty,smoothness),this}rect(x2,y2,w2,h2){return this._tick++,this._activePath.rect(x2,y2,w2,h2,this._transform.clone()),this}roundRect(x2,y2,w2,h2,radius){return this._tick++,this._activePath.roundRect(x2,y2,w2,h2,radius,this._transform.clone()),this}poly(points,close){return this._tick++,this._activePath.poly(points,close,this._transform.clone()),this}regularPoly(x2,y2,radius,sides,rotation=0,transform){return this._tick++,this._activePath.regularPoly(x2,y2,radius,sides,rotation,transform),this}roundPoly(x2,y2,radius,sides,corner,rotation){return this._tick++,this._activePath.roundPoly(x2,y2,radius,sides,corner,rotation),this}roundShape(points,radius,useQuadratic,smoothness){return this._tick++,this._activePath.roundShape(points,radius,useQuadratic,smoothness),this}filletRect(x2,y2,width,height,fillet){return this._tick++,this._activePath.filletRect(x2,y2,width,height,fillet),this}chamferRect(x2,y2,width,height,chamfer,transform){return this._tick++,this._activePath.chamferRect(x2,y2,width,height,chamfer,transform),this}star(x2,y2,points,radius,innerRadius=0,rotation=0){return this._tick++,this._activePath.star(x2,y2,points,radius,innerRadius,rotation,this._transform.clone()),this}svg(svg){return this._tick++,SVGParser(svg,this),this}restore(){const state=this._stateStack.pop();return state&&(this._transform=state.transform,this._fillStyle=state.fillStyle,this._strokeStyle=state.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(angle){return this._transform.rotate(angle),this}scale(x2,y2=x2){return this._transform.scale(x2,y2),this}setTransform(a2,b2,c2,d2,dx,dy){return a2 instanceof Matrix?(this._transform.set(a2.a,a2.b,a2.c,a2.d,a2.tx,a2.ty),this):(this._transform.set(a2,b2,c2,d2,dx,dy),this)}transform(a2,b2,c2,d2,dx,dy){return a2 instanceof Matrix?(this._transform.append(a2),this):(tempMatrix.set(a2,b2,c2,d2,dx,dy),this._transform.append(tempMatrix),this)}translate(x2,y2=x2){return this._transform.translate(x2,y2),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const bounds=this._bounds;bounds.clear();for(let i2=0;i2<this.instructions.length;i2++){const instruction=this.instructions[i2],action=instruction.action;if(action==="fill"){const data=instruction.data;bounds.addBounds(data.path.bounds)}else if(action==="texture"){const data=instruction.data;bounds.addFrame(data.dx,data.dy,data.dx+data.dw,data.dy+data.dh,data.transform)}if(action==="stroke"){const data=instruction.data,alignment=data.style.alignment,outerPadding=data.style.width*(1-alignment),_bounds=data.path.bounds;bounds.addFrame(_bounds.minX-outerPadding,_bounds.minY-outerPadding,_bounds.maxX+outerPadding,_bounds.maxY+outerPadding)}}return bounds}containsPoint(point){if(!this.bounds.containsPoint(point.x,point.y))return!1;const instructions=this.instructions;let hasHit=!1;for(let k2=0;k2<instructions.length;k2++){const instruction=instructions[k2],data=instruction.data,path2=data.path;if(!instruction.action||!path2)continue;const style=data.style,shapes=path2.shapePath.shapePrimitives;for(let i2=0;i2<shapes.length;i2++){const shape=shapes[i2].shape;if(!style||!shape)continue;const transform=shapes[i2].transform,transformedPoint=transform?transform.applyInverse(point,tmpPoint):point;if(instruction.action==="fill")hasHit=shape.contains(transformedPoint.x,transformedPoint.y);else{const strokeStyle=style;hasHit=shape.strokeContains(transformedPoint.x,transformedPoint.y,strokeStyle.width,strokeStyle.alignment)}const holes=data.hole;if(holes){const holeShapes=holes.shapePath?.shapePrimitives;if(holeShapes)for(let j2=0;j2<holeShapes.length;j2++)holeShapes[j2].shape.contains(transformedPoint.x,transformedPoint.y)&&(hasHit=!1)}if(hasHit)return!0}}return hasHit}destroy(options=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof options=="boolean"?options:options?.texture){const destroyTextureSource=typeof options=="boolean"?options:options?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(destroyTextureSource),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(destroyTextureSource)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};_GraphicsContext.defaultFillStyle={color:16777215,alpha:1,texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local"};_GraphicsContext.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let GraphicsContext=_GraphicsContext;const valuesToIterateForKeys=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function generateTextStyleKey(style){const key=[];let index=0;for(let i2=0;i2<valuesToIterateForKeys.length;i2++){const prop=`_${valuesToIterateForKeys[i2]}`;key[index++]=style[prop]}return index=addFillStyleKey(style._fill,key,index),index=addStokeStyleKey(style._stroke,key,index),index=addDropShadowKey(style.dropShadow,key,index),index=addFiltersKey(style.filters,key,index),key.join("-")}function addFiltersKey(filters,key,index){if(!filters)return index;for(const filter of filters)key[index++]=filter.uid;return index}function addFillStyleKey(fillStyle,key,index){return fillStyle&&(key[index++]=fillStyle.color,key[index++]=fillStyle.alpha,key[index++]=fillStyle.fill?.styleKey),index}function addStokeStyleKey(strokeStyle,key,index){return strokeStyle&&(index=addFillStyleKey(strokeStyle,key,index),key[index++]=strokeStyle.width,key[index++]=strokeStyle.alignment,key[index++]=strokeStyle.cap,key[index++]=strokeStyle.join,key[index++]=strokeStyle.miterLimit),index}function addDropShadowKey(dropShadow,key,index){return dropShadow&&(key[index++]=dropShadow.alpha,key[index++]=dropShadow.angle,key[index++]=dropShadow.blur,key[index++]=dropShadow.distance,key[index++]=Color.shared.setValue(dropShadow.color).toNumber()),index}const _TextStyle=class _TextStyle2 extends EventEmitter{constructor(style={}){super(),convertV7Tov8Style(style);const fullStyle={..._TextStyle2.defaultTextStyle,...style};for(const key in fullStyle){const thisKey=key;this[thisKey]=fullStyle[key]}this.update()}get align(){return this._align}set align(value){this._align=value,this.update()}get breakWords(){return this._breakWords}set breakWords(value){this._breakWords=value,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(value){value!==null&&typeof value=="object"?this._dropShadow=this._createProxy({..._TextStyle2.defaultDropShadow,...value}):this._dropShadow=value?this._createProxy({..._TextStyle2.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(value){this._fontFamily=value,this.update()}get fontSize(){return this._fontSize}set fontSize(value){typeof value=="string"?this._fontSize=parseInt(value,10):this._fontSize=value,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(value){this._fontStyle=value.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(value){this._fontVariant=value,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(value){this._fontWeight=value,this.update()}get leading(){return this._leading}set leading(value){this._leading=value,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(value){this._letterSpacing=value,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(value){this._lineHeight=value,this.update()}get padding(){return this._padding}set padding(value){this._padding=value,this.update()}get filters(){return this._filters}set filters(value){this._filters=value,this.update()}get trim(){return this._trim}set trim(value){this._trim=value,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(value){this._textBaseline=value,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(value){this._whiteSpace=value,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(value){this._wordWrap=value,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(value){this._wordWrapWidth=value,this.update()}get fill(){return this._originalFill}set fill(value){value!==this._originalFill&&(this._originalFill=value,this._isFillStyle(value)&&(this._originalFill=this._createProxy({...GraphicsContext.defaultFillStyle,...value},()=>{this._fill=toFillStyle({...this._originalFill},GraphicsContext.defaultFillStyle)})),this._fill=toFillStyle(value===0?"black":value,GraphicsContext.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(value){value!==this._originalStroke&&(this._originalStroke=value,this._isFillStyle(value)&&(this._originalStroke=this._createProxy({...GraphicsContext.defaultStrokeStyle,...value},()=>{this._stroke=toStrokeStyle({...this._originalStroke},GraphicsContext.defaultStrokeStyle)})),this._stroke=toStrokeStyle(value,GraphicsContext.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=generateTextStyleKey(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const defaultStyle=_TextStyle2.defaultTextStyle;for(const key in defaultStyle)this[key]=defaultStyle[key]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new _TextStyle2({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let filterPadding=0;if(this._filters)for(let i2=0;i2<this._filters.length;i2++)filterPadding+=this._filters[i2].padding;return Math.max(this._padding,filterPadding)}destroy(options=!1){if(this.removeAllListeners(),typeof options=="boolean"?options:options?.texture){const destroyTextureSource=typeof options=="boolean"?options:options?.textureSource;this._fill?.texture&&this._fill.texture.destroy(destroyTextureSource),this._originalFill?.texture&&this._originalFill.texture.destroy(destroyTextureSource),this._stroke?.texture&&this._stroke.texture.destroy(destroyTextureSource),this._originalStroke?.texture&&this._originalStroke.texture.destroy(destroyTextureSource)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(value,cb){return new Proxy(value,{set:(target,property,newValue)=>(target[property]=newValue,cb?.(property,newValue),this.update(),!0)})}_isFillStyle(value){return(value??null)!==null&&!(Color.isColorLike(value)||value instanceof FillGradient||value instanceof FillPattern)}};_TextStyle.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};_TextStyle.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let TextStyle=_TextStyle;function convertV7Tov8Style(style){const oldStyle=style;if(typeof oldStyle.dropShadow=="boolean"&&oldStyle.dropShadow){const defaults=TextStyle.defaultDropShadow;style.dropShadow={alpha:oldStyle.dropShadowAlpha??defaults.alpha,angle:oldStyle.dropShadowAngle??defaults.angle,blur:oldStyle.dropShadowBlur??defaults.blur,color:oldStyle.dropShadowColor??defaults.color,distance:oldStyle.dropShadowDistance??defaults.distance}}if(oldStyle.strokeThickness!==void 0){deprecation(v8_0_0,"strokeThickness is now a part of stroke");const color=oldStyle.stroke;let obj={};if(Color.isColorLike(color))obj.color=color;else if(color instanceof FillGradient||color instanceof FillPattern)obj.fill=color;else if(Object.hasOwnProperty.call(color,"color")||Object.hasOwnProperty.call(color,"fill"))obj=color;else throw new Error("Invalid stroke value.");style.stroke={...obj,width:oldStyle.strokeThickness}}if(Array.isArray(oldStyle.fillGradientStops)){deprecation(v8_0_0,"gradient fill is now a fill pattern: `new FillGradient(...)`");let fontSize;style.fontSize==null?style.fontSize=TextStyle.defaultTextStyle.fontSize:typeof style.fontSize=="string"?fontSize=parseInt(style.fontSize,10):fontSize=style.fontSize;const gradientFill=new FillGradient({start:{x:0,y:0},end:{x:0,y:(fontSize||0)*1.7}}),fills=oldStyle.fillGradientStops.map(color=>Color.shared.setValue(color).toNumber());fills.forEach((number,index)=>{const ratio=index/(fills.length-1);gradientFill.addColorStop(ratio,number)}),style.fill={fill:gradientFill}}}class CanvasPoolClass{constructor(canvasOptions){this._canvasPool=Object.create(null),this.canvasOptions=canvasOptions||{},this.enableFullScreen=!1}_createCanvasAndContext(pixelWidth,pixelHeight){const canvas=DOMAdapter.get().createCanvas();canvas.width=pixelWidth,canvas.height=pixelHeight;const context2=canvas.getContext("2d");return{canvas,context:context2}}getOptimalCanvasAndContext(minWidth,minHeight,resolution=1){minWidth=Math.ceil(minWidth*resolution-1e-6),minHeight=Math.ceil(minHeight*resolution-1e-6),minWidth=nextPow2(minWidth),minHeight=nextPow2(minHeight);const key=(minWidth<<17)+(minHeight<<1);this._canvasPool[key]||(this._canvasPool[key]=[]);let canvasAndContext=this._canvasPool[key].pop();return canvasAndContext||(canvasAndContext=this._createCanvasAndContext(minWidth,minHeight)),canvasAndContext}returnCanvasAndContext(canvasAndContext){const canvas=canvasAndContext.canvas,{width,height}=canvas,key=(width<<17)+(height<<1);canvasAndContext.context.clearRect(0,0,width,height),this._canvasPool[key].push(canvasAndContext)}clear(){this._canvasPool={}}}const CanvasPool=new CanvasPoolClass,PRECISION=1e5;function getCanvasFillStyle(fillStyle,context2,textMetrics,padding=0){if(fillStyle.texture===Texture.WHITE&&!fillStyle.fill)return Color.shared.setValue(fillStyle.color).setAlpha(fillStyle.alpha??1).toHexa();if(fillStyle.fill){if(fillStyle.fill instanceof FillPattern){const fillPattern=fillStyle.fill,pattern=context2.createPattern(fillPattern.texture.source.resource,"repeat"),tempMatrix2=fillPattern.transform.copyTo(Matrix.shared);return tempMatrix2.scale(fillPattern.texture.frame.width,fillPattern.texture.frame.height),pattern.setTransform(tempMatrix2),pattern}else if(fillStyle.fill instanceof FillGradient){const fillGradient=fillStyle.fill,isLinear=fillGradient.type==="linear",isLocal=fillGradient.textureSpace==="local";let width=1,height=1;isLocal&&textMetrics&&(width=textMetrics.width+padding,height=textMetrics.height+padding);let gradient,isNearlyVertical=!1;if(isLinear){const{start,end}=fillGradient;gradient=context2.createLinearGradient(start.x*width,start.y*height,end.x*width,end.y*height),isNearlyVertical=Math.abs(end.x-start.x)<Math.abs((end.y-start.y)*.1)}else{const{center,innerRadius,outerCenter,outerRadius}=fillGradient;gradient=context2.createRadialGradient(center.x*width,center.y*height,innerRadius*width,outerCenter.x*width,outerCenter.y*height,outerRadius*width)}if(isNearlyVertical&&isLocal&&textMetrics){const ratio=textMetrics.lineHeight/height;for(let i2=0;i2<textMetrics.lines.length;i2++){const start=(i2*textMetrics.lineHeight+padding/2)/height;fillGradient.colorStops.forEach(stop=>{const globalStop=start+stop.offset*ratio;gradient.addColorStop(Math.floor(globalStop*PRECISION)/PRECISION,Color.shared.setValue(stop.color).toHex())})}}else fillGradient.colorStops.forEach(stop=>{gradient.addColorStop(stop.offset,Color.shared.setValue(stop.color).toHex())});return gradient}}else{const pattern=context2.createPattern(fillStyle.texture.source.resource,"repeat"),tempMatrix2=fillStyle.matrix.copyTo(Matrix.shared);return tempMatrix2.scale(fillStyle.texture.frame.width,fillStyle.texture.frame.height),pattern.setTransform(tempMatrix2),pattern}return warn("FillStyle not recognised",fillStyle),"red"}class Graphics extends ViewContainer{constructor(options){options instanceof GraphicsContext&&(options={context:options});const{context:context2,roundPixels,...rest}=options||{};super({label:"Graphics",...rest}),this.renderPipeId="graphics",context2?this._context=context2:this._context=this._ownedContext=new GraphicsContext,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=roundPixels??!1}set context(context2){context2!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=context2,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(point){return this._context.containsPoint(point)}destroy(options){this._ownedContext&&!options?this._ownedContext.destroy(options):(options===!0||options?.context===!0)&&this._context.destroy(options),this._ownedContext=null,this._context=null,super.destroy(options)}_callContextMethod(method,args){return this.context[method](...args),this}setFillStyle(...args){return this._callContextMethod("setFillStyle",args)}setStrokeStyle(...args){return this._callContextMethod("setStrokeStyle",args)}fill(...args){return this._callContextMethod("fill",args)}stroke(...args){return this._callContextMethod("stroke",args)}texture(...args){return this._callContextMethod("texture",args)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...args){return this._callContextMethod("arc",args)}arcTo(...args){return this._callContextMethod("arcTo",args)}arcToSvg(...args){return this._callContextMethod("arcToSvg",args)}bezierCurveTo(...args){return this._callContextMethod("bezierCurveTo",args)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...args){return this._callContextMethod("ellipse",args)}circle(...args){return this._callContextMethod("circle",args)}path(...args){return this._callContextMethod("path",args)}lineTo(...args){return this._callContextMethod("lineTo",args)}moveTo(...args){return this._callContextMethod("moveTo",args)}quadraticCurveTo(...args){return this._callContextMethod("quadraticCurveTo",args)}rect(...args){return this._callContextMethod("rect",args)}roundRect(...args){return this._callContextMethod("roundRect",args)}poly(...args){return this._callContextMethod("poly",args)}regularPoly(...args){return this._callContextMethod("regularPoly",args)}roundPoly(...args){return this._callContextMethod("roundPoly",args)}roundShape(...args){return this._callContextMethod("roundShape",args)}filletRect(...args){return this._callContextMethod("filletRect",args)}chamferRect(...args){return this._callContextMethod("chamferRect",args)}star(...args){return this._callContextMethod("star",args)}svg(...args){return this._callContextMethod("svg",args)}restore(...args){return this._callContextMethod("restore",args)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...args){return this._callContextMethod("rotate",args)}scaleTransform(...args){return this._callContextMethod("scale",args)}setTransform(...args){return this._callContextMethod("setTransform",args)}transform(...args){return this._callContextMethod("transform",args)}translateTransform(...args){return this._callContextMethod("translate",args)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(value){this._context.fillStyle=value}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(value){this._context.strokeStyle=value}clone(deep=!1){return deep?new Graphics(this._context.clone()):(this._ownedContext=null,new Graphics(this._context))}lineStyle(width,color,alpha){deprecation(v8_0_0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const strokeStyle={};return width&&(strokeStyle.width=width),color&&(strokeStyle.color=color),alpha&&(strokeStyle.alpha=alpha),this.context.strokeStyle=strokeStyle,this}beginFill(color,alpha){deprecation(v8_0_0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const fillStyle={};return color!==void 0&&(fillStyle.color=color),alpha!==void 0&&(fillStyle.alpha=alpha),this.context.fillStyle=fillStyle,this}endFill(){deprecation(v8_0_0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const strokeStyle=this.context.strokeStyle;return(strokeStyle.width!==GraphicsContext.defaultStrokeStyle.width||strokeStyle.color!==GraphicsContext.defaultStrokeStyle.color||strokeStyle.alpha!==GraphicsContext.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...args){return deprecation(v8_0_0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",args)}drawEllipse(...args){return deprecation(v8_0_0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",args)}drawPolygon(...args){return deprecation(v8_0_0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",args)}drawRect(...args){return deprecation(v8_0_0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",args)}drawRoundedRect(...args){return deprecation(v8_0_0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",args)}drawStar(...args){return deprecation(v8_0_0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",args)}}class AbstractText extends ViewContainer{constructor(options,styleClass){const{text,resolution,style,anchor,width,height,roundPixels,...rest}=options;super({...rest}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=styleClass,this.text=text??"",this.style=style,this.resolution=resolution??null,this.allowChildren=!1,this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),anchor&&(this.anchor=anchor),this.roundPixels=roundPixels??!1,width!==void 0&&(this.width=width),height!==void 0&&(this.height=height)}get anchor(){return this._anchor}set anchor(value){typeof value=="number"?this._anchor.set(value):this._anchor.copyFrom(value)}set text(value){value=value.toString(),this._text!==value&&(this._text=value,this.onViewUpdate())}get text(){return this._text}set resolution(value){this._autoResolution=value===null,this._resolution=value,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(style){style||(style={}),this._style?.off("update",this.onViewUpdate,this),style instanceof this._styleClass?this._style=style:this._style=new this._styleClass(style),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(value){this._setWidth(value,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(value){this._setHeight(value,this.bounds.height)}getSize(out2){return out2||(out2={}),out2.width=Math.abs(this.scale.x)*this.bounds.width,out2.height=Math.abs(this.scale.y)*this.bounds.height,out2}setSize(value,height){typeof value=="object"?(height=value.height??value.width,value=value.width):height??(height=value),value!==void 0&&this._setWidth(value,this.bounds.width),height!==void 0&&this._setHeight(height,this.bounds.height)}containsPoint(point){const width=this.bounds.width,height=this.bounds.height,x1=-width*this.anchor.x;let y1=0;return point.x>=x1&&point.x<=x1+width&&(y1=-height*this.anchor.y,point.y>=y1&&point.y<=y1+height)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(options=!1){super.destroy(options),this.owner=null,this._bounds=null,this._anchor=null,(typeof options=="boolean"?options:options?.style)&&this._style.destroy(options),this._style=null,this._text=null}}function ensureTextOptions(args,name){let options=args[0]??{};return(typeof options=="string"||args[1])&&(deprecation(v8_0_0,`use new ${name}({ text: "hi!", style }) instead`),options={text:options,style:args[1]}),options}let _internalCanvas=null,_internalContext=null;function ensureInternalCanvas(width,height){_internalCanvas||(_internalCanvas=DOMAdapter.get().createCanvas(256,128),_internalContext=_internalCanvas.getContext("2d",{willReadFrequently:!0}),_internalContext.globalCompositeOperation="copy",_internalContext.globalAlpha=1),(_internalCanvas.width<width||_internalCanvas.height<height)&&(_internalCanvas.width=nextPow2(width),_internalCanvas.height=nextPow2(height))}function checkRow(data,width,y2){for(let x2=0,index=4*y2*width;x2<width;++x2,index+=4)if(data[index+3]!==0)return!1;return!0}function checkColumn(data,width,x2,top,bottom){const stride=4*width;for(let y2=top,index=top*stride+4*x2;y2<=bottom;++y2,index+=stride)if(data[index+3]!==0)return!1;return!0}function getCanvasBoundingBox(...args){let options=args[0];options.canvas||(options={canvas:args[0],resolution:args[1]});const{canvas}=options,resolution=Math.min(options.resolution??1,1),width=options.width??canvas.width,height=options.height??canvas.height;let output=options.output;if(ensureInternalCanvas(width,height),!_internalContext)throw new TypeError("Failed to get canvas 2D context");_internalContext.drawImage(canvas,0,0,width,height,0,0,width*resolution,height*resolution);const data=_internalContext.getImageData(0,0,width,height).data;let left=0,top=0,right=width-1,bottom=height-1;for(;top<height&&checkRow(data,width,top);)++top;if(top===height)return Rectangle.EMPTY;for(;checkRow(data,width,bottom);)--bottom;for(;checkColumn(data,width,left,top,bottom);)++left;for(;checkColumn(data,width,right,top,bottom);)--right;return++right,++bottom,_internalContext.globalCompositeOperation="source-over",_internalContext.strokeRect(left,top,right-left,bottom-top),_internalContext.globalCompositeOperation="copy",output??(output=new Rectangle),output.set(left/resolution,top/resolution,(right-left)/resolution,(bottom-top)/resolution),output}const tempRect=new Rectangle;class CanvasTextGeneratorClass{getCanvasAndContext(options){const{text,style,resolution=1}=options,padding=style._getFinalPadding(),measured=CanvasTextMetrics.measureText(text||" ",style),width=Math.ceil(Math.ceil(Math.max(1,measured.width)+padding*2)*resolution),height=Math.ceil(Math.ceil(Math.max(1,measured.height)+padding*2)*resolution),canvasAndContext=CanvasPool.getOptimalCanvasAndContext(width,height);this._renderTextToCanvas(text,style,padding,resolution,canvasAndContext);const frame=style.trim?getCanvasBoundingBox({canvas:canvasAndContext.canvas,width,height,resolution:1,output:tempRect}):tempRect.set(0,0,width,height);return{canvasAndContext,frame}}returnCanvasAndContext(canvasAndContext){CanvasPool.returnCanvasAndContext(canvasAndContext)}_renderTextToCanvas(text,style,padding,resolution,canvasAndContext){const{canvas,context:context2}=canvasAndContext,font=fontStringFromTextStyle(style),measured=CanvasTextMetrics.measureText(text||" ",style),lines=measured.lines,lineHeight=measured.lineHeight,lineWidths=measured.lineWidths,maxLineWidth=measured.maxLineWidth,fontProperties=measured.fontProperties,height=canvas.height;if(context2.resetTransform(),context2.scale(resolution,resolution),context2.textBaseline=style.textBaseline,style._stroke?.width){const strokeStyle=style._stroke;context2.lineWidth=strokeStyle.width,context2.miterLimit=strokeStyle.miterLimit,context2.lineJoin=strokeStyle.join,context2.lineCap=strokeStyle.cap}context2.font=font;let linePositionX,linePositionY;const passesCount=style.dropShadow?2:1;for(let i2=0;i2<passesCount;++i2){const isShadowPass=style.dropShadow&&i2===0,dsOffsetText=isShadowPass?Math.ceil(Math.max(1,height)+padding*2):0,dsOffsetShadow=dsOffsetText*resolution;if(isShadowPass){context2.fillStyle="black",context2.strokeStyle="black";const shadowOptions=style.dropShadow,dropShadowColor=shadowOptions.color,dropShadowAlpha=shadowOptions.alpha;context2.shadowColor=Color.shared.setValue(dropShadowColor).setAlpha(dropShadowAlpha).toRgbaString();const dropShadowBlur=shadowOptions.blur*resolution,dropShadowDistance=shadowOptions.distance*resolution;context2.shadowBlur=dropShadowBlur,context2.shadowOffsetX=Math.cos(shadowOptions.angle)*dropShadowDistance,context2.shadowOffsetY=Math.sin(shadowOptions.angle)*dropShadowDistance+dsOffsetShadow}else{if(context2.fillStyle=style._fill?getCanvasFillStyle(style._fill,context2,measured):null,style._stroke?.width){const padding2=style._stroke.width*style._stroke.alignment;context2.strokeStyle=getCanvasFillStyle(style._stroke,context2,measured,padding2)}context2.shadowColor="black"}let linePositionYShift=(lineHeight-fontProperties.fontSize)/2;lineHeight-fontProperties.fontSize<0&&(linePositionYShift=0);const strokeWidth=style._stroke?.width??0;for(let i22=0;i22<lines.length;i22++)linePositionX=strokeWidth/2,linePositionY=strokeWidth/2+i22*lineHeight+fontProperties.ascent+linePositionYShift,style.align==="right"?linePositionX+=maxLineWidth-lineWidths[i22]:style.align==="center"&&(linePositionX+=(maxLineWidth-lineWidths[i22])/2),style._stroke?.width&&this._drawLetterSpacing(lines[i22],style,canvasAndContext,linePositionX+padding,linePositionY+padding-dsOffsetText,!0),style._fill!==void 0&&this._drawLetterSpacing(lines[i22],style,canvasAndContext,linePositionX+padding,linePositionY+padding-dsOffsetText)}}_drawLetterSpacing(text,style,canvasAndContext,x2,y2,isStroke=!1){const{context:context2}=canvasAndContext,letterSpacing=style.letterSpacing;let useExperimentalLetterSpacing=!1;if(CanvasTextMetrics.experimentalLetterSpacingSupported&&(CanvasTextMetrics.experimentalLetterSpacing?(context2.letterSpacing=`${letterSpacing}px`,context2.textLetterSpacing=`${letterSpacing}px`,useExperimentalLetterSpacing=!0):(context2.letterSpacing="0px",context2.textLetterSpacing="0px")),letterSpacing===0||useExperimentalLetterSpacing){isStroke?context2.strokeText(text,x2,y2):context2.fillText(text,x2,y2);return}let currentPosition=x2;const stringArray=CanvasTextMetrics.graphemeSegmenter(text);let previousWidth=context2.measureText(text).width,currentWidth=0;for(let i2=0;i2<stringArray.length;++i2){const currentChar=stringArray[i2];isStroke?context2.strokeText(currentChar,currentPosition,y2):context2.fillText(currentChar,currentPosition,y2);let textStr="";for(let j2=i2+1;j2<stringArray.length;++j2)textStr+=stringArray[j2];currentWidth=context2.measureText(textStr).width,currentPosition+=previousWidth-currentWidth+letterSpacing,previousWidth=currentWidth}}}const CanvasTextGenerator=new CanvasTextGeneratorClass;class Text extends AbstractText{constructor(...args){const options=ensureTextOptions(args,"Text");super(options,TextStyle),this.renderPipeId="text",options.textureStyle&&(this.textureStyle=options.textureStyle instanceof TextureStyle?options.textureStyle:new TextureStyle(options.textureStyle))}updateBounds(){const bounds=this._bounds,anchor=this._anchor;let width=0,height=0;if(this._style.trim){const{frame,canvasAndContext}=CanvasTextGenerator.getCanvasAndContext({text:this.text,style:this._style,resolution:1});CanvasTextGenerator.returnCanvasAndContext(canvasAndContext),width=frame.width,height=frame.height}else{const canvasMeasurement=CanvasTextMetrics.measureText(this._text,this._style);width=canvasMeasurement.width,height=canvasMeasurement.height}bounds.minX=-anchor._x*width,bounds.maxX=bounds.minX+width,bounds.minY=-anchor._y*height,bounds.maxY=bounds.minY+height}}extensions.add(browserExt,webworkerExt);var t={763:()=>{}},e={};function n(s2){var i2=e[s2];if(i2!==void 0)return i2.exports;var r2=e[s2]={exports:{}};return t[s2](r2,r2.exports,n),r2.exports}n.d=(t2,e2)=>{for(var s2 in e2)n.o(e2,s2)&&!n.o(t2,s2)&&Object.defineProperty(t2,s2,{enumerable:!0,get:e2[s2]})},n.o=(t2,e2)=>Object.prototype.hasOwnProperty.call(t2,e2);var s={};n.d(s,{MG:()=>$,fr:()=>Lt,sR:()=>Ae,Zo:()=>ke,iH:()=>Re,rt:()=>Pt,jB:()=>be,M8:()=>le,$t:()=>Ce,aq:()=>me,pG:()=>Ot,eP:()=>Te,KU:()=>xe,zW:()=>Ie,IX:()=>E,mY:()=>_,a7:()=>j,JG:()=>Ut,ay:()=>Xt,X2:()=>ee,WU:()=>de,Uw:()=>ge,gw:()=>pe,iX:()=>Fe,re:()=>se,Pg:()=>Be,tD:()=>ie,R$:()=>te,Dj:()=>Ft,m7:()=>U,NZ:()=>P,xo:()=>b,ou:()=>i,qC:()=>ze,mD:()=>d,Ay:()=>Ye});class i{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t2){this._text=t2}}function r(t2,e2){if(!Array.isArray(t2)||!Array.isArray(e2))return!1;if(t2===e2)return!0;if(t2.length!==e2.length)return!1;for(let n2=0;n2<t2.length;n2++)if(!(t2[n2]===e2[n2]||t2[n2].equals&&t2[n2].equals(e2[n2])))return!1;return!0}i.INVALID_TYPE=0,i.EPSILON=-2,i.MIN_USER_TOKEN_TYPE=1,i.EOF=-1,i.DEFAULT_CHANNEL=0,i.HIDDEN_CHANNEL=1;const o=Math.round(Math.random()*Math.pow(2,32));function a(t2){if(!t2)return 0;const e2=typeof t2,n2=e2==="string"?t2:!(e2!=="object"||!t2.toString)&&t2.toString();if(!n2)return 0;let s2,i2;const r2=3&n2.length,a2=n2.length-r2;let l2=o;const h2=3432918353,c2=461845907;let u2=0;for(;u2<a2;)i2=255&n2.charCodeAt(u2)|(255&n2.charCodeAt(++u2))<<8|(255&n2.charCodeAt(++u2))<<16|(255&n2.charCodeAt(++u2))<<24,++u2,i2=(65535&i2)*h2+(((i2>>>16)*h2&65535)<<16)&4294967295,i2=i2<<15|i2>>>17,i2=(65535&i2)*c2+(((i2>>>16)*c2&65535)<<16)&4294967295,l2^=i2,l2=l2<<13|l2>>>19,s2=5*(65535&l2)+((5*(l2>>>16)&65535)<<16)&4294967295,l2=27492+(65535&s2)+((58964+(s2>>>16)&65535)<<16);switch(i2=0,r2){case 3:i2^=(255&n2.charCodeAt(u2+2))<<16;case 2:i2^=(255&n2.charCodeAt(u2+1))<<8;case 1:i2^=255&n2.charCodeAt(u2),i2=(65535&i2)*h2+(((i2>>>16)*h2&65535)<<16)&4294967295,i2=i2<<15|i2>>>17,i2=(65535&i2)*c2+(((i2>>>16)*c2&65535)<<16)&4294967295,l2^=i2}return l2^=n2.length,l2^=l2>>>16,l2=2246822507*(65535&l2)+((2246822507*(l2>>>16)&65535)<<16)&4294967295,l2^=l2>>>13,l2=3266489909*(65535&l2)+((3266489909*(l2>>>16)&65535)<<16)&4294967295,l2^=l2>>>16,l2>>>0}class l{constructor(){this.count=0,this.hash=0}update(){for(let t2=0;t2<arguments.length;t2++){const e2=arguments[t2];if(e2!=null)if(Array.isArray(e2))this.update.apply(this,e2);else{let t3=0;switch(typeof e2){case"undefined":case"function":continue;case"number":case"boolean":t3=e2;break;case"string":t3=a(e2);break;default:e2.updateHashCode?e2.updateHashCode(this):console.log("No updateHashCode for "+e2.toString());continue}t3*=3432918353,t3=t3<<15|t3>>>17,t3*=461845907,this.count=this.count+1;let n2=this.hash^t3;n2=n2<<13|n2>>>19,n2=5*n2+3864292196,this.hash=n2}}}finish(){let t2=this.hash^4*this.count;return t2^=t2>>>16,t2*=2246822507,t2^=t2>>>13,t2*=3266489909,t2^=t2>>>16,t2}static hashStuff(){const t2=new l;return t2.update.apply(t2,arguments),t2.finish()}}function h(t2){return t2?typeof t2=="string"?a(t2):t2.hashCode():-1}function c(t2,e2){return t2&&t2.equals?t2.equals(e2):t2===e2}function u(t2){return t2===null?"null":t2}function d(t2){return Array.isArray(t2)?"["+t2.map(u).join(", ")+"]":"null"}class g{constructor(t2,e2){this.buckets=new Array(16),this.threshold=Math.floor(12),this.itemCount=0,this.hashFunction=t2||h,this.equalsFunction=e2||c}get(t2){if(t2==null)return t2;const e2=this._getBucket(t2);if(!e2)return null;for(const n2 of e2)if(this.equalsFunction(n2,t2))return n2;return null}add(t2){return this.getOrAdd(t2)===t2}getOrAdd(t2){this._expand();const e2=this._getSlot(t2);let n2=this.buckets[e2];if(!n2)return n2=[t2],this.buckets[e2]=n2,this.itemCount++,t2;for(const e3 of n2)if(this.equalsFunction(e3,t2))return e3;return n2.push(t2),this.itemCount++,t2}has(t2){return this.get(t2)!=null}values(){return this.buckets.filter(t2=>t2!=null).flat(1)}toString(){return d(this.values())}get length(){return this.itemCount}_getSlot(t2){return this.hashFunction(t2)&this.buckets.length-1}_getBucket(t2){return this.buckets[this._getSlot(t2)]}_expand(){if(this.itemCount<=this.threshold)return;const t2=this.buckets,e2=2*this.buckets.length;this.buckets=new Array(e2),this.threshold=Math.floor(.75*e2);for(const e3 of t2)if(e3)for(const t3 of e3){const e4=this._getSlot(t3);let n2=this.buckets[e4];n2||(n2=[],this.buckets[e4]=n2),n2.push(t3)}}}class p{hashCode(){const t2=new l;return this.updateHashCode(t2),t2.finish()}evaluate(t2,e2){}evalPrecedence(t2,e2){return this}static andContext(t2,e2){if(t2===null||t2===p.NONE)return e2;if(e2===null||e2===p.NONE)return t2;const n2=new f(t2,e2);return n2.opnds.length===1?n2.opnds[0]:n2}static orContext(t2,e2){if(t2===null)return e2;if(e2===null)return t2;if(t2===p.NONE||e2===p.NONE)return p.NONE;const n2=new x(t2,e2);return n2.opnds.length===1?n2.opnds[0]:n2}}class f extends p{constructor(t2,e2){super();const n2=new g;t2 instanceof f?t2.opnds.map(function(t3){n2.add(t3)}):n2.add(t2),e2 instanceof f?e2.opnds.map(function(t3){n2.add(t3)}):n2.add(e2);const s2=T(n2);if(s2.length>0){let t3=null;s2.map(function(e3){(t3===null||e3.precedence<t3.precedence)&&(t3=e3)}),n2.add(t3)}this.opnds=Array.from(n2.values())}equals(t2){return this===t2||t2 instanceof f&&r(this.opnds,t2.opnds)}updateHashCode(t2){t2.update(this.opnds,"AND")}evaluate(t2,e2){for(let n2=0;n2<this.opnds.length;n2++)if(!this.opnds[n2].evaluate(t2,e2))return!1;return!0}evalPrecedence(t2,e2){let n2=!1;const s2=[];for(let i3=0;i3<this.opnds.length;i3++){const r2=this.opnds[i3],o2=r2.evalPrecedence(t2,e2);if(n2|=o2!==r2,o2===null)return null;o2!==p.NONE&&s2.push(o2)}if(!n2)return this;if(s2.length===0)return p.NONE;let i2=null;return s2.map(function(t3){i2=i2===null?t3:p.andContext(i2,t3)}),i2}toString(){const t2=this.opnds.map(t3=>t3.toString());return(t2.length>3?t2.slice(3):t2).join("&&")}}class x extends p{constructor(t2,e2){super();const n2=new g;t2 instanceof x?t2.opnds.map(function(t3){n2.add(t3)}):n2.add(t2),e2 instanceof x?e2.opnds.map(function(t3){n2.add(t3)}):n2.add(e2);const s2=T(n2);if(s2.length>0){const t3=s2.sort(function(t4,e4){return t4.compareTo(e4)}),e3=t3[t3.length-1];n2.add(e3)}this.opnds=Array.from(n2.values())}equals(t2){return this===t2||t2 instanceof x&&r(this.opnds,t2.opnds)}updateHashCode(t2){t2.update(this.opnds,"OR")}evaluate(t2,e2){for(let n2=0;n2<this.opnds.length;n2++)if(this.opnds[n2].evaluate(t2,e2))return!0;return!1}evalPrecedence(t2,e2){let n2=!1;for(let i2=0;i2<this.opnds.length;i2++){const r2=this.opnds[i2],o2=r2.evalPrecedence(t2,e2);if(n2|=o2!==r2,o2===p.NONE)return p.NONE}return n2?null:this}toString(){const t2=this.opnds.map(t3=>t3.toString());return(t2.length>3?t2.slice(3):t2).join("||")}}function T(t2){const e2=[];return t2.values().map(function(t3){t3 instanceof p.PrecedencePredicate&&e2.push(t3)}),e2}function S(t2,e2){if(t2===null){const t3={state:null,alt:null,context:null,semanticContext:null};return e2&&(t3.reachesIntoOuterContext=0),t3}{const n2={};return n2.state=t2.state||null,n2.alt=t2.alt===void 0?null:t2.alt,n2.context=t2.context||null,n2.semanticContext=t2.semanticContext||null,e2&&(n2.reachesIntoOuterContext=t2.reachesIntoOuterContext||0,n2.precedenceFilterSuppressed=t2.precedenceFilterSuppressed||!1),n2}}class m{constructor(t2,e2){this.checkContext(t2,e2),t2=S(t2),e2=S(e2,!0),this.state=t2.state!==null?t2.state:e2.state,this.alt=t2.alt!==null?t2.alt:e2.alt,this.context=t2.context!==null?t2.context:e2.context,this.semanticContext=t2.semanticContext!==null?t2.semanticContext:e2.semanticContext!==null?e2.semanticContext:p.NONE,this.reachesIntoOuterContext=e2.reachesIntoOuterContext,this.precedenceFilterSuppressed=e2.precedenceFilterSuppressed}checkContext(t2,e2){t2.context!==null&&t2.context!==void 0||e2!==null&&e2.context!==null&&e2.context!==void 0||(this.context=null)}hashCode(){const t2=new l;return this.updateHashCode(t2),t2.finish()}updateHashCode(t2){t2.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t2){return this===t2||t2 instanceof m&&this.state.stateNumber===t2.state.stateNumber&&this.alt===t2.alt&&(this.context===null?t2.context===null:this.context.equals(t2.context))&&this.semanticContext.equals(t2.semanticContext)&&this.precedenceFilterSuppressed===t2.precedenceFilterSuppressed}hashCodeForConfigSet(){const t2=new l;return t2.update(this.state.stateNumber,this.alt,this.semanticContext),t2.finish()}equalsForConfigSet(t2){return this===t2||t2 instanceof m&&this.state.stateNumber===t2.state.stateNumber&&this.alt===t2.alt&&this.semanticContext.equals(t2.semanticContext)}toString(){return"("+this.state+","+this.alt+(this.context!==null?",["+this.context.toString()+"]":"")+(this.semanticContext!==p.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class E{constructor(t2,e2){this.start=t2,this.stop=e2}clone(){return new E(this.start,this.stop)}contains(t2){return t2>=this.start&&t2<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}E.INVALID_INTERVAL=new E(-1,-2);class _{constructor(){this.intervals=null,this.readOnly=!1}first(t2){return this.intervals===null||this.intervals.length===0?i.INVALID_TYPE:this.intervals[0].start}addOne(t2){this.addInterval(new E(t2,t2+1))}addRange(t2,e2){this.addInterval(new E(t2,e2+1))}addInterval(t2){if(this.intervals===null)this.intervals=[],this.intervals.push(t2.clone());else{for(let e2=0;e2<this.intervals.length;e2++){const n2=this.intervals[e2];if(t2.stop<n2.start)return void this.intervals.splice(e2,0,t2);if(t2.stop===n2.start)return void(this.intervals[e2]=new E(t2.start,n2.stop));if(t2.start<=n2.stop)return this.intervals[e2]=new E(Math.min(n2.start,t2.start),Math.max(n2.stop,t2.stop)),void this.reduce(e2)}this.intervals.push(t2.clone())}}addSet(t2){return t2.intervals!==null&&t2.intervals.forEach(t3=>this.addInterval(t3),this),this}reduce(t2){if(t2<this.intervals.length-1){const e2=this.intervals[t2],n2=this.intervals[t2+1];e2.stop>=n2.stop?(this.intervals.splice(t2+1,1),this.reduce(t2)):e2.stop>=n2.start&&(this.intervals[t2]=new E(e2.start,n2.stop),this.intervals.splice(t2+1,1))}}complement(t2,e2){const n2=new _;return n2.addInterval(new E(t2,e2+1)),this.intervals!==null&&this.intervals.forEach(t3=>n2.removeRange(t3)),n2}contains(t2){if(this.intervals===null)return!1;for(let e2=0;e2<this.intervals.length;e2++)if(this.intervals[e2].contains(t2))return!0;return!1}removeRange(t2){if(t2.start===t2.stop-1)this.removeOne(t2.start);else if(this.intervals!==null){let e2=0;for(let n2=0;n2<this.intervals.length;n2++){const n3=this.intervals[e2];if(t2.stop<=n3.start)return;if(t2.start>n3.start&&t2.stop<n3.stop){this.intervals[e2]=new E(n3.start,t2.start);const s2=new E(t2.stop,n3.stop);return void this.intervals.splice(e2,0,s2)}t2.start<=n3.start&&t2.stop>=n3.stop?(this.intervals.splice(e2,1),e2-=1):t2.start<n3.stop?this.intervals[e2]=new E(n3.start,t2.start):t2.stop<n3.stop&&(this.intervals[e2]=new E(t2.stop,n3.stop)),e2+=1}}}removeOne(t2){if(this.intervals!==null)for(let e2=0;e2<this.intervals.length;e2++){const n2=this.intervals[e2];if(t2<n2.start)return;if(t2===n2.start&&t2===n2.stop-1)return void this.intervals.splice(e2,1);if(t2===n2.start)return void(this.intervals[e2]=new E(n2.start+1,n2.stop));if(t2===n2.stop-1)return void(this.intervals[e2]=new E(n2.start,n2.stop-1));if(t2<n2.stop-1){const s2=new E(n2.start,t2);return n2.start=t2+1,void this.intervals.splice(e2,0,s2)}}}toString(t2,e2,n2){return t2=t2||null,e2=e2||null,n2=n2||!1,this.intervals===null?"{}":t2!==null||e2!==null?this.toTokenString(t2,e2):n2?this.toCharString():this.toIndexString()}toCharString(){const t2=[];for(let e2=0;e2<this.intervals.length;e2++){const n2=this.intervals[e2];n2.stop===n2.start+1?n2.start===i.EOF?t2.push("<EOF>"):t2.push("'"+String.fromCharCode(n2.start)+"'"):t2.push("'"+String.fromCharCode(n2.start)+"'..'"+String.fromCharCode(n2.stop-1)+"'")}return t2.length>1?"{"+t2.join(", ")+"}":t2[0]}toIndexString(){const t2=[];for(let e2=0;e2<this.intervals.length;e2++){const n2=this.intervals[e2];n2.stop===n2.start+1?n2.start===i.EOF?t2.push("<EOF>"):t2.push(n2.start.toString()):t2.push(n2.start.toString()+".."+(n2.stop-1).toString())}return t2.length>1?"{"+t2.join(", ")+"}":t2[0]}toTokenString(t2,e2){const n2=[];for(let s2=0;s2<this.intervals.length;s2++){const i2=this.intervals[s2];for(let s3=i2.start;s3<i2.stop;s3++)n2.push(this.elementName(t2,e2,s3))}return n2.length>1?"{"+n2.join(", ")+"}":n2[0]}elementName(t2,e2,n2){return n2===i.EOF?"<EOF>":n2===i.EPSILON?"<EPSILON>":t2[n2]||e2[n2]}get length(){return this.intervals.map(t2=>t2.length).reduce((t2,e2)=>t2+e2)}}class C{constructor(){this.atn=null,this.stateNumber=C.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t2){return t2 instanceof C&&this.stateNumber===t2.stateNumber}isNonGreedyExitState(){return!1}addTransition(t2,e2){e2===void 0&&(e2=-1),this.transitions.length===0?this.epsilonOnlyTransitions=t2.isEpsilon:this.epsilonOnlyTransitions!==t2.isEpsilon&&(this.epsilonOnlyTransitions=!1),e2===-1?this.transitions.push(t2):this.transitions.splice(e2,1,t2)}}C.INVALID_TYPE=0,C.BASIC=1,C.RULE_START=2,C.BLOCK_START=3,C.PLUS_BLOCK_START=4,C.STAR_BLOCK_START=5,C.TOKEN_START=6,C.RULE_STOP=7,C.BLOCK_END=8,C.STAR_LOOP_BACK=9,C.STAR_LOOP_ENTRY=10,C.PLUS_LOOP_BACK=11,C.LOOP_END=12,C.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],C.INVALID_STATE_NUMBER=-1;class A extends C{constructor(){return super(),this.stateType=C.RULE_STOP,this}}class N{constructor(t2){if(t2==null)throw"target cannot be null.";this.target=t2,this.isEpsilon=!1,this.label=null}}N.EPSILON=1,N.RANGE=2,N.RULE=3,N.PREDICATE=4,N.ATOM=5,N.ACTION=6,N.SET=7,N.NOT_SET=8,N.WILDCARD=9,N.PRECEDENCE=10,N.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],N.serializationTypes={EpsilonTransition:N.EPSILON,RangeTransition:N.RANGE,RuleTransition:N.RULE,PredicateTransition:N.PREDICATE,AtomTransition:N.ATOM,ActionTransition:N.ACTION,SetTransition:N.SET,NotSetTransition:N.NOT_SET,WildcardTransition:N.WILDCARD,PrecedencePredicateTransition:N.PRECEDENCE};class k extends N{constructor(t2,e2,n2,s2){super(t2),this.ruleIndex=e2,this.precedence=n2,this.followState=s2,this.serializationType=N.RULE,this.isEpsilon=!0}matches(t2,e2,n2){return!1}}class I extends N{constructor(t2,e2){super(t2),this.serializationType=N.SET,e2!=null?this.label=e2:(this.label=new _,this.label.addOne(i.INVALID_TYPE))}matches(t2,e2,n2){return this.label.contains(t2)}toString(){return this.label.toString()}}class y extends I{constructor(t2,e2){super(t2,e2),this.serializationType=N.NOT_SET}matches(t2,e2,n2){return t2>=e2&&t2<=n2&&!super.matches(t2,e2,n2)}toString(){return"~"+super.toString()}}class L extends N{constructor(t2){super(t2),this.serializationType=N.WILDCARD}matches(t2,e2,n2){return t2>=e2&&t2<=n2}toString(){return"."}}class O extends N{constructor(t2){super(t2)}}class R{}class w extends R{}class v extends w{}class P extends v{get ruleContext(){throw new Error("missing interface implementation")}}class b extends v{}class D extends b{}const F={toStringTree:function(t2,e2,n2){e2=e2||null,(n2=n2||null)!==null&&(e2=n2.ruleNames);let s2=F.getNodeText(t2,e2);s2=function(t3){return t3=t3.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(s2);const i2=t2.getChildCount();if(i2===0)return s2;let r2="("+s2+" ";i2>0&&(s2=F.toStringTree(t2.getChild(0),e2),r2=r2.concat(s2));for(let n3=1;n3<i2;n3++)s2=F.toStringTree(t2.getChild(n3),e2),r2=r2.concat(" "+s2);return r2=r2.concat(")"),r2},getNodeText:function(t2,e2,n2){if(e2=e2||null,(n2=n2||null)!==null&&(e2=n2.ruleNames),e2!==null){if(t2 instanceof P){const n3=t2.ruleContext.getAltNumber();return n3!=0?e2[t2.ruleIndex]+":"+n3:e2[t2.ruleIndex]}if(t2 instanceof D)return t2.toString();if(t2 instanceof b&&t2.symbol!==null)return t2.symbol.text}const s2=t2.getPayload();return s2 instanceof i?s2.text:t2.getPayload().toString()},getChildren:function(t2){const e2=[];for(let n2=0;n2<t2.getChildCount();n2++)e2.push(t2.getChild(n2));return e2},getAncestors:function(t2){let e2=[];for(t2=t2.getParent();t2!==null;)e2=[t2].concat(e2),t2=t2.getParent();return e2},findAllTokenNodes:function(t2,e2){return F.findAllNodes(t2,e2,!0)},findAllRuleNodes:function(t2,e2){return F.findAllNodes(t2,e2,!1)},findAllNodes:function(t2,e2,n2){const s2=[];return F._findAllNodes(t2,e2,n2,s2),s2},_findAllNodes:function(t2,e2,n2,s2){n2&&t2 instanceof b?t2.symbol.type===e2&&s2.push(t2):!n2&&t2 instanceof P&&t2.ruleIndex===e2&&s2.push(t2);for(let i2=0;i2<t2.getChildCount();i2++)F._findAllNodes(t2.getChild(i2),e2,n2,s2)},descendants:function(t2){let e2=[t2];for(let n2=0;n2<t2.getChildCount();n2++)e2=e2.concat(F.descendants(t2.getChild(n2)));return e2}},M=F;class U extends P{constructor(t2,e2){super(),this.parentCtx=t2||null,this.invokingState=e2||-1}depth(){let t2=0,e2=this;for(;e2!==null;)e2=e2.parentCtx,t2+=1;return t2}isEmpty(){return this.invokingState===-1}getSourceInterval(){return E.INVALID_INTERVAL}get ruleContext(){return this}getPayload(){return this}getText(){return this.getChildCount()===0?"":this.children.map(function(t2){return t2.getText()}).join("")}getAltNumber(){return 0}setAltNumber(t2){}getChild(t2){return null}getChildCount(){return 0}accept(t2){return t2.visitChildren(this)}toStringTree(t2,e2){return M.toStringTree(this,t2,e2)}toString(t2,e2){t2=t2||null,e2=e2||null;let n2=this,s2="[";for(;n2!==null&&n2!==e2;){if(t2===null)n2.isEmpty()||(s2+=n2.invokingState);else{const e3=n2.ruleIndex;s2+=e3>=0&&e3<t2.length?t2[e3]:""+e3}n2.parentCtx===null||t2===null&&n2.parentCtx.isEmpty()||(s2+=" "),n2=n2.parentCtx}return s2+="]",s2}}class B{constructor(t2){this.cachedHashCode=t2}isEmpty(){return this===B.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===B.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t2){t2.update(this.cachedHashCode)}}B.EMPTY=null,B.EMPTY_RETURN_STATE=2147483647,B.globalNodeCount=1,B.id=B.globalNodeCount,B.trace_atn_sim=!1;class z extends B{constructor(t2,e2){const n2=new l;return n2.update(t2,e2),super(n2.finish()),this.parents=t2,this.returnStates=e2,this}isEmpty(){return this.returnStates[0]===B.EMPTY_RETURN_STATE}getParent(t2){return this.parents[t2]}getReturnState(t2){return this.returnStates[t2]}equals(t2){return this===t2||t2 instanceof z&&this.hashCode()===t2.hashCode()&&r(this.returnStates,t2.returnStates)&&r(this.parents,t2.parents)}toString(){if(this.isEmpty())return"[]";{let t2="[";for(let e2=0;e2<this.returnStates.length;e2++)e2>0&&(t2+=", "),this.returnStates[e2]!==B.EMPTY_RETURN_STATE?(t2+=this.returnStates[e2],this.parents[e2]!==null?t2=t2+" "+this.parents[e2]:t2+="null"):t2+="$";return t2+"]"}}get length(){return this.returnStates.length}}class V extends B{constructor(t2,e2){let n2=0;const s2=new l;t2!==null?s2.update(t2,e2):s2.update(1),n2=s2.finish(),super(n2),this.parentCtx=t2,this.returnState=e2}getParent(t2){return this.parentCtx}getReturnState(t2){return this.returnState}equals(t2){return this===t2||t2 instanceof V&&this.hashCode()===t2.hashCode()&&this.returnState===t2.returnState&&(this.parentCtx==null?t2.parentCtx==null:this.parentCtx.equals(t2.parentCtx))}toString(){const t2=this.parentCtx===null?"":this.parentCtx.toString();return t2.length===0?this.returnState===B.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t2}get length(){return 1}static create(t2,e2){return e2===B.EMPTY_RETURN_STATE&&t2===null?B.EMPTY:new V(t2,e2)}}class q extends V{constructor(){super(null,B.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t2){return null}getReturnState(t2){return this.returnState}equals(t2){return this===t2}toString(){return"$"}}B.EMPTY=new q;class H{constructor(t2,e2){this.buckets=new Array(16),this.threshold=Math.floor(12),this.itemCount=0,this.hashFunction=t2||h,this.equalsFunction=e2||c}set(t2,e2){this._expand();const n2=this._getSlot(t2);let s2=this.buckets[n2];if(!s2)return s2=[[t2,e2]],this.buckets[n2]=s2,this.itemCount++,e2;const i2=s2.find(e3=>this.equalsFunction(e3[0],t2),this);if(i2){const t3=i2[1];return i2[1]=e2,t3}return s2.push([t2,e2]),this.itemCount++,e2}containsKey(t2){const e2=this._getBucket(t2);return!!e2&&!!e2.find(e3=>this.equalsFunction(e3[0],t2),this)}get(t2){const e2=this._getBucket(t2);if(!e2)return null;const n2=e2.find(e3=>this.equalsFunction(e3[0],t2),this);return n2?n2[1]:null}entries(){return this.buckets.filter(t2=>t2!=null).flat(1)}getKeys(){return this.entries().map(t2=>t2[0])}getValues(){return this.entries().map(t2=>t2[1])}toString(){return"["+this.entries().map(t2=>"{"+t2[0]+":"+t2[1]+"}").join(", ")+"]"}get length(){return this.itemCount}_getSlot(t2){return this.hashFunction(t2)&this.buckets.length-1}_getBucket(t2){return this.buckets[this._getSlot(t2)]}_expand(){if(this.itemCount<=this.threshold)return;const t2=this.buckets,e2=2*this.buckets.length;this.buckets=new Array(e2),this.threshold=Math.floor(.75*e2);for(const e3 of t2)if(e3)for(const t3 of e3){const e4=this._getSlot(t3[0]);let n2=this.buckets[e4];n2||(n2=[],this.buckets[e4]=n2),n2.push(t3)}}}function K(t2,e2){if(e2==null&&(e2=U.EMPTY),e2.parentCtx===null||e2===U.EMPTY)return B.EMPTY;const n2=K(t2,e2.parentCtx),s2=t2.states[e2.invokingState].transitions[0];return V.create(n2,s2.followState.stateNumber)}function Y(t2,e2,n2){if(t2.isEmpty())return t2;let s2=n2.get(t2)||null;if(s2!==null)return s2;if(s2=e2.get(t2),s2!==null)return n2.set(t2,s2),s2;let i2=!1,r2=[];for(let s3=0;s3<r2.length;s3++){const o3=Y(t2.getParent(s3),e2,n2);if(i2||o3!==t2.getParent(s3)){if(!i2){r2=[];for(let e3=0;e3<t2.length;e3++)r2[e3]=t2.getParent(e3);i2=!0}r2[s3]=o3}}if(!i2)return e2.add(t2),n2.set(t2,t2),t2;let o2=null;return o2=r2.length===0?B.EMPTY:r2.length===1?V.create(r2[0],t2.getReturnState(0)):new z(r2,t2.returnStates),e2.add(o2),n2.set(o2,o2),n2.set(t2,o2),o2}function G(t2,e2,n2,s2){if(t2===e2)return t2;if(t2 instanceof V&&e2 instanceof V)return function(t3,e3,n3,s3){if(s3!==null){let n4=s3.get(t3,e3);if(n4!==null||(n4=s3.get(e3,t3),n4!==null))return n4}const i2=function(t4,e4,n4){if(n4){if(t4===B.EMPTY||e4===B.EMPTY)return B.EMPTY}else{if(t4===B.EMPTY&&e4===B.EMPTY)return B.EMPTY;if(t4===B.EMPTY){const t5=[e4.returnState,B.EMPTY_RETURN_STATE],n5=[e4.parentCtx,null];return new z(n5,t5)}if(e4===B.EMPTY){const e5=[t4.returnState,B.EMPTY_RETURN_STATE],n5=[t4.parentCtx,null];return new z(n5,e5)}}return null}(t3,e3,n3);if(i2!==null)return s3!==null&&s3.set(t3,e3,i2),i2;if(t3.returnState===e3.returnState){const i3=G(t3.parentCtx,e3.parentCtx,n3,s3);if(i3===t3.parentCtx)return t3;if(i3===e3.parentCtx)return e3;const r2=V.create(i3,t3.returnState);return s3!==null&&s3.set(t3,e3,r2),r2}{let n4=null;if((t3===e3||t3.parentCtx!==null&&t3.parentCtx===e3.parentCtx)&&(n4=t3.parentCtx),n4!==null){const i4=[t3.returnState,e3.returnState];t3.returnState>e3.returnState&&(i4[0]=e3.returnState,i4[1]=t3.returnState);const r3=new z([n4,n4],i4);return s3!==null&&s3.set(t3,e3,r3),r3}const i3=[t3.returnState,e3.returnState];let r2=[t3.parentCtx,e3.parentCtx];t3.returnState>e3.returnState&&(i3[0]=e3.returnState,i3[1]=t3.returnState,r2=[e3.parentCtx,t3.parentCtx]);const o2=new z(r2,i3);return s3!==null&&s3.set(t3,e3,o2),o2}}(t2,e2,n2,s2);if(n2){if(t2 instanceof q)return t2;if(e2 instanceof q)return e2}return t2 instanceof V&&(t2=new z([t2.getParent()],[t2.returnState])),e2 instanceof V&&(e2=new z([e2.getParent()],[e2.returnState])),function(t3,e3,n3,s3){if(s3!==null){let n4=s3.get(t3,e3);if(n4!==null||(n4=s3.get(e3,t3),n4!==null))return B.trace_atn_sim&&console.log("mergeArrays a="+t3+",b="+e3+" -> previous"),n4}let i2=0,r2=0,o2=0,a2=new Array(t3.returnStates.length+e3.returnStates.length).fill(0),l2=new Array(t3.returnStates.length+e3.returnStates.length).fill(null);for(;i2<t3.returnStates.length&&r2<e3.returnStates.length;){const h3=t3.parents[i2],c2=e3.parents[r2];if(t3.returnStates[i2]===e3.returnStates[r2]){const e4=t3.returnStates[i2];e4===B.EMPTY_RETURN_STATE&&h3===null&&c2===null||h3!==null&&c2!==null&&h3===c2?(l2[o2]=h3,a2[o2]=e4):(l2[o2]=G(h3,c2,n3,s3),a2[o2]=e4),i2+=1,r2+=1}else t3.returnStates[i2]<e3.returnStates[r2]?(l2[o2]=h3,a2[o2]=t3.returnStates[i2],i2+=1):(l2[o2]=c2,a2[o2]=e3.returnStates[r2],r2+=1);o2+=1}if(i2<t3.returnStates.length)for(let e4=i2;e4<t3.returnStates.length;e4++)l2[o2]=t3.parents[e4],a2[o2]=t3.returnStates[e4],o2+=1;else for(let t4=r2;t4<e3.returnStates.length;t4++)l2[o2]=e3.parents[t4],a2[o2]=e3.returnStates[t4],o2+=1;if(o2<l2.length){if(o2===1){const n4=V.create(l2[0],a2[0]);return s3!==null&&s3.set(t3,e3,n4),n4}l2=l2.slice(0,o2),a2=a2.slice(0,o2)}const h2=new z(l2,a2);return h2.equals(t3)?(s3!==null&&s3.set(t3,e3,t3),B.trace_atn_sim&&console.log("mergeArrays a="+t3+",b="+e3+" -> a"),t3):h2.equals(e3)?(s3!==null&&s3.set(t3,e3,e3),B.trace_atn_sim&&console.log("mergeArrays a="+t3+",b="+e3+" -> b"),e3):(function(t4){const e4=new H;for(let n4=0;n4<t4.length;n4++){const s4=t4[n4];e4.containsKey(s4)||e4.set(s4,s4)}for(let n4=0;n4<t4.length;n4++)t4[n4]=e4.get(t4[n4])}(l2),s3!==null&&s3.set(t3,e3,h2),B.trace_atn_sim&&console.log("mergeArrays a="+t3+",b="+e3+" -> "+h2),h2)}(t2,e2,n2,s2)}class W{constructor(){this.data=new Uint32Array(1)}set(t2){W._checkIndex(t2),this._resize(t2),this.data[t2>>>5]|=1<<t2%32}get(t2){W._checkIndex(t2);const e2=t2>>>5;return!(e2>=this.data.length||!(this.data[e2]&1<<t2%32))}clear(t2){W._checkIndex(t2);const e2=t2>>>5;e2<this.data.length&&(this.data[e2]&=~(1<<t2))}or(t2){const e2=Math.min(this.data.length,t2.data.length);for(let n2=0;n2<e2;++n2)this.data[n2]|=t2.data[n2];if(this.data.length<t2.data.length){this._resize((t2.data.length<<5)-1);const n2=t2.data.length;for(let s2=e2;s2<n2;++s2)this.data[s2]=t2.data[s2]}}values(){const t2=new Array(this.length);let e2=0;const n2=this.data.length;for(let s2=0;s2<n2;++s2){let n3=this.data[s2];for(;n3!==0;){const i2=n3&-n3;t2[e2++]=(s2<<5)+W._bitCount(i2-1),n3^=i2}}return t2}minValue(){for(let t2=0;t2<this.data.length;++t2){let e2=this.data[t2];if(e2!==0){let n2=0;for(;!(1&e2);)n2++,e2>>=1;return n2+32*t2}}return 0}hashCode(){return l.hashStuff(this.values())}equals(t2){return t2 instanceof W&&r(this.data,t2.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.data.map(t2=>W._bitCount(t2)).reduce((t2,e2)=>t2+e2,0)}_resize(t2){const e2=t2+32>>>5;if(e2<=this.data.length)return;const n2=new Uint32Array(e2);n2.set(this.data),n2.fill(0,this.data.length),this.data=n2}static _checkIndex(t2){if(t2<0)throw new RangeError("index cannot be negative")}static _bitCount(t2){return t2=(t2=(858993459&(t2-=t2>>1&1431655765))+(t2>>2&858993459))+(t2>>4)&252645135,t2+=t2>>8,0+(t2+=t2>>16)&63}}class j{constructor(t2){this.atn=t2}getDecisionLookahead(t2){if(t2===null)return null;const e2=t2.transitions.length,n2=[];for(let s2=0;s2<e2;s2++){n2[s2]=new _;const e3=new g;this._LOOK(t2.transition(s2).target,null,B.EMPTY,n2[s2],e3,new W,!1,!1),(n2[s2].length===0||n2[s2].contains(j.HIT_PRED))&&(n2[s2]=null)}return n2}LOOK(t2,e2,n2){const s2=new _,i2=(n2=n2||null)!==null?K(t2.atn,n2):null;return this._LOOK(t2,e2,i2,s2,new g,new W,!0,!0),s2}_LOOK(t2,e2,n2,s2,r2,o2,a2,l2){const h2=new m({state:t2,alt:0,context:n2},null);if(!r2.has(h2)){if(r2.add(h2),t2===e2){if(n2===null)return void s2.addOne(i.EPSILON);if(n2.isEmpty()&&l2)return void s2.addOne(i.EOF)}if(t2 instanceof A){if(n2===null)return void s2.addOne(i.EPSILON);if(n2.isEmpty()&&l2)return void s2.addOne(i.EOF);if(n2!==B.EMPTY){const i2=o2.get(t2.ruleIndex);try{o2.clear(t2.ruleIndex);for(let t3=0;t3<n2.length;t3++){const i3=this.atn.states[n2.getReturnState(t3)];this._LOOK(i3,e2,n2.getParent(t3),s2,r2,o2,a2,l2)}}finally{i2&&o2.set(t2.ruleIndex)}return}}for(let h3=0;h3<t2.transitions.length;h3++){const c2=t2.transitions[h3];if(c2.constructor===k){if(o2.get(c2.target.ruleIndex))continue;const t3=V.create(n2,c2.followState.stateNumber);try{o2.set(c2.target.ruleIndex),this._LOOK(c2.target,e2,t3,s2,r2,o2,a2,l2)}finally{o2.clear(c2.target.ruleIndex)}}else if(c2 instanceof O)a2?this._LOOK(c2.target,e2,n2,s2,r2,o2,a2,l2):s2.addOne(j.HIT_PRED);else if(c2.isEpsilon)this._LOOK(c2.target,e2,n2,s2,r2,o2,a2,l2);else if(c2.constructor===L)s2.addRange(i.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let t3=c2.label;t3!==null&&(c2 instanceof y&&(t3=t3.complement(i.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),s2.addSet(t3))}}}}}j.HIT_PRED=i.INVALID_TYPE;class ${constructor(t2,e2){this.grammarType=t2,this.maxTokenType=e2,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t2,e2){return new j(this).LOOK(t2,null,e2)}nextTokensNoContext(t2){return t2.nextTokenWithinRule!==null||(t2.nextTokenWithinRule=this.nextTokensInContext(t2,null),t2.nextTokenWithinRule.readOnly=!0),t2.nextTokenWithinRule}nextTokens(t2,e2){return e2===void 0?this.nextTokensNoContext(t2):this.nextTokensInContext(t2,e2)}addState(t2){t2!==null&&(t2.atn=this,t2.stateNumber=this.states.length),this.states.push(t2)}removeState(t2){this.states[t2.stateNumber]=null}defineDecisionState(t2){return this.decisionToState.push(t2),t2.decision=this.decisionToState.length-1,t2.decision}getDecisionState(t2){return this.decisionToState.length===0?null:this.decisionToState[t2]}getExpectedTokens(t2,e2){if(t2<0||t2>=this.states.length)throw"Invalid state number.";const n2=this.states[t2];let s2=this.nextTokens(n2);if(!s2.contains(i.EPSILON))return s2;const r2=new _;for(r2.addSet(s2),r2.removeOne(i.EPSILON);e2!==null&&e2.invokingState>=0&&s2.contains(i.EPSILON);){const t3=this.states[e2.invokingState].transitions[0];s2=this.nextTokens(t3.followState),r2.addSet(s2),r2.removeOne(i.EPSILON),e2=e2.parentCtx}return s2.contains(i.EPSILON)&&r2.addOne(i.EOF),r2}}$.INVALID_ALT_NUMBER=0;class X extends C{constructor(){super(),this.stateType=C.BASIC}}class J extends C{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class Z extends J{constructor(){return super(),this.endState=null,this}}class Q extends C{constructor(){return super(),this.stateType=C.BLOCK_END,this.startState=null,this}}class tt extends C{constructor(){return super(),this.stateType=C.LOOP_END,this.loopBackState=null,this}}class et extends C{constructor(){return super(),this.stateType=C.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class nt extends J{constructor(){return super(),this.stateType=C.TOKEN_START,this}}class st extends J{constructor(){return super(),this.stateType=C.PLUS_LOOP_BACK,this}}class it extends C{constructor(){return super(),this.stateType=C.STAR_LOOP_BACK,this}}class rt extends J{constructor(){return super(),this.stateType=C.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class ot extends Z{constructor(){return super(),this.stateType=C.PLUS_BLOCK_START,this.loopBackState=null,this}}class at extends Z{constructor(){return super(),this.stateType=C.STAR_BLOCK_START,this}}class lt extends Z{constructor(){return super(),this.stateType=C.BLOCK_START,this}}class ht extends N{constructor(t2,e2){super(t2),this.label_=e2,this.label=this.makeLabel(),this.serializationType=N.ATOM}makeLabel(){const t2=new _;return t2.addOne(this.label_),t2}matches(t2,e2,n2){return this.label_===t2}toString(){return this.label_}}class ct extends N{constructor(t2,e2,n2){super(t2),this.serializationType=N.RANGE,this.start=e2,this.stop=n2,this.label=this.makeLabel()}makeLabel(){const t2=new _;return t2.addRange(this.start,this.stop),t2}matches(t2,e2,n2){return t2>=this.start&&t2<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class ut extends N{constructor(t2,e2,n2,s2){super(t2),this.serializationType=N.ACTION,this.ruleIndex=e2,this.actionIndex=n2===void 0?-1:n2,this.isCtxDependent=s2!==void 0&&s2,this.isEpsilon=!0}matches(t2,e2,n2){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class dt extends N{constructor(t2,e2){super(t2),this.serializationType=N.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e2}matches(t2,e2,n2){return!1}toString(){return"epsilon"}}class gt extends p{constructor(t2,e2,n2){super(),this.ruleIndex=t2===void 0?-1:t2,this.predIndex=e2===void 0?-1:e2,this.isCtxDependent=n2!==void 0&&n2}evaluate(t2,e2){const n2=this.isCtxDependent?e2:null;return t2.sempred(n2,this.ruleIndex,this.predIndex)}updateHashCode(t2){t2.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t2){return this===t2||t2 instanceof gt&&this.ruleIndex===t2.ruleIndex&&this.predIndex===t2.predIndex&&this.isCtxDependent===t2.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}p.NONE=new gt;class pt extends O{constructor(t2,e2,n2,s2){super(t2),this.serializationType=N.PREDICATE,this.ruleIndex=e2,this.predIndex=n2,this.isCtxDependent=s2,this.isEpsilon=!0}matches(t2,e2,n2){return!1}getPredicate(){return new gt(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class ft extends p{constructor(t2){super(),this.precedence=t2===void 0?0:t2}evaluate(t2,e2){return t2.precpred(e2,this.precedence)}evalPrecedence(t2,e2){return t2.precpred(e2,this.precedence)?p.NONE:null}compareTo(t2){return this.precedence-t2.precedence}updateHashCode(t2){t2.update(this.precedence)}equals(t2){return this===t2||t2 instanceof ft&&this.precedence===t2.precedence}toString(){return"{"+this.precedence+">=prec}?"}}p.PrecedencePredicate=ft;class xt extends O{constructor(t2,e2){super(t2),this.serializationType=N.PRECEDENCE,this.precedence=e2,this.isEpsilon=!0}matches(t2,e2,n2){return!1}getPredicate(){return new ft(this.precedence)}toString(){return this.precedence+" >= _p"}}class Tt{constructor(t2){t2===void 0&&(t2=null),this.readOnly=!1,this.verifyATN=t2===null||t2.verifyATN,this.generateRuleBypassTransitions=t2!==null&&t2.generateRuleBypassTransitions}}Tt.defaultOptions=new Tt,Tt.defaultOptions.readOnly=!0;class St{constructor(t2){this.actionType=t2,this.isPositionDependent=!1}hashCode(){const t2=new l;return this.updateHashCode(t2),t2.finish()}updateHashCode(t2){t2.update(this.actionType)}equals(t2){return this===t2}}class mt extends St{constructor(){super(6)}execute(t2){t2.skip()}toString(){return"skip"}}mt.INSTANCE=new mt;class Et extends St{constructor(t2){super(0),this.channel=t2}execute(t2){t2._channel=this.channel}updateHashCode(t2){t2.update(this.actionType,this.channel)}equals(t2){return this===t2||t2 instanceof Et&&this.channel===t2.channel}toString(){return"channel("+this.channel+")"}}class _t extends St{constructor(t2,e2){super(1),this.ruleIndex=t2,this.actionIndex=e2,this.isPositionDependent=!0}execute(t2){t2.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t2){t2.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t2){return this===t2||t2 instanceof _t&&this.ruleIndex===t2.ruleIndex&&this.actionIndex===t2.actionIndex}}class Ct extends St{constructor(){super(3)}execute(t2){t2.more()}toString(){return"more"}}Ct.INSTANCE=new Ct;class At extends St{constructor(t2){super(7),this.type=t2}execute(t2){t2.type=this.type}updateHashCode(t2){t2.update(this.actionType,this.type)}equals(t2){return this===t2||t2 instanceof At&&this.type===t2.type}toString(){return"type("+this.type+")"}}class Nt extends St{constructor(t2){super(5),this.mode=t2}execute(t2){t2.pushMode(this.mode)}updateHashCode(t2){t2.update(this.actionType,this.mode)}equals(t2){return this===t2||t2 instanceof Nt&&this.mode===t2.mode}toString(){return"pushMode("+this.mode+")"}}class kt extends St{constructor(){super(4)}execute(t2){t2.popMode()}toString(){return"popMode"}}kt.INSTANCE=new kt;class It extends St{constructor(t2){super(2),this.mode=t2}execute(t2){t2.setMode(this.mode)}updateHashCode(t2){t2.update(this.actionType,this.mode)}equals(t2){return this===t2||t2 instanceof It&&this.mode===t2.mode}toString(){return"mode("+this.mode+")"}}function yt(t2,e2){const n2=[];return n2[t2-1]=e2,n2.map(function(t3){return e2})}class Lt{constructor(t2){t2==null&&(t2=Tt.defaultOptions),this.deserializationOptions=t2,this.stateFactories=null,this.actionFactories=null}deserialize(t2){const e2=this.reset(t2);this.checkVersion(e2),e2&&this.skipUUID();const n2=this.readATN();this.readStates(n2,e2),this.readRules(n2,e2),this.readModes(n2);const s2=[];return this.readSets(n2,s2,this.readInt.bind(this)),e2&&this.readSets(n2,s2,this.readInt32.bind(this)),this.readEdges(n2,s2),this.readDecisions(n2),this.readLexerActions(n2,e2),this.markPrecedenceDecisions(n2),this.verifyATN(n2),this.deserializationOptions.generateRuleBypassTransitions&&n2.grammarType===1&&(this.generateRuleBypassTransitions(n2),this.verifyATN(n2)),n2}reset(t2){if((t2.charCodeAt?t2.charCodeAt(0):t2[0])===3){const e2=function(t3){const e3=t3.charCodeAt(0);return e3>1?e3-2:e3+65534},n2=t2.split("").map(e2);return n2[0]=t2.charCodeAt(0),this.data=n2,this.pos=0,!0}return this.data=t2,this.pos=0,!1}skipUUID(){let t2=0;for(;t2++<8;)this.readInt()}checkVersion(t2){const e2=this.readInt();if(!t2&&e2!==4)throw"Could not deserialize ATN with version "+e2+" (expected 4)."}readATN(){const t2=this.readInt(),e2=this.readInt();return new $(t2,e2)}readStates(t2,e2){let n2,s2,i2;const r2=[],o2=[],a2=this.readInt();for(let n3=0;n3<a2;n3++){const n4=this.readInt();if(n4===C.INVALID_TYPE){t2.addState(null);continue}let s3=this.readInt();e2&&s3===65535&&(s3=-1);const i3=this.stateFactory(n4,s3);if(n4===C.LOOP_END){const t3=this.readInt();r2.push([i3,t3])}else if(i3 instanceof Z){const t3=this.readInt();o2.push([i3,t3])}t2.addState(i3)}for(n2=0;n2<r2.length;n2++)s2=r2[n2],s2[0].loopBackState=t2.states[s2[1]];for(n2=0;n2<o2.length;n2++)s2=o2[n2],s2[0].endState=t2.states[s2[1]];let l2=this.readInt();for(n2=0;n2<l2;n2++)i2=this.readInt(),t2.states[i2].nonGreedy=!0;let h2=this.readInt();for(n2=0;n2<h2;n2++)i2=this.readInt(),t2.states[i2].isPrecedenceRule=!0}readRules(t2,e2){let n2;const s2=this.readInt();for(t2.grammarType===0&&(t2.ruleToTokenType=yt(s2,0)),t2.ruleToStartState=yt(s2,0),n2=0;n2<s2;n2++){const s3=this.readInt();if(t2.ruleToStartState[n2]=t2.states[s3],t2.grammarType===0){let s4=this.readInt();e2&&s4===65535&&(s4=i.EOF),t2.ruleToTokenType[n2]=s4}}for(t2.ruleToStopState=yt(s2,0),n2=0;n2<t2.states.length;n2++){const e3=t2.states[n2];e3 instanceof A&&(t2.ruleToStopState[e3.ruleIndex]=e3,t2.ruleToStartState[e3.ruleIndex].stopState=e3)}}readModes(t2){const e2=this.readInt();for(let n2=0;n2<e2;n2++){let e3=this.readInt();t2.modeToStartState.push(t2.states[e3])}}readSets(t2,e2,n2){const s2=this.readInt();for(let t3=0;t3<s2;t3++){const t4=new _;e2.push(t4);const s3=this.readInt();this.readInt()!==0&&t4.addOne(-1);for(let e3=0;e3<s3;e3++){const e4=n2(),s4=n2();t4.addRange(e4,s4)}}}readEdges(t2,e2){let n2,s2,i2,r2,o2;const a2=this.readInt();for(n2=0;n2<a2;n2++){const n3=this.readInt(),s3=this.readInt(),i3=this.readInt(),o3=this.readInt(),a3=this.readInt(),l2=this.readInt();r2=this.edgeFactory(t2,i3,n3,s3,o3,a3,l2,e2),t2.states[n3].addTransition(r2)}for(n2=0;n2<t2.states.length;n2++)for(i2=t2.states[n2],s2=0;s2<i2.transitions.length;s2++){const e3=i2.transitions[s2];if(!(e3 instanceof k))continue;let n3=-1;t2.ruleToStartState[e3.target.ruleIndex].isPrecedenceRule&&e3.precedence===0&&(n3=e3.target.ruleIndex),r2=new dt(e3.followState,n3),t2.ruleToStopState[e3.target.ruleIndex].addTransition(r2)}for(n2=0;n2<t2.states.length;n2++){if(i2=t2.states[n2],i2 instanceof Z){if(i2.endState===null||i2.endState.startState!==null)throw"IllegalState";i2.endState.startState=i2}if(i2 instanceof st)for(s2=0;s2<i2.transitions.length;s2++)o2=i2.transitions[s2].target,o2 instanceof ot&&(o2.loopBackState=i2);else if(i2 instanceof it)for(s2=0;s2<i2.transitions.length;s2++)o2=i2.transitions[s2].target,o2 instanceof rt&&(o2.loopBackState=i2)}}readDecisions(t2){const e2=this.readInt();for(let n2=0;n2<e2;n2++){const e3=this.readInt(),s2=t2.states[e3];t2.decisionToState.push(s2),s2.decision=n2}}readLexerActions(t2,e2){if(t2.grammarType===0){const n2=this.readInt();t2.lexerActions=yt(n2,null);for(let s2=0;s2<n2;s2++){const n3=this.readInt();let i2=this.readInt();e2&&i2===65535&&(i2=-1);let r2=this.readInt();e2&&r2===65535&&(r2=-1),t2.lexerActions[s2]=this.lexerActionFactory(n3,i2,r2)}}}generateRuleBypassTransitions(t2){let e2;const n2=t2.ruleToStartState.length;for(e2=0;e2<n2;e2++)t2.ruleToTokenType[e2]=t2.maxTokenType+e2+1;for(e2=0;e2<n2;e2++)this.generateRuleBypassTransition(t2,e2)}generateRuleBypassTransition(t2,e2){let n2,s2;const i2=new lt;i2.ruleIndex=e2,t2.addState(i2);const r2=new Q;r2.ruleIndex=e2,t2.addState(r2),i2.endState=r2,t2.defineDecisionState(i2),r2.startState=i2;let o2=null,a2=null;if(t2.ruleToStartState[e2].isPrecedenceRule){for(a2=null,n2=0;n2<t2.states.length;n2++)if(s2=t2.states[n2],this.stateIsEndStateFor(s2,e2)){a2=s2,o2=s2.loopBackState.transitions[0];break}if(o2===null)throw"Couldn't identify final state of the precedence rule prefix section."}else a2=t2.ruleToStopState[e2];for(n2=0;n2<t2.states.length;n2++){s2=t2.states[n2];for(let t3=0;t3<s2.transitions.length;t3++){const e3=s2.transitions[t3];e3!==o2&&e3.target===a2&&(e3.target=r2)}}const l2=t2.ruleToStartState[e2],h2=l2.transitions.length;for(;h2>0;)i2.addTransition(l2.transitions[h2-1]),l2.transitions=l2.transitions.slice(-1);t2.ruleToStartState[e2].addTransition(new dt(i2)),r2.addTransition(new dt(a2));const c2=new X;t2.addState(c2),c2.addTransition(new ht(r2,t2.ruleToTokenType[e2])),i2.addTransition(new dt(c2))}stateIsEndStateFor(t2,e2){if(t2.ruleIndex!==e2||!(t2 instanceof rt))return null;const n2=t2.transitions[t2.transitions.length-1].target;return n2 instanceof tt&&n2.epsilonOnlyTransitions&&n2.transitions[0].target instanceof A?t2:null}markPrecedenceDecisions(t2){for(let e2=0;e2<t2.states.length;e2++){const n2=t2.states[e2];if(n2 instanceof rt&&t2.ruleToStartState[n2.ruleIndex].isPrecedenceRule){const t3=n2.transitions[n2.transitions.length-1].target;t3 instanceof tt&&t3.epsilonOnlyTransitions&&t3.transitions[0].target instanceof A&&(n2.isPrecedenceDecision=!0)}}}verifyATN(t2){if(this.deserializationOptions.verifyATN)for(let e2=0;e2<t2.states.length;e2++){const n2=t2.states[e2];if(n2!==null)if(this.checkCondition(n2.epsilonOnlyTransitions||n2.transitions.length<=1),n2 instanceof ot)this.checkCondition(n2.loopBackState!==null);else if(n2 instanceof rt)if(this.checkCondition(n2.loopBackState!==null),this.checkCondition(n2.transitions.length===2),n2.transitions[0].target instanceof at)this.checkCondition(n2.transitions[1].target instanceof tt),this.checkCondition(!n2.nonGreedy);else{if(!(n2.transitions[0].target instanceof tt))throw"IllegalState";this.checkCondition(n2.transitions[1].target instanceof at),this.checkCondition(n2.nonGreedy)}else n2 instanceof it?(this.checkCondition(n2.transitions.length===1),this.checkCondition(n2.transitions[0].target instanceof rt)):n2 instanceof tt?this.checkCondition(n2.loopBackState!==null):n2 instanceof et?this.checkCondition(n2.stopState!==null):n2 instanceof Z?this.checkCondition(n2.endState!==null):n2 instanceof Q?this.checkCondition(n2.startState!==null):n2 instanceof J?this.checkCondition(n2.transitions.length<=1||n2.decision>=0):this.checkCondition(n2.transitions.length<=1||n2 instanceof A)}}checkCondition(t2,e2){if(!t2)throw e2==null&&(e2="IllegalState"),e2}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(t2,e2,n2,s2,r2,o2,a2,l2){const h2=t2.states[s2];switch(e2){case N.EPSILON:return new dt(h2);case N.RANGE:return new ct(h2,a2!==0?i.EOF:r2,o2);case N.RULE:return new k(t2.states[r2],o2,a2,h2);case N.PREDICATE:return new pt(h2,r2,o2,a2!==0);case N.PRECEDENCE:return new xt(h2,r2);case N.ATOM:return new ht(h2,a2!==0?i.EOF:r2);case N.ACTION:return new ut(h2,r2,o2,a2!==0);case N.SET:return new I(h2,l2[r2]);case N.NOT_SET:return new y(h2,l2[r2]);case N.WILDCARD:return new L(h2);default:throw"The specified transition type: "+e2+" is not valid."}}stateFactory(t2,e2){if(this.stateFactories===null){const t3=[];t3[C.INVALID_TYPE]=null,t3[C.BASIC]=()=>new X,t3[C.RULE_START]=()=>new et,t3[C.BLOCK_START]=()=>new lt,t3[C.PLUS_BLOCK_START]=()=>new ot,t3[C.STAR_BLOCK_START]=()=>new at,t3[C.TOKEN_START]=()=>new nt,t3[C.RULE_STOP]=()=>new A,t3[C.BLOCK_END]=()=>new Q,t3[C.STAR_LOOP_BACK]=()=>new it,t3[C.STAR_LOOP_ENTRY]=()=>new rt,t3[C.PLUS_LOOP_BACK]=()=>new st,t3[C.LOOP_END]=()=>new tt,this.stateFactories=t3}if(t2>this.stateFactories.length||this.stateFactories[t2]===null)throw"The specified state type "+t2+" is not valid.";{const n2=this.stateFactories[t2]();if(n2!==null)return n2.ruleIndex=e2,n2}}lexerActionFactory(t2,e2,n2){if(this.actionFactories===null){const t3=[];t3[0]=(t4,e3)=>new Et(t4),t3[1]=(t4,e3)=>new _t(t4,e3),t3[2]=(t4,e3)=>new It(t4),t3[3]=(t4,e3)=>Ct.INSTANCE,t3[4]=(t4,e3)=>kt.INSTANCE,t3[5]=(t4,e3)=>new Nt(t4),t3[6]=(t4,e3)=>mt.INSTANCE,t3[7]=(t4,e3)=>new At(t4),this.actionFactories=t3}if(t2>this.actionFactories.length||this.actionFactories[t2]===null)throw"The specified lexer action type "+t2+" is not valid.";return this.actionFactories[t2](e2,n2)}}class Ot{syntaxError(t2,e2,n2,s2,i2,r2){}reportAmbiguity(t2,e2,n2,s2,i2,r2,o2){}reportAttemptingFullContext(t2,e2,n2,s2,i2,r2){}reportContextSensitivity(t2,e2,n2,s2,i2,r2){}}class Rt extends Ot{constructor(){super()}syntaxError(t2,e2,n2,s2,i2,r2){console.error("line "+n2+":"+s2+" "+i2)}}Rt.INSTANCE=new Rt;class wt extends Ot{constructor(t2){if(super(),t2===null)throw"delegates";return this.delegates=t2,this}syntaxError(t2,e2,n2,s2,i2,r2){this.delegates.map(o2=>o2.syntaxError(t2,e2,n2,s2,i2,r2))}reportAmbiguity(t2,e2,n2,s2,i2,r2,o2){this.delegates.map(a2=>a2.reportAmbiguity(t2,e2,n2,s2,i2,r2,o2))}reportAttemptingFullContext(t2,e2,n2,s2,i2,r2){this.delegates.map(o2=>o2.reportAttemptingFullContext(t2,e2,n2,s2,i2,r2))}reportContextSensitivity(t2,e2,n2,s2,i2,r2){this.delegates.map(o2=>o2.reportContextSensitivity(t2,e2,n2,s2,i2,r2))}}class vt{constructor(){this._listeners=[Rt.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t2){const e2="4.13.2";e2!==t2&&console.log("ANTLR runtime and generated code versions disagree: "+e2+"!="+t2)}addErrorListener(t2){this._listeners.push(t2)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t2=this.getLiteralNames(),e2=this.getSymbolicNames(),n2=t2.length>e2.length?t2.length:e2.length;this.tokenNames=[];for(let s2=0;s2<n2;s2++)this.tokenNames[s2]=t2[s2]||e2[s2]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const t2=this.getTokenNames();if(t2===null)throw"The current recognizer does not provide a list of token names.";let e2=this.tokenTypeMapCache[t2];return e2===void 0&&(e2=t2.reduce(function(t3,e3,n2){t3[e3]=n2}),e2.EOF=i.EOF,this.tokenTypeMapCache[t2]=e2),e2}getRuleIndexMap(){const t2=this.ruleNames;if(t2===null)throw"The current recognizer does not provide a list of rule names.";let e2=this.ruleIndexMapCache[t2];return e2===void 0&&(e2=t2.reduce(function(t3,e3,n2){t3[e3]=n2}),this.ruleIndexMapCache[t2]=e2),e2}getTokenType(t2){const e2=this.getTokenTypeMap()[t2];return e2!==void 0?e2:i.INVALID_TYPE}getErrorHeader(t2){return"line "+t2.getOffendingToken().line+":"+t2.getOffendingToken().column}getTokenErrorDisplay(t2){if(t2===null)return"<no token>";let e2=t2.text;return e2===null&&(e2=t2.type===i.EOF?"<EOF>":"<"+t2.type+">"),e2=e2.replace(`
`,"\\n").replace("\r","\\r").replace("	","\\t"),"'"+e2+"'"}getErrorListenerDispatch(){return console.warn("Calling deprecated method in Recognizer class: getErrorListenerDispatch()"),this.getErrorListener()}getErrorListener(){return new wt(this._listeners)}sempred(t2,e2,n2){return!0}precpred(t2,e2){return!0}get atn(){return this._interp.atn}get state(){return this._stateNumber}set state(t2){this._stateNumber=t2}}vt.tokenTypeMapCache={},vt.ruleIndexMapCache={};class Pt extends i{constructor(t2,e2,n2,s2,r2){super(),this.source=t2!==void 0?t2:Pt.EMPTY_SOURCE,this.type=e2!==void 0?e2:null,this.channel=n2!==void 0?n2:i.DEFAULT_CHANNEL,this.start=s2!==void 0?s2:-1,this.stop=r2!==void 0?r2:-1,this.tokenIndex=-1,this.source[0]!==null?(this.line=t2[0].line,this.column=t2[0].column):this.column=-1}clone(){const t2=new Pt(this.source,this.type,this.channel,this.start,this.stop);return t2.tokenIndex=this.tokenIndex,t2.line=this.line,t2.column=this.column,t2.text=this.text,t2}cloneWithType(t2){const e2=new Pt(this.source,t2,this.channel,this.start,this.stop);return e2.tokenIndex=this.tokenIndex,e2.line=this.line,e2.column=this.column,t2===i.EOF&&(e2.text=""),e2}toString(){let t2=this.text;return t2=t2!==null?t2.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t2+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(this._text!==null)return this._text;const t2=this.getInputStream();if(t2===null)return null;const e2=t2.size;return this.start<e2&&this.stop<e2?t2.getText(this.start,this.stop):"<EOF>"}set text(t2){this._text=t2}}Pt.EMPTY_SOURCE=[null,null];class bt{}class Dt extends bt{constructor(t2){super(),this.copyText=t2!==void 0&&t2}create(t2,e2,n2,s2,i2,r2,o2,a2){const l2=new Pt(t2,e2,s2,i2,r2);return l2.line=o2,l2.column=a2,n2!==null?l2.text=n2:this.copyText&&t2[1]!==null&&(l2.text=t2[1].getText(i2,r2)),l2}createThin(t2,e2){const n2=new Pt(null,t2);return n2.text=e2,n2}}Dt.DEFAULT=new Dt;class Ft extends Error{constructor(t2){super(t2.message),Error.captureStackTrace&&Error.captureStackTrace(this,Ft),this.message=t2.message,this.recognizer=t2.recognizer,this.input=t2.input,this.ctx=t2.ctx,this.offendingToken=null,this.offendingState=-1,this.recognizer!==null&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return this.recognizer!==null?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class Mt extends Ft{constructor(t2,e2,n2,s2){super({message:"",recognizer:t2,input:e2,ctx:null}),this.startIndex=n2,this.deadEndConfigs=s2}toString(){let t2="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t2=this.input.getText(new E(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t2}}class Ut extends vt{constructor(t2){super(),this._input=t2,this._factory=Dt.DEFAULT,this._tokenFactorySourcePair=[this,t2],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=i.DEFAULT_CHANNEL,this._type=i.INVALID_TYPE,this._modeStack=[],this._mode=Ut.DEFAULT_MODE,this._text=null}reset(){this._input!==null&&this._input.seek(0),this._token=null,this._type=i.INVALID_TYPE,this._channel=i.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=Ut.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(this._input===null)throw"nextToken requires a non-null input stream.";const t2=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=i.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let t3=!1;for(;;){this._type=i.INVALID_TYPE;let e2=Ut.SKIP;try{e2=this._interp.match(this._input,this._mode)}catch(t4){if(!(t4 instanceof Ft))throw console.log(t4.stack),t4;this.notifyListeners(t4),this.recover(t4)}if(this._input.LA(1)===i.EOF&&(this._hitEOF=!0),this._type===i.INVALID_TYPE&&(this._type=e2),this._type===Ut.SKIP){t3=!0;break}if(this._type!==Ut.MORE)break}if(!t3)return this._token===null&&this.emit(),this._token}}finally{this._input.release(t2)}}skip(){this._type=Ut.SKIP}more(){this._type=Ut.MORE}mode(t2){console.warn("Calling deprecated method in Lexer class: mode(...)"),this.setMode(t2)}setMode(t2){this._mode=t2}getMode(){return this._mode}getModeStack(){return this._modeStack}pushMode(t2){this._interp.debug&&console.log("pushMode "+t2),this._modeStack.push(this._mode),this.setMode(t2)}popMode(){if(this._modeStack.length===0)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.setMode(this._modeStack.pop()),this._mode}emitToken(t2){this._token=t2}emit(){const t2=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t2),t2}emitEOF(){const t2=this.column,e2=this.line,n2=this._factory.create(this._tokenFactorySourcePair,i.EOF,null,i.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e2,t2);return this.emitToken(n2),n2}getCharIndex(){return this._input.index}getAllTokens(){const t2=[];let e2=this.nextToken();for(;e2.type!==i.EOF;)t2.push(e2),e2=this.nextToken();return t2}notifyListeners(t2){const e2=this._tokenStartCharIndex,n2=this._input.index,s2=this._input.getText(e2,n2),i2="token recognition error at: '"+this.getErrorDisplay(s2)+"'";this.getErrorListener().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i2,t2)}getErrorDisplay(t2){const e2=[];for(let n2=0;n2<t2.length;n2++)e2.push(t2[n2]);return e2.join("")}getErrorDisplayForChar(t2){return t2.charCodeAt(0)===i.EOF?"<EOF>":t2===`
`?"\\n":t2==="	"?"\\t":t2==="\r"?"\\r":t2}getCharErrorDisplay(t2){return"'"+this.getErrorDisplayForChar(t2)+"'"}recover(t2){this._input.LA(1)!==i.EOF&&(t2 instanceof Mt?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t2){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t2,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t2){this._type=t2}get line(){return this._interp.line}set line(t2){this._interp.line=t2}get column(){return this._interp.column}set column(t2){this._interp.column=t2}get text(){return this._text!==null?this._text:this._interp.getText(this._input)}set text(t2){this._text=t2}}function Bt(t2){return t2.hashCodeForConfigSet()}function zt(t2,e2){return t2===e2||t2!==null&&e2!==null&&t2.equalsForConfigSet(e2)}Ut.DEFAULT_MODE=0,Ut.MORE=-2,Ut.SKIP=-3,Ut.DEFAULT_TOKEN_CHANNEL=i.DEFAULT_CHANNEL,Ut.HIDDEN=i.HIDDEN_CHANNEL,Ut.MIN_CHAR_VALUE=0,Ut.MAX_CHAR_VALUE=1114111;class Vt{constructor(t2){this.configLookup=new g(Bt,zt),this.fullCtx=t2===void 0||t2,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t2,e2){if(e2===void 0&&(e2=null),this.readOnly)throw"This set is readonly";t2.semanticContext!==p.NONE&&(this.hasSemanticContext=!0),t2.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n2=this.configLookup.getOrAdd(t2);if(n2===t2)return this.cachedHashCode=-1,this.configs.push(t2),!0;const s2=!this.fullCtx,i2=G(n2.context,t2.context,s2,e2);return n2.reachesIntoOuterContext=Math.max(n2.reachesIntoOuterContext,t2.reachesIntoOuterContext),t2.precedenceFilterSuppressed&&(n2.precedenceFilterSuppressed=!0),n2.context=i2,!0}getStates(){const t2=new g;for(let e2=0;e2<this.configs.length;e2++)t2.add(this.configs[e2].state);return t2}getPredicates(){const t2=[];for(let e2=0;e2<this.configs.length;e2++){const n2=this.configs[e2].semanticContext;n2!==p.NONE&&t2.push(n2.semanticContext)}return t2}optimizeConfigs(t2){if(this.readOnly)throw"This set is readonly";if(this.configLookup.length!==0)for(let e2=0;e2<this.configs.length;e2++){const n2=this.configs[e2];n2.context=t2.getCachedContext(n2.context)}}addAll(t2){for(let e2=0;e2<t2.length;e2++)this.add(t2[e2]);return!1}equals(t2){return this===t2||t2 instanceof Vt&&r(this.configs,t2.configs)&&this.fullCtx===t2.fullCtx&&this.uniqueAlt===t2.uniqueAlt&&this.conflictingAlts===t2.conflictingAlts&&this.hasSemanticContext===t2.hasSemanticContext&&this.dipsIntoOuterContext===t2.dipsIntoOuterContext}hashCode(){const t2=new l;return t2.update(this.configs),t2.finish()}updateHashCode(t2){this.readOnly?(this.cachedHashCode===-1&&(this.cachedHashCode=this.hashCode()),t2.update(this.cachedHashCode)):t2.update(this.hashCode())}isEmpty(){return this.configs.length===0}contains(t2){if(this.configLookup===null)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t2)}containsFast(t2){if(this.configLookup===null)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t2)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new g}setReadonly(t2){this.readOnly=t2,t2&&(this.configLookup=null)}toString(){return d(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==$.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(this.conflictingAlts!==null?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class qt{constructor(t2,e2){return t2===null&&(t2=-1),e2===null&&(e2=new Vt),this.stateNumber=t2,this.configs=e2,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t2=new g;if(this.configs!==null)for(let e2=0;e2<this.configs.length;e2++){const n2=this.configs[e2];t2.add(n2.alt)}return t2.length===0?null:t2}equals(t2){return this===t2||t2 instanceof qt&&this.configs.equals(t2.configs)}toString(){let t2=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t2+="=>",this.predicates!==null?t2+=this.predicates:t2+=this.prediction),t2}hashCode(){const t2=new l;return t2.update(this.configs),t2.finish()}}class Ht{constructor(t2,e2){return this.atn=t2,this.sharedContextCache=e2,this}getCachedContext(t2){if(this.sharedContextCache===null)return t2;const e2=new H;return Y(t2,this.sharedContextCache,e2)}}Ht.ERROR=new qt(2147483647,new Vt);class Kt extends Vt{constructor(){super(),this.configLookup=new g}}class Yt extends m{constructor(t2,e2){super(t2,e2);const n2=t2.lexerActionExecutor||null;return this.lexerActionExecutor=n2||(e2!==null?e2.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=e2!==null&&this.checkNonGreedyDecision(e2,this.state),this.hashCodeForConfigSet=Yt.prototype.hashCode,this.equalsForConfigSet=Yt.prototype.equals,this}updateHashCode(t2){t2.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t2){return this===t2||t2 instanceof Yt&&this.passedThroughNonGreedyDecision===t2.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t2.lexerActionExecutor):!t2.lexerActionExecutor)&&super.equals(t2)}checkNonGreedyDecision(t2,e2){return t2.passedThroughNonGreedyDecision||e2 instanceof J&&e2.nonGreedy}}class Gt extends St{constructor(t2,e2){super(e2.actionType),this.offset=t2,this.action=e2,this.isPositionDependent=!0}execute(t2){this.action.execute(t2)}updateHashCode(t2){t2.update(this.actionType,this.offset,this.action)}equals(t2){return this===t2||t2 instanceof Gt&&this.offset===t2.offset&&this.action===t2.action}}class Wt{constructor(t2){return this.lexerActions=t2===null?[]:t2,this.cachedHashCode=l.hashStuff(t2),this}fixOffsetBeforeMatch(t2){let e2=null;for(let n2=0;n2<this.lexerActions.length;n2++)!this.lexerActions[n2].isPositionDependent||this.lexerActions[n2]instanceof Gt||(e2===null&&(e2=this.lexerActions.concat([])),e2[n2]=new Gt(t2,this.lexerActions[n2]));return e2===null?this:new Wt(e2)}execute(t2,e2,n2){let s2=!1;const i2=e2.index;try{for(let r2=0;r2<this.lexerActions.length;r2++){let o2=this.lexerActions[r2];if(o2 instanceof Gt){const t3=o2.offset;e2.seek(n2+t3),o2=o2.action,s2=n2+t3!==i2}else o2.isPositionDependent&&(e2.seek(i2),s2=!1);o2.execute(t2)}}finally{s2&&e2.seek(i2)}}hashCode(){return this.cachedHashCode}updateHashCode(t2){t2.update(this.cachedHashCode)}equals(t2){if(this===t2)return!0;if(t2 instanceof Wt){if(this.cachedHashCode!=t2.cachedHashCode||this.lexerActions.length!=t2.lexerActions.length)return!1;{const e2=this.lexerActions.length;for(let n2=0;n2<e2;++n2)if(!this.lexerActions[n2].equals(t2.lexerActions[n2]))return!1;return!0}}return!1}static append(t2,e2){if(t2===null)return new Wt([e2]);const n2=t2.lexerActions.concat([e2]);return new Wt(n2)}}function jt(t2){t2.index=-1,t2.line=0,t2.column=-1,t2.dfaState=null}class $t{constructor(){jt(this)}reset(){jt(this)}}class Xt extends Ht{constructor(t2,e2,n2,s2){super(e2,s2),this.decisionToDFA=n2,this.recog=t2,this.startIndex=-1,this.line=1,this.column=0,this.mode=Ut.DEFAULT_MODE,this.prevAccept=new $t}copyState(t2){this.column=t2.column,this.line=t2.line,this.mode=t2.mode,this.startIndex=t2.startIndex}match(t2,e2){this.mode=e2;const n2=t2.mark();try{this.startIndex=t2.index,this.prevAccept.reset();const n3=this.decisionToDFA[e2];return n3.s0===null?this.matchATN(t2):this.execATN(t2,n3.s0)}finally{t2.release(n2)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Ut.DEFAULT_MODE}matchATN(t2){const e2=this.atn.modeToStartState[this.mode];Xt.debug&&console.log("matchATN mode "+this.mode+" start: "+e2);const n2=this.mode,s2=this.computeStartState(t2,e2),i2=s2.hasSemanticContext;s2.hasSemanticContext=!1;const r2=this.addDFAState(s2);i2||(this.decisionToDFA[this.mode].s0=r2);const o2=this.execATN(t2,r2);return Xt.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n2].toLexerString()),o2}execATN(t2,e2){Xt.debug&&console.log("start state closure="+e2.configs),e2.isAcceptState&&this.captureSimState(this.prevAccept,t2,e2);let n2=t2.LA(1),s2=e2;for(;;){Xt.debug&&console.log("execATN loop starting closure: "+s2.configs);let e3=this.getExistingTargetState(s2,n2);if(e3===null&&(e3=this.computeTargetState(t2,s2,n2)),e3===Ht.ERROR||(n2!==i.EOF&&this.consume(t2),e3.isAcceptState&&(this.captureSimState(this.prevAccept,t2,e3),n2===i.EOF)))break;n2=t2.LA(1),s2=e3}return this.failOrAccept(this.prevAccept,t2,s2.configs,n2)}getExistingTargetState(t2,e2){if(t2.edges===null||e2<Xt.MIN_DFA_EDGE||e2>Xt.MAX_DFA_EDGE)return null;let n2=t2.edges[e2-Xt.MIN_DFA_EDGE];return n2===void 0&&(n2=null),Xt.debug&&n2!==null&&console.log("reuse state "+t2.stateNumber+" edge to "+n2.stateNumber),n2}computeTargetState(t2,e2,n2){const s2=new Kt;return this.getReachableConfigSet(t2,e2.configs,s2,n2),s2.items.length===0?(s2.hasSemanticContext||this.addDFAEdge(e2,n2,Ht.ERROR),Ht.ERROR):this.addDFAEdge(e2,n2,null,s2)}failOrAccept(t2,e2,n2,s2){if(this.prevAccept.dfaState!==null){const n3=t2.dfaState.lexerActionExecutor;return this.accept(e2,n3,this.startIndex,t2.index,t2.line,t2.column),t2.dfaState.prediction}if(s2===i.EOF&&e2.index===this.startIndex)return i.EOF;throw new Mt(this.recog,e2,this.startIndex,n2)}getReachableConfigSet(t2,e2,n2,s2){let r2=$.INVALID_ALT_NUMBER;for(let o2=0;o2<e2.items.length;o2++){const a2=e2.items[o2],l2=a2.alt===r2;if(!l2||!a2.passedThroughNonGreedyDecision){Xt.debug&&console.log(`testing %s at %s
`,this.getTokenName(s2),a2.toString(this.recog,!0));for(let e3=0;e3<a2.state.transitions.length;e3++){const o3=a2.state.transitions[e3],h2=this.getReachableTarget(o3,s2);if(h2!==null){let e4=a2.lexerActionExecutor;e4!==null&&(e4=e4.fixOffsetBeforeMatch(t2.index-this.startIndex));const o4=s2===i.EOF,c2=new Yt({state:h2,lexerActionExecutor:e4},a2);this.closure(t2,c2,n2,l2,!0,o4)&&(r2=a2.alt)}}}}}accept(t2,e2,n2,s2,i2,r2){Xt.debug&&console.log(`ACTION %s
`,e2),t2.seek(s2),this.line=i2,this.column=r2,e2!==null&&this.recog!==null&&e2.execute(this.recog,t2,n2)}getReachableTarget(t2,e2){return t2.matches(e2,0,Ut.MAX_CHAR_VALUE)?t2.target:null}computeStartState(t2,e2){const n2=B.EMPTY,s2=new Kt;for(let i2=0;i2<e2.transitions.length;i2++){const r2=e2.transitions[i2].target,o2=new Yt({state:r2,alt:i2+1,context:n2},null);this.closure(t2,o2,s2,!1,!1,!1)}return s2}closure(t2,e2,n2,s2,i2,r2){let o2=null;if(Xt.debug&&console.log("closure("+e2.toString(this.recog,!0)+")"),e2.state instanceof A){if(Xt.debug&&(this.recog!==null?console.log(`closure at %s rule stop %s
`,this.recog.ruleNames[e2.state.ruleIndex],e2):console.log(`closure at rule stop %s
`,e2)),e2.context===null||e2.context.hasEmptyPath()){if(e2.context===null||e2.context.isEmpty())return n2.add(e2),!0;n2.add(new Yt({state:e2.state,context:B.EMPTY},e2)),s2=!0}if(e2.context!==null&&!e2.context.isEmpty()){for(let a2=0;a2<e2.context.length;a2++)if(e2.context.getReturnState(a2)!==B.EMPTY_RETURN_STATE){const l2=e2.context.getParent(a2),h2=this.atn.states[e2.context.getReturnState(a2)];o2=new Yt({state:h2,context:l2},e2),s2=this.closure(t2,o2,n2,s2,i2,r2)}}return s2}e2.state.epsilonOnlyTransitions||s2&&e2.passedThroughNonGreedyDecision||n2.add(e2);for(let a2=0;a2<e2.state.transitions.length;a2++){const l2=e2.state.transitions[a2];o2=this.getEpsilonTarget(t2,e2,l2,n2,i2,r2),o2!==null&&(s2=this.closure(t2,o2,n2,s2,i2,r2))}return s2}getEpsilonTarget(t2,e2,n2,s2,r2,o2){let a2=null;if(n2.serializationType===N.RULE){const t3=V.create(e2.context,n2.followState.stateNumber);a2=new Yt({state:n2.target,context:t3},e2)}else{if(n2.serializationType===N.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(n2.serializationType===N.PREDICATE)Xt.debug&&console.log("EVAL rule "+n2.ruleIndex+":"+n2.predIndex),s2.hasSemanticContext=!0,this.evaluatePredicate(t2,n2.ruleIndex,n2.predIndex,r2)&&(a2=new Yt({state:n2.target},e2));else if(n2.serializationType===N.ACTION)if(e2.context===null||e2.context.hasEmptyPath()){const t3=Wt.append(e2.lexerActionExecutor,this.atn.lexerActions[n2.actionIndex]);a2=new Yt({state:n2.target,lexerActionExecutor:t3},e2)}else a2=new Yt({state:n2.target},e2);else n2.serializationType===N.EPSILON?a2=new Yt({state:n2.target},e2):n2.serializationType!==N.ATOM&&n2.serializationType!==N.RANGE&&n2.serializationType!==N.SET||o2&&n2.matches(i.EOF,0,Ut.MAX_CHAR_VALUE)&&(a2=new Yt({state:n2.target},e2))}return a2}evaluatePredicate(t2,e2,n2,s2){if(this.recog===null)return!0;if(!s2)return this.recog.sempred(null,e2,n2);const i2=this.column,r2=this.line,o2=t2.index,a2=t2.mark();try{return this.consume(t2),this.recog.sempred(null,e2,n2)}finally{this.column=i2,this.line=r2,t2.seek(o2),t2.release(a2)}}captureSimState(t2,e2,n2){t2.index=e2.index,t2.line=this.line,t2.column=this.column,t2.dfaState=n2}addDFAEdge(t2,e2,n2,s2){if(n2===void 0&&(n2=null),s2===void 0&&(s2=null),n2===null&&s2!==null){const t3=s2.hasSemanticContext;if(s2.hasSemanticContext=!1,n2=this.addDFAState(s2),t3)return n2}return e2<Xt.MIN_DFA_EDGE||e2>Xt.MAX_DFA_EDGE||(Xt.debug&&console.log("EDGE "+t2+" -> "+n2+" upon "+e2),t2.edges===null&&(t2.edges=[]),t2.edges[e2-Xt.MIN_DFA_EDGE]=n2),n2}addDFAState(t2){const e2=new qt(null,t2);let n2=null;for(let e3=0;e3<t2.items.length;e3++){const s3=t2.items[e3];if(s3.state instanceof A){n2=s3;break}}n2!==null&&(e2.isAcceptState=!0,e2.lexerActionExecutor=n2.lexerActionExecutor,e2.prediction=this.atn.ruleToTokenType[n2.state.ruleIndex]);const s2=this.decisionToDFA[this.mode],i2=s2.states.get(e2);if(i2!==null)return i2;const r2=e2;return r2.stateNumber=s2.states.length,t2.setReadonly(!0),r2.configs=t2,s2.states.add(r2),r2}getDFA(t2){return this.decisionToDFA[t2]}getText(t2){return t2.getText(this.startIndex,t2.index-1)}consume(t2){t2.LA(1)===10?(this.line+=1,this.column=0):this.column+=1,t2.consume()}getTokenName(t2){return t2===-1?"EOF":"'"+String.fromCharCode(t2)+"'"}}Xt.debug=!1,Xt.dfa_debug=!1,Xt.MIN_DFA_EDGE=0,Xt.MAX_DFA_EDGE=127;class Jt{constructor(t2,e2){this.alt=e2,this.pred=t2}toString(){return"("+this.pred+", "+this.alt+")"}}class Zt{constructor(){this.data={}}get(t2){return this.data["k-"+t2]||null}set(t2,e2){this.data["k-"+t2]=e2}values(){return Object.keys(this.data).filter(t2=>t2.startsWith("k-")).map(t2=>this.data[t2],this)}}const Qt={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t2,e2){if(Qt.allConfigsInRuleStopStates(e2))return!0;if(t2===Qt.SLL&&e2.hasSemanticContext){const t3=new Vt;for(let n3=0;n3<e2.items.length;n3++){let s2=e2.items[n3];s2=new m({semanticContext:p.NONE},s2),t3.add(s2)}e2=t3}const n2=Qt.getConflictingAltSubsets(e2);return Qt.hasConflictingAltSet(n2)&&!Qt.hasStateAssociatedWithOneAlt(e2)},hasConfigInRuleStopState:function(t2){for(let e2=0;e2<t2.items.length;e2++)if(t2.items[e2].state instanceof A)return!0;return!1},allConfigsInRuleStopStates:function(t2){for(let e2=0;e2<t2.items.length;e2++)if(!(t2.items[e2].state instanceof A))return!1;return!0},resolvesToJustOneViableAlt:function(t2){return Qt.getSingleViableAlt(t2)},allSubsetsConflict:function(t2){return!Qt.hasNonConflictingAltSet(t2)},hasNonConflictingAltSet:function(t2){for(let e2=0;e2<t2.length;e2++)if(t2[e2].length===1)return!0;return!1},hasConflictingAltSet:function(t2){for(let e2=0;e2<t2.length;e2++)if(t2[e2].length>1)return!0;return!1},allSubsetsEqual:function(t2){let e2=null;for(let n2=0;n2<t2.length;n2++){const s2=t2[n2];if(e2===null)e2=s2;else if(s2!==e2)return!1}return!0},getUniqueAlt:function(t2){const e2=Qt.getAlts(t2);return e2.length===1?e2.minValue():$.INVALID_ALT_NUMBER},getAlts:function(t2){const e2=new W;return t2.map(function(t3){e2.or(t3)}),e2},getConflictingAltSubsets:function(t2){const e2=new H;return e2.hashFunction=function(t3){l.hashStuff(t3.state.stateNumber,t3.context)},e2.equalsFunction=function(t3,e3){return t3.state.stateNumber===e3.state.stateNumber&&t3.context.equals(e3.context)},t2.items.map(function(t3){let n2=e2.get(t3);n2===null&&(n2=new W,e2.set(t3,n2)),n2.set(t3.alt)}),e2.getValues()},getStateToAltMap:function(t2){const e2=new Zt;return t2.items.map(function(t3){let n2=e2.get(t3.state);n2===null&&(n2=new W,e2.set(t3.state,n2)),n2.set(t3.alt)}),e2},hasStateAssociatedWithOneAlt:function(t2){const e2=Qt.getStateToAltMap(t2).values();for(let t3=0;t3<e2.length;t3++)if(e2[t3].length===1)return!0;return!1},getSingleViableAlt:function(t2){let e2=null;for(let n2=0;n2<t2.length;n2++){const s2=t2[n2].minValue();if(e2===null)e2=s2;else if(e2!==s2)return $.INVALID_ALT_NUMBER}return e2}},te=Qt;class ee extends Ft{constructor(t2,e2,n2,s2,i2,r2){r2=r2||t2._ctx,s2=s2||t2.getCurrentToken(),n2=n2||t2.getCurrentToken(),e2=e2||t2.getInputStream(),super({message:"",recognizer:t2,input:e2,ctx:r2}),this.deadEndConfigs=i2,this.startToken=n2,this.offendingToken=s2}}class ne{constructor(t2){this.defaultMapCtor=t2||H,this.cacheMap=new this.defaultMapCtor}get(t2,e2){const n2=this.cacheMap.get(t2)||null;return n2===null?null:n2.get(e2)||null}set(t2,e2,n2){let s2=this.cacheMap.get(t2)||null;s2===null&&(s2=new this.defaultMapCtor,this.cacheMap.set(t2,s2)),s2.set(e2,n2)}}class se extends Ht{constructor(t2,e2,n2,s2){super(e2,s2),this.parser=t2,this.decisionToDFA=n2,this.predictionMode=te.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.trace_atn_sim=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t2,e2,n2){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e2+" exec LA(1)=="+this.getLookaheadName(t2)+" line "+t2.LT(1).line+":"+t2.LT(1).column),this._input=t2,this._startIndex=t2.index,this._outerContext=n2;const s2=this.decisionToDFA[e2];this._dfa=s2;const i2=t2.mark(),r2=t2.index;try{let e3;if(e3=s2.precedenceDfa?s2.getPrecedenceStartState(this.parser.getPrecedence()):s2.s0,e3===null){n2===null&&(n2=U.EMPTY),this.debug&&console.log("predictATN decision "+s2.decision+" exec LA(1)=="+this.getLookaheadName(t2)+", outerContext="+n2.toString(this.parser.ruleNames));let r3=this.computeStartState(s2.atnStartState,U.EMPTY,!1);s2.precedenceDfa?(s2.s0.configs=r3,r3=this.applyPrecedenceFilter(r3),e3=this.addDFAState(s2,new qt(null,r3)),s2.setPrecedenceStartState(this.parser.getPrecedence(),e3)):(e3=this.addDFAState(s2,new qt(null,r3)),s2.s0=e3)}const i3=this.execATN(s2,e3,t2,r2,n2);return this.debug&&console.log("DFA after predictATN: "+s2.toString(this.parser.literalNames,this.parser.symbolicNames)),i3}finally{this._dfa=null,this.mergeCache=null,t2.seek(r2),t2.release(i2)}}execATN(t2,e2,n2,s2,r2){let o2;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+t2.decision+", DFA state "+e2+", LA(1)=="+this.getLookaheadName(n2)+" line "+n2.LT(1).line+":"+n2.LT(1).column);let a2=e2;this.debug&&console.log("s0 = "+e2);let l2=n2.LA(1);for(;;){let e3=this.getExistingTargetState(a2,l2);if(e3===null&&(e3=this.computeTargetState(t2,a2,l2)),e3===Ht.ERROR){const t3=this.noViableAlt(n2,r2,a2.configs,s2);if(n2.seek(s2),o2=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(a2.configs,r2),o2!==$.INVALID_ALT_NUMBER)return o2;throw t3}if(e3.requiresFullContext&&this.predictionMode!==te.SLL){let i2=null;if(e3.predicates!==null){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const t3=n2.index;if(t3!==s2&&n2.seek(s2),i2=this.evalSemanticContext(e3.predicates,r2,!0),i2.length===1)return this.debug&&console.log("Full LL avoided"),i2.minValue();t3!==s2&&n2.seek(t3)}this.dfa_debug&&console.log("ctx sensitive state "+r2+" in "+e3);const a3=!0,l3=this.computeStartState(t2.atnStartState,r2,a3);return this.reportAttemptingFullContext(t2,i2,e3.configs,s2,n2.index),o2=this.execATNWithFullContext(t2,e3,l3,n2,s2,r2),o2}if(e3.isAcceptState){if(e3.predicates===null)return e3.prediction;const i2=n2.index;n2.seek(s2);const o3=this.evalSemanticContext(e3.predicates,r2,!0);if(o3.length===0)throw this.noViableAlt(n2,r2,e3.configs,s2);return o3.length===1||this.reportAmbiguity(t2,e3,s2,i2,!1,o3,e3.configs),o3.minValue()}a2=e3,l2!==i.EOF&&(n2.consume(),l2=n2.LA(1))}}getExistingTargetState(t2,e2){const n2=t2.edges;return n2===null?null:n2[e2+1]||null}computeTargetState(t2,e2,n2){const s2=this.computeReachSet(e2.configs,n2,!1);if(s2===null)return this.addDFAEdge(t2,e2,n2,Ht.ERROR),Ht.ERROR;let i2=new qt(null,s2);const r2=this.getUniqueAlt(s2);if(this.debug){const t3=te.getConflictingAltSubsets(s2);console.log("SLL altSubSets="+d(t3)+", configs="+s2+", predict="+r2+", allSubsetsConflict="+te.allSubsetsConflict(t3)+", conflictingAlts="+this.getConflictingAlts(s2))}return r2!==$.INVALID_ALT_NUMBER?(i2.isAcceptState=!0,i2.configs.uniqueAlt=r2,i2.prediction=r2):te.hasSLLConflictTerminatingPrediction(this.predictionMode,s2)&&(i2.configs.conflictingAlts=this.getConflictingAlts(s2),i2.requiresFullContext=!0,i2.isAcceptState=!0,i2.prediction=i2.configs.conflictingAlts.minValue()),i2.isAcceptState&&i2.configs.hasSemanticContext&&(this.predicateDFAState(i2,this.atn.getDecisionState(t2.decision)),i2.predicates!==null&&(i2.prediction=$.INVALID_ALT_NUMBER)),i2=this.addDFAEdge(t2,e2,n2,i2),i2}predicateDFAState(t2,e2){const n2=e2.transitions.length,s2=this.getConflictingAltsOrUniqueAlt(t2.configs),i2=this.getPredsForAmbigAlts(s2,t2.configs,n2);i2!==null?(t2.predicates=this.getPredicatePredictions(s2,i2),t2.prediction=$.INVALID_ALT_NUMBER):t2.prediction=s2.minValue()}execATNWithFullContext(t2,e2,n2,s2,r2,o2){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+n2);let a2,l2=!1,h2=n2;s2.seek(r2);let c2=s2.LA(1),u2=-1;for(;;){if(a2=this.computeReachSet(h2,c2,!0),a2===null){const t4=this.noViableAlt(s2,o2,h2,r2);s2.seek(r2);const e3=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(h2,o2);if(e3!==$.INVALID_ALT_NUMBER)return e3;throw t4}const t3=te.getConflictingAltSubsets(a2);if(this.debug&&console.log("LL altSubSets="+t3+", predict="+te.getUniqueAlt(t3)+", resolvesToJustOneViableAlt="+te.resolvesToJustOneViableAlt(t3)),a2.uniqueAlt=this.getUniqueAlt(a2),a2.uniqueAlt!==$.INVALID_ALT_NUMBER){u2=a2.uniqueAlt;break}if(this.predictionMode!==te.LL_EXACT_AMBIG_DETECTION){if(u2=te.resolvesToJustOneViableAlt(t3),u2!==$.INVALID_ALT_NUMBER)break}else if(te.allSubsetsConflict(t3)&&te.allSubsetsEqual(t3)){l2=!0,u2=te.getSingleViableAlt(t3);break}h2=a2,c2!==i.EOF&&(s2.consume(),c2=s2.LA(1))}return a2.uniqueAlt!==$.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t2,u2,a2,r2,s2.index),u2):(this.reportAmbiguity(t2,e2,r2,s2.index,l2,null,a2),u2)}computeReachSet(t2,e2,n2){this.debug&&console.log("in computeReachSet, starting closure: "+t2),this.mergeCache===null&&(this.mergeCache=new ne);const s2=new Vt(n2);let r2=null;for(let o3=0;o3<t2.items.length;o3++){const a2=t2.items[o3];if(this.debug&&console.log("testing "+this.getTokenName(e2)+" at "+a2),a2.state instanceof A)(n2||e2===i.EOF)&&(r2===null&&(r2=[]),r2.push(a2),this.debug_add&&console.log("added "+a2+" to skippedStopStates"));else for(let t3=0;t3<a2.state.transitions.length;t3++){const n3=a2.state.transitions[t3],i2=this.getReachableTarget(n3,e2);if(i2!==null){const t4=new m({state:i2},a2);s2.add(t4,this.mergeCache),this.debug_add&&console.log("added "+t4+" to intermediate")}}}let o2=null;if(r2===null&&e2!==i.EOF&&(s2.items.length===1||this.getUniqueAlt(s2)!==$.INVALID_ALT_NUMBER)&&(o2=s2),o2===null){o2=new Vt(n2);const t3=new g,r3=e2===i.EOF;for(let e3=0;e3<s2.items.length;e3++)this.closure(s2.items[e3],o2,t3,!1,n2,r3)}if(e2===i.EOF&&(o2=this.removeAllConfigsNotInRuleStopState(o2,o2===s2)),!(r2===null||n2&&te.hasConfigInRuleStopState(o2)))for(let t3=0;t3<r2.length;t3++)o2.add(r2[t3],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+t2+" -> "+o2),o2.items.length===0?null:o2}removeAllConfigsNotInRuleStopState(t2,e2){if(te.allConfigsInRuleStopStates(t2))return t2;const n2=new Vt(t2.fullCtx);for(let s2=0;s2<t2.items.length;s2++){const r2=t2.items[s2];if(r2.state instanceof A)n2.add(r2,this.mergeCache);else if(e2&&r2.state.epsilonOnlyTransitions&&this.atn.nextTokens(r2.state).contains(i.EPSILON)){const t3=this.atn.ruleToStopState[r2.state.ruleIndex];n2.add(new m({state:t3},r2),this.mergeCache)}}return n2}computeStartState(t2,e2,n2){const s2=K(this.atn,e2),i2=new Vt(n2);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t2+" initialContext="+s2.toString(this.parser));for(let e3=0;e3<t2.transitions.length;e3++){const r2=t2.transitions[e3].target,o2=new m({state:r2,alt:e3+1,context:s2},null),a2=new g;this.closure(o2,i2,a2,!0,n2,!1)}return i2}applyPrecedenceFilter(t2){let e2;const n2=[],s2=new Vt(t2.fullCtx);for(let i2=0;i2<t2.items.length;i2++){if(e2=t2.items[i2],e2.alt!==1)continue;const r2=e2.semanticContext.evalPrecedence(this.parser,this._outerContext);r2!==null&&(n2[e2.state.stateNumber]=e2.context,r2!==e2.semanticContext?s2.add(new m({semanticContext:r2},e2),this.mergeCache):s2.add(e2,this.mergeCache))}for(let i2=0;i2<t2.items.length;i2++)if(e2=t2.items[i2],e2.alt!==1){if(!e2.precedenceFilterSuppressed){const t3=n2[e2.state.stateNumber]||null;if(t3!==null&&t3.equals(e2.context))continue}s2.add(e2,this.mergeCache)}return s2}getReachableTarget(t2,e2){return t2.matches(e2,0,this.atn.maxTokenType)?t2.target:null}getPredsForAmbigAlts(t2,e2,n2){let s2=[];for(let n3=0;n3<e2.items.length;n3++){const i3=e2.items[n3];t2.get(i3.alt)&&(s2[i3.alt]=p.orContext(s2[i3.alt]||null,i3.semanticContext))}let i2=0;for(let t3=1;t3<n2+1;t3++){const e3=s2[t3]||null;e3===null?s2[t3]=p.NONE:e3!==p.NONE&&(i2+=1)}return i2===0&&(s2=null),this.debug&&console.log("getPredsForAmbigAlts result "+d(s2)),s2}getPredicatePredictions(t2,e2){const n2=[];let s2=!1;for(let i2=1;i2<e2.length;i2++){const r2=e2[i2];t2!==null&&t2.get(i2)&&n2.push(new Jt(r2,i2)),r2!==p.NONE&&(s2=!0)}return s2?n2:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t2,e2){const n2=this.splitAccordingToSemanticValidity(t2,e2),s2=n2[0],i2=n2[1];let r2=this.getAltThatFinishedDecisionEntryRule(s2);return r2!==$.INVALID_ALT_NUMBER||i2.items.length>0&&(r2=this.getAltThatFinishedDecisionEntryRule(i2),r2!==$.INVALID_ALT_NUMBER)?r2:$.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t2){const e2=[];for(let n2=0;n2<t2.items.length;n2++){const s2=t2.items[n2];(s2.reachesIntoOuterContext>0||s2.state instanceof A&&s2.context.hasEmptyPath())&&e2.indexOf(s2.alt)<0&&e2.push(s2.alt)}return e2.length===0?$.INVALID_ALT_NUMBER:Math.min.apply(null,e2)}splitAccordingToSemanticValidity(t2,e2){const n2=new Vt(t2.fullCtx),s2=new Vt(t2.fullCtx);for(let i2=0;i2<t2.items.length;i2++){const r2=t2.items[i2];r2.semanticContext!==p.NONE?r2.semanticContext.evaluate(this.parser,e2)?n2.add(r2):s2.add(r2):n2.add(r2)}return[n2,s2]}evalSemanticContext(t2,e2,n2){const s2=new W;for(let i2=0;i2<t2.length;i2++){const r2=t2[i2];if(r2.pred===p.NONE){if(s2.set(r2.alt),!n2)break;continue}const o2=r2.pred.evaluate(this.parser,e2);if((this.debug||this.dfa_debug)&&console.log("eval pred "+r2+"="+o2),o2&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+r2.alt),s2.set(r2.alt),!n2))break}return s2}closure(t2,e2,n2,s2,i2,r2){this.closureCheckingStopState(t2,e2,n2,s2,i2,0,r2)}closureCheckingStopState(t2,e2,n2,s2,i2,r2,o2){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t2.toString(this.parser,!0)+")"),t2.state instanceof A){if(!t2.context.isEmpty()){for(let a2=0;a2<t2.context.length;a2++){if(t2.context.getReturnState(a2)===B.EMPTY_RETURN_STATE){if(i2){e2.add(new m({state:t2.state,context:B.EMPTY},t2),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t2.state.ruleIndex)),this.closure_(t2,e2,n2,s2,i2,r2,o2);continue}const l2=this.atn.states[t2.context.getReturnState(a2)],h2=t2.context.getParent(a2),c2={state:l2,alt:t2.alt,context:h2,semanticContext:t2.semanticContext},u2=new m(c2,null);u2.reachesIntoOuterContext=t2.reachesIntoOuterContext,this.closureCheckingStopState(u2,e2,n2,s2,i2,r2-1,o2)}return}if(i2)return void e2.add(t2,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t2.state.ruleIndex))}this.closure_(t2,e2,n2,s2,i2,r2,o2)}closure_(t2,e2,n2,s2,i2,r2,o2){const a2=t2.state;a2.epsilonOnlyTransitions||e2.add(t2,this.mergeCache);for(let l2=0;l2<a2.transitions.length;l2++){if(l2===0&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t2))continue;const h2=a2.transitions[l2],c2=s2&&!(h2 instanceof ut),u2=this.getEpsilonTarget(t2,h2,c2,r2===0,i2,o2);if(u2!==null){let s3=r2;if(t2.state instanceof A){if(this._dfa!==null&&this._dfa.precedenceDfa&&h2.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(u2.precedenceFilterSuppressed=!0),u2.reachesIntoOuterContext+=1,n2.getOrAdd(u2)!==u2)continue;e2.dipsIntoOuterContext=!0,s3-=1,this.debug&&console.log("dips into outer ctx: "+u2)}else{if(!h2.isEpsilon&&n2.getOrAdd(u2)!==u2)continue;h2 instanceof k&&s3>=0&&(s3+=1)}this.closureCheckingStopState(u2,e2,n2,c2,i2,s3,o2)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t2){const e2=t2.state;if(e2.stateType!==C.STAR_LOOP_ENTRY||e2.stateType!==C.STAR_LOOP_ENTRY||!e2.isPrecedenceDecision||t2.context.isEmpty()||t2.context.hasEmptyPath())return!1;const n2=t2.context.length;for(let s3=0;s3<n2;s3++)if(this.atn.states[t2.context.getReturnState(s3)].ruleIndex!==e2.ruleIndex)return!1;const s2=e2.transitions[0].target.endState.stateNumber,i2=this.atn.states[s2];for(let s3=0;s3<n2;s3++){const n3=t2.context.getReturnState(s3),r2=this.atn.states[n3];if(r2.transitions.length!==1||!r2.transitions[0].isEpsilon)return!1;const o2=r2.transitions[0].target;if(!(r2.stateType===C.BLOCK_END&&o2===e2||r2===i2||o2===i2||o2.stateType===C.BLOCK_END&&o2.transitions.length===1&&o2.transitions[0].isEpsilon&&o2.transitions[0].target===e2))return!1}return!0}getRuleName(t2){return this.parser!==null&&t2>=0?this.parser.ruleNames[t2]:"<rule "+t2+">"}getEpsilonTarget(t2,e2,n2,s2,r2,o2){switch(e2.serializationType){case N.RULE:return this.ruleTransition(t2,e2);case N.PRECEDENCE:return this.precedenceTransition(t2,e2,n2,s2,r2);case N.PREDICATE:return this.predTransition(t2,e2,n2,s2,r2);case N.ACTION:return this.actionTransition(t2,e2);case N.EPSILON:return new m({state:e2.target},t2);case N.ATOM:case N.RANGE:case N.SET:return o2&&e2.matches(i.EOF,0,1)?new m({state:e2.target},t2):null;default:return null}}actionTransition(t2,e2){if(this.debug){const t3=e2.actionIndex===-1?65535:e2.actionIndex;console.log("ACTION edge "+e2.ruleIndex+":"+t3)}return new m({state:e2.target},t2)}precedenceTransition(t2,e2,n2,s2,i2){this.debug&&(console.log("PRED (collectPredicates="+n2+") "+e2.precedence+">=_p, ctx dependent=true"),this.parser!==null&&console.log("context surrounding pred is "+d(this.parser.getRuleInvocationStack())));let r2=null;if(n2&&s2)if(i2){const n3=this._input.index;this._input.seek(this._startIndex);const s3=e2.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n3),s3&&(r2=new m({state:e2.target},t2))}else{const n3=p.andContext(t2.semanticContext,e2.getPredicate());r2=new m({state:e2.target,semanticContext:n3},t2)}else r2=new m({state:e2.target},t2);return this.debug&&console.log("config from pred transition="+r2),r2}predTransition(t2,e2,n2,s2,i2){this.debug&&(console.log("PRED (collectPredicates="+n2+") "+e2.ruleIndex+":"+e2.predIndex+", ctx dependent="+e2.isCtxDependent),this.parser!==null&&console.log("context surrounding pred is "+d(this.parser.getRuleInvocationStack())));let r2=null;if(n2&&(e2.isCtxDependent&&s2||!e2.isCtxDependent))if(i2){const n3=this._input.index;this._input.seek(this._startIndex);const s3=e2.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n3),s3&&(r2=new m({state:e2.target},t2))}else{const n3=p.andContext(t2.semanticContext,e2.getPredicate());r2=new m({state:e2.target,semanticContext:n3},t2)}else r2=new m({state:e2.target},t2);return this.debug&&console.log("config from pred transition="+r2),r2}ruleTransition(t2,e2){this.debug&&console.log("CALL rule "+this.getRuleName(e2.target.ruleIndex)+", ctx="+t2.context);const n2=e2.followState,s2=V.create(t2.context,n2.stateNumber);return new m({state:e2.target,context:s2},t2)}getConflictingAlts(t2){const e2=te.getConflictingAltSubsets(t2);return te.getAlts(e2)}getConflictingAltsOrUniqueAlt(t2){let e2=null;return t2.uniqueAlt!==$.INVALID_ALT_NUMBER?(e2=new W,e2.set(t2.uniqueAlt)):e2=t2.conflictingAlts,e2}getTokenName(t2){if(t2===i.EOF)return"EOF";if(this.parser!==null&&this.parser.literalNames!==null){if(!(t2>=this.parser.literalNames.length&&t2>=this.parser.symbolicNames.length))return(this.parser.literalNames[t2]||this.parser.symbolicNames[t2])+"<"+t2+">";console.log(t2+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t2}getLookaheadName(t2){return this.getTokenName(t2.LA(1))}dumpDeadEndConfigs(t2){console.log("dead end configs: ");const e2=t2.getDeadEndConfigs();for(let t3=0;t3<e2.length;t3++){const n2=e2[t3];let s2="no edges";if(n2.state.transitions.length>0){const t4=n2.state.transitions[0];t4 instanceof ht?s2="Atom "+this.getTokenName(t4.label):t4 instanceof I&&(s2=(t4 instanceof y?"~":"")+"Set "+t4.set)}console.error(n2.toString(this.parser,!0)+":"+s2)}}noViableAlt(t2,e2,n2,s2){return new ee(this.parser,t2,t2.get(s2),t2.LT(1),n2,e2)}getUniqueAlt(t2){let e2=$.INVALID_ALT_NUMBER;for(let n2=0;n2<t2.items.length;n2++){const s2=t2.items[n2];if(e2===$.INVALID_ALT_NUMBER)e2=s2.alt;else if(s2.alt!==e2)return $.INVALID_ALT_NUMBER}return e2}addDFAEdge(t2,e2,n2,s2){if(this.debug&&console.log("EDGE "+e2+" -> "+s2+" upon "+this.getTokenName(n2)),s2===null)return null;if(s2=this.addDFAState(t2,s2),e2===null||n2<-1||n2>this.atn.maxTokenType)return s2;if(e2.edges===null&&(e2.edges=[]),e2.edges[n2+1]=s2,this.debug){const e3=this.parser===null?null:this.parser.literalNames,n3=this.parser===null?null:this.parser.symbolicNames;console.log(`DFA=
`+t2.toString(e3,n3))}return s2}addDFAState(t2,e2){if(e2===Ht.ERROR)return e2;const n2=t2.states.get(e2);return n2!==null?(this.trace_atn_sim&&console.log("addDFAState "+e2+" exists"),n2):(e2.stateNumber=t2.states.length,e2.configs.readOnly||(e2.configs.optimizeConfigs(this),e2.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e2),t2.states.add(e2),this.debug&&console.log("adding new DFA state: "+e2),e2)}reportAttemptingFullContext(t2,e2,n2,s2,i2){if(this.debug||this.retry_debug){const e3=new E(s2,i2+1);console.log("reportAttemptingFullContext decision="+t2.decision+":"+n2+", input="+this.parser.getTokenStream().getText(e3))}this.parser!==null&&this.parser.getErrorListener().reportAttemptingFullContext(this.parser,t2,s2,i2,e2,n2)}reportContextSensitivity(t2,e2,n2,s2,i2){if(this.debug||this.retry_debug){const e3=new E(s2,i2+1);console.log("reportContextSensitivity decision="+t2.decision+":"+n2+", input="+this.parser.getTokenStream().getText(e3))}this.parser!==null&&this.parser.getErrorListener().reportContextSensitivity(this.parser,t2,s2,i2,e2,n2)}reportAmbiguity(t2,e2,n2,s2,i2,r2,o2){if(this.debug||this.retry_debug){const t3=new E(n2,s2+1);console.log("reportAmbiguity "+r2+":"+o2+", input="+this.parser.getTokenStream().getText(t3))}this.parser!==null&&this.parser.getErrorListener().reportAmbiguity(this.parser,t2,n2,s2,i2,r2,o2)}}class ie{constructor(){this.cache=new H}add(t2){if(t2===B.EMPTY)return B.EMPTY;const e2=this.cache.get(t2)||null;return e2!==null?e2:(this.cache.set(t2,t2),t2)}get(t2){return this.cache.get(t2)||null}get length(){return this.cache.length}}const re={ATN:$,ATNDeserializer:Lt,LexerATNSimulator:Xt,ParserATNSimulator:se,PredictionMode:te,PredictionContextCache:ie};class oe{constructor(t2,e2,n2){this.dfa=t2,this.literalNames=e2||[],this.symbolicNames=n2||[]}toString(){if(this.dfa.s0===null)return null;let t2="";const e2=this.dfa.sortedStates();for(let n2=0;n2<e2.length;n2++){const s2=e2[n2];if(s2.edges!==null){const e3=s2.edges.length;for(let n3=0;n3<e3;n3++){const e4=s2.edges[n3]||null;e4!==null&&e4.stateNumber!==2147483647&&(t2=t2.concat(this.getStateString(s2)),t2=t2.concat("-"),t2=t2.concat(this.getEdgeLabel(n3)),t2=t2.concat("->"),t2=t2.concat(this.getStateString(e4)),t2=t2.concat(`
`))}}}return t2.length===0?null:t2}getEdgeLabel(t2){return t2===0?"EOF":this.literalNames!==null||this.symbolicNames!==null?this.literalNames[t2-1]||this.symbolicNames[t2-1]:String.fromCharCode(t2-1)}getStateString(t2){const e2=(t2.isAcceptState?":":"")+"s"+t2.stateNumber+(t2.requiresFullContext?"^":"");return t2.isAcceptState?t2.predicates!==null?e2+"=>"+d(t2.predicates):e2+"=>"+t2.prediction.toString():e2}}class ae extends oe{constructor(t2){super(t2,null)}getEdgeLabel(t2){return"'"+String.fromCharCode(t2)+"'"}}class le{constructor(t2,e2){if(e2===void 0&&(e2=0),this.atnStartState=t2,this.decision=e2,this._states=new g,this.s0=null,this.precedenceDfa=!1,t2 instanceof rt&&t2.isPrecedenceDecision){this.precedenceDfa=!0;const t3=new qt(null,new Vt);t3.edges=[],t3.isAcceptState=!1,t3.requiresFullContext=!1,this.s0=t3}}getPrecedenceStartState(t2){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t2<0||t2>=this.s0.edges.length?null:this.s0.edges[t2]||null}setPrecedenceStartState(t2,e2){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t2<0||(this.s0.edges[t2]=e2)}setPrecedenceDfa(t2){if(this.precedenceDfa!==t2){if(this._states=new g,t2){const t3=new qt(null,new Vt);t3.edges=[],t3.isAcceptState=!1,t3.requiresFullContext=!1,this.s0=t3}else this.s0=null;this.precedenceDfa=t2}}sortedStates(){return this._states.values().sort(function(t2,e2){return t2.stateNumber-e2.stateNumber})}toString(t2,e2){return t2=t2||null,e2=e2||null,this.s0===null?"":new oe(this,t2,e2).toString()}toLexerString(){return this.s0===null?"":new ae(this).toString()}get states(){return this._states}}const he={DFA:le,DFASerializer:oe,LexerDFASerializer:ae,PredPrediction:Jt},ce={PredictionContext:B},ue={Interval:E,IntervalSet:_};class de{visitTerminal(t2){}visitErrorNode(t2){}enterEveryRule(t2){}exitEveryRule(t2){}}class ge{visit(t2){return Array.isArray(t2)?t2.map(function(t3){return t3.accept(this)},this):t2.accept(this)}visitChildren(t2){return t2.children?this.visit(t2.children):null}visitTerminal(t2){}visitErrorNode(t2){}}class pe{walk(t2,e2){if(e2 instanceof D||e2.isErrorNode!==void 0&&e2.isErrorNode())t2.visitErrorNode(e2);else if(e2 instanceof b)t2.visitTerminal(e2);else{this.enterRule(t2,e2);for(let n2=0;n2<e2.getChildCount();n2++){const s2=e2.getChild(n2);this.walk(t2,s2)}this.exitRule(t2,e2)}}enterRule(t2,e2){const n2=e2.ruleContext;t2.enterEveryRule(n2),n2.enterRule(t2)}exitRule(t2,e2){const n2=e2.ruleContext;n2.exitRule(t2),t2.exitEveryRule(n2)}}pe.DEFAULT=new pe;const fe={Trees:M,RuleNode:P,ErrorNode:D,TerminalNode:b,ParseTreeListener:de,ParseTreeVisitor:ge,ParseTreeWalker:pe};class xe extends Ft{constructor(t2){super({message:"",recognizer:t2,input:t2.getInputStream(),ctx:t2._ctx}),this.offendingToken=t2.getCurrentToken()}}class Te extends Ft{constructor(t2,e2,n2){super({message:Se(e2,n2||null),recognizer:t2,input:t2.getInputStream(),ctx:t2._ctx});const s2=t2._interp.atn.states[t2.state].transitions[0];s2 instanceof pt?(this.ruleIndex=s2.ruleIndex,this.predicateIndex=s2.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e2,this.offendingToken=t2.getCurrentToken()}}function Se(t2,e2){return e2!==null?e2:"failed predicate: {"+t2+"}?"}class me extends Ot{constructor(t2){super(),t2=t2||!0,this.exactOnly=t2}reportAmbiguity(t2,e2,n2,s2,i2,r2,o2){if(this.exactOnly&&!i2)return;const a2="reportAmbiguity d="+this.getDecisionDescription(t2,e2)+": ambigAlts="+this.getConflictingAlts(r2,o2)+", input='"+t2.getTokenStream().getText(new E(n2,s2))+"'";t2.notifyErrorListeners(a2)}reportAttemptingFullContext(t2,e2,n2,s2,i2,r2){const o2="reportAttemptingFullContext d="+this.getDecisionDescription(t2,e2)+", input='"+t2.getTokenStream().getText(new E(n2,s2))+"'";t2.notifyErrorListeners(o2)}reportContextSensitivity(t2,e2,n2,s2,i2,r2){const o2="reportContextSensitivity d="+this.getDecisionDescription(t2,e2)+", input='"+t2.getTokenStream().getText(new E(n2,s2))+"'";t2.notifyErrorListeners(o2)}getDecisionDescription(t2,e2){const n2=e2.decision,s2=e2.atnStartState.ruleIndex,i2=t2.ruleNames;if(s2<0||s2>=i2.length)return""+n2;const r2=i2[s2]||null;return r2===null||r2.length===0?""+n2:`${n2} (${r2})`}getConflictingAlts(t2,e2){if(t2!==null)return t2;const n2=new W;for(let t3=0;t3<e2.items.length;t3++)n2.set(e2.items[t3].alt);return`{${n2.values().join(", ")}}`}}class Ee extends Error{constructor(){super(),Error.captureStackTrace(this,Ee)}}class _e{reset(t2){}recoverInline(t2){}recover(t2,e2){}sync(t2){}inErrorRecoveryMode(t2){}reportError(t2){}}class Ce extends _e{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t2){this.endErrorCondition(t2)}beginErrorCondition(t2){this.errorRecoveryMode=!0}inErrorRecoveryMode(t2){return this.errorRecoveryMode}endErrorCondition(t2){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t2){this.endErrorCondition(t2)}reportError(t2,e2){this.inErrorRecoveryMode(t2)||(this.beginErrorCondition(t2),e2 instanceof ee?this.reportNoViableAlternative(t2,e2):e2 instanceof xe?this.reportInputMismatch(t2,e2):e2 instanceof Te?this.reportFailedPredicate(t2,e2):(console.log("unknown recognition error type: "+e2.constructor.name),console.log(e2.stack),t2.notifyErrorListeners(e2.getOffendingToken(),e2.getMessage(),e2)))}recover(t2,e2){this.lastErrorIndex===t2.getInputStream().index&&this.lastErrorStates!==null&&this.lastErrorStates.indexOf(t2.state)>=0&&t2.consume(),this.lastErrorIndex=t2._input.index,this.lastErrorStates===null&&(this.lastErrorStates=[]),this.lastErrorStates.push(t2.state);const n2=this.getErrorRecoverySet(t2);this.consumeUntil(t2,n2)}sync(t2){if(this.inErrorRecoveryMode(t2))return;const e2=t2._interp.atn.states[t2.state],n2=t2.getTokenStream().LA(1),s2=t2.atn.nextTokens(e2);if(s2.contains(n2))return this.nextTokensContext=null,void(this.nextTokenState=C.INVALID_STATE_NUMBER);if(s2.contains(i.EPSILON))this.nextTokensContext===null&&(this.nextTokensContext=t2._ctx,this.nextTokensState=t2._stateNumber);else switch(e2.stateType){case C.BLOCK_START:case C.STAR_BLOCK_START:case C.PLUS_BLOCK_START:case C.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(t2)!==null)return;throw new xe(t2);case C.PLUS_LOOP_BACK:case C.STAR_LOOP_BACK:{this.reportUnwantedToken(t2);const e3=new _;e3.addSet(t2.getExpectedTokens());const n3=e3.addSet(this.getErrorRecoverySet(t2));this.consumeUntil(t2,n3)}}}reportNoViableAlternative(t2,e2){const n2=t2.getTokenStream();let s2;s2=n2!==null?e2.startToken.type===i.EOF?"<EOF>":n2.getText(new E(e2.startToken.tokenIndex,e2.offendingToken.tokenIndex)):"<unknown input>";const r2="no viable alternative at input "+this.escapeWSAndQuote(s2);t2.notifyErrorListeners(r2,e2.offendingToken,e2)}reportInputMismatch(t2,e2){const n2="mismatched input "+this.getTokenErrorDisplay(e2.offendingToken)+" expecting "+e2.getExpectedTokens().toString(t2.literalNames,t2.symbolicNames);t2.notifyErrorListeners(n2,e2.offendingToken,e2)}reportFailedPredicate(t2,e2){const n2="rule "+t2.ruleNames[t2._ctx.ruleIndex]+" "+e2.message;t2.notifyErrorListeners(n2,e2.offendingToken,e2)}reportUnwantedToken(t2){if(this.inErrorRecoveryMode(t2))return;this.beginErrorCondition(t2);const e2=t2.getCurrentToken(),n2="extraneous input "+this.getTokenErrorDisplay(e2)+" expecting "+this.getExpectedTokens(t2).toString(t2.literalNames,t2.symbolicNames);t2.notifyErrorListeners(n2,e2,null)}reportMissingToken(t2){if(this.inErrorRecoveryMode(t2))return;this.beginErrorCondition(t2);const e2=t2.getCurrentToken(),n2="missing "+this.getExpectedTokens(t2).toString(t2.literalNames,t2.symbolicNames)+" at "+this.getTokenErrorDisplay(e2);t2.notifyErrorListeners(n2,e2,null)}recoverInline(t2){const e2=this.singleTokenDeletion(t2);if(e2!==null)return t2.consume(),e2;if(this.singleTokenInsertion(t2))return this.getMissingSymbol(t2);throw new xe(t2)}singleTokenInsertion(t2){const e2=t2.getTokenStream().LA(1),n2=t2._interp.atn,s2=n2.states[t2.state].transitions[0].target;return!!n2.nextTokens(s2,t2._ctx).contains(e2)&&(this.reportMissingToken(t2),!0)}singleTokenDeletion(t2){const e2=t2.getTokenStream().LA(2);if(this.getExpectedTokens(t2).contains(e2)){this.reportUnwantedToken(t2),t2.consume();const e3=t2.getCurrentToken();return this.reportMatch(t2),e3}return null}getMissingSymbol(t2){const e2=t2.getCurrentToken(),n2=this.getExpectedTokens(t2).first();let s2;s2=n2===i.EOF?"<missing EOF>":"<missing "+t2.literalNames[n2]+">";let r2=e2;const o2=t2.getTokenStream().LT(-1);return r2.type===i.EOF&&o2!==null&&(r2=o2),t2.getTokenFactory().create(r2.source,n2,s2,i.DEFAULT_CHANNEL,-1,-1,r2.line,r2.column)}getExpectedTokens(t2){return t2.getExpectedTokens()}getTokenErrorDisplay(t2){if(t2===null)return"<no token>";let e2=t2.text;return e2===null&&(e2=t2.type===i.EOF?"<EOF>":"<"+t2.type+">"),this.escapeWSAndQuote(e2)}escapeWSAndQuote(t2){return"'"+(t2=(t2=(t2=t2.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(t2){const e2=t2._interp.atn;let n2=t2._ctx;const s2=new _;for(;n2!==null&&n2.invokingState>=0;){const t3=e2.states[n2.invokingState].transitions[0],i2=e2.nextTokens(t3.followState);s2.addSet(i2),n2=n2.parentCtx}return s2.removeOne(i.EPSILON),s2}consumeUntil(t2,e2){let n2=t2.getTokenStream().LA(1);for(;n2!==i.EOF&&!e2.contains(n2);)t2.consume(),n2=t2.getTokenStream().LA(1)}}class Ae extends Ce{constructor(){super()}recover(t2,e2){let n2=t2._ctx;for(;n2!==null;)n2.exception=e2,n2=n2.parentCtx;throw new Ee(e2)}recoverInline(t2){this.recover(t2,new xe(t2))}sync(t2){}}const Ne={RecognitionException:Ft,NoViableAltException:ee,LexerNoViableAltException:Mt,InputMismatchException:xe,FailedPredicateException:Te,DiagnosticErrorListener:me,BailErrorStrategy:Ae,DefaultErrorStrategy:Ce,ErrorListener:Ot};class ke{constructor(t2,e2){if(this.name="<empty>",this.strdata=t2,this.decodeToUnicodeCodePoints=e2||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let t3=0;t3<this.strdata.length;){const e3=this.strdata.codePointAt(t3);this.data.push(e3),t3+=e3<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let t3=0;t3<this.strdata.length;t3++)this.data[t3]=this.strdata.charCodeAt(t3)}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(t2){if(t2===0)return 0;t2<0&&(t2+=1);const e2=this._index+t2-1;return e2<0||e2>=this._size?i.EOF:this.data[e2]}LT(t2){return this.LA(t2)}mark(){return-1}release(t2){}seek(t2){t2<=this._index?this._index=t2:this._index=Math.min(t2,this._size)}getText(t2,e2){if(e2>=this._size&&(e2=this._size-1),t2>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n2="";for(let s2=t2;s2<=e2;s2++)n2+=String.fromCodePoint(this.data[s2]);return n2}return this.strdata.slice(t2,e2+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}class Ie extends ke{constructor(t2,e2){super(t2,e2)}}var ye=n(763);const Le=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;class Oe extends Ie{static fromPath(t2,e2,n2){if(!Le)throw new Error("FileStream is only available when running in Node!");ye.readFile(t2,e2,function(t3,e3){let s2=null;e3!==null&&(s2=new ke(e3,!0)),n2(t3,s2)})}constructor(t2,e2,n2){if(!Le)throw new Error("FileStream is only available when running in Node!");super(ye.readFileSync(t2,e2||"utf-8"),n2),this.fileName=t2}}const Re={fromString:function(t2){return new ke(t2,!0)},fromBlob:function(t2,e2,n2,s2){const i2=new window.FileReader;i2.onload=function(t3){const e3=new ke(t3.target.result,!0);n2(e3)},i2.onerror=s2,i2.readAsText(t2,e2)},fromBuffer:function(t2,e2){return new ke(t2.toString(e2),!0)},fromPath:function(t2,e2,n2){Oe.fromPath(t2,e2,n2)},fromPathSync:function(t2,e2){return new Oe(t2,e2)}},we={arrayToString:d,stringToCharArray:function(t2){let e2=new Uint16Array(t2.length);for(let n2=0;n2<t2.length;n2++)e2[n2]=t2.charCodeAt(n2);return e2}};class ve{}class Pe extends ve{constructor(t2){super(),this.tokenSource=t2,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t2){}reset(){this.seek(0)}seek(t2){this.lazyInit(),this.index=this.adjustSeekIndex(t2)}get size(){return this.tokens.length}get(t2){return this.lazyInit(),this.tokens[t2]}consume(){let t2=!1;if(t2=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!t2&&this.LA(1)===i.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t2){const e2=t2-this.tokens.length+1;return!(e2>0)||this.fetch(e2)>=e2}fetch(t2){if(this.fetchedEOF)return 0;for(let e2=0;e2<t2;e2++){const t3=this.tokenSource.nextToken();if(t3.tokenIndex=this.tokens.length,this.tokens.push(t3),t3.type===i.EOF)return this.fetchedEOF=!0,e2+1}return t2}getTokens(t2,e2,n2){if(n2===void 0&&(n2=null),t2<0||e2<0)return null;this.lazyInit();const s2=[];e2>=this.tokens.length&&(e2=this.tokens.length-1);for(let r2=t2;r2<e2;r2++){const t3=this.tokens[r2];if(t3.type===i.EOF)break;(n2===null||n2.contains(t3.type))&&s2.push(t3)}return s2}LA(t2){return this.LT(t2).type}LB(t2){return this.index-t2<0?null:this.tokens[this.index-t2]}LT(t2){if(this.lazyInit(),t2===0)return null;if(t2<0)return this.LB(-t2);const e2=this.index+t2-1;return this.sync(e2),e2>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e2]}adjustSeekIndex(t2){return t2}lazyInit(){this.index===-1&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t2){this.tokenSource=t2,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(t2,e2){if(this.sync(t2),t2>=this.tokens.length)return-1;let n2=this.tokens[t2];for(;n2.channel!==e2;){if(n2.type===i.EOF)return-1;t2+=1,this.sync(t2),n2=this.tokens[t2]}return t2}previousTokenOnChannel(t2,e2){for(;t2>=0&&this.tokens[t2].channel!==e2;)t2-=1;return t2}getHiddenTokensToRight(t2,e2){if(e2===void 0&&(e2=-1),this.lazyInit(),t2<0||t2>=this.tokens.length)throw t2+" not in 0.."+this.tokens.length-1;const n2=this.nextTokenOnChannel(t2+1,Ut.DEFAULT_TOKEN_CHANNEL),s2=t2+1,i2=n2===-1?this.tokens.length-1:n2;return this.filterForChannel(s2,i2,e2)}getHiddenTokensToLeft(t2,e2){if(e2===void 0&&(e2=-1),this.lazyInit(),t2<0||t2>=this.tokens.length)throw t2+" not in 0.."+this.tokens.length-1;const n2=this.previousTokenOnChannel(t2-1,Ut.DEFAULT_TOKEN_CHANNEL);if(n2===t2-1)return null;const s2=n2+1,i2=t2-1;return this.filterForChannel(s2,i2,e2)}filterForChannel(t2,e2,n2){const s2=[];for(let i2=t2;i2<e2+1;i2++){const t3=this.tokens[i2];n2===-1?t3.channel!==Ut.DEFAULT_TOKEN_CHANNEL&&s2.push(t3):t3.channel===n2&&s2.push(t3)}return s2.length===0?null:s2}getSourceName(){return this.tokenSource.getSourceName()}getText(t2){this.lazyInit(),this.fill(),t2||(t2=new E(0,this.tokens.length-1));let e2=t2.start;e2 instanceof i&&(e2=e2.tokenIndex);let n2=t2.stop;if(n2 instanceof i&&(n2=n2.tokenIndex),e2===null||n2===null||e2<0||n2<0)return"";n2>=this.tokens.length&&(n2=this.tokens.length-1);let s2="";for(let t3=e2;t3<n2+1;t3++){const e3=this.tokens[t3];if(e3.type===i.EOF)break;s2+=e3.text}return s2}fill(){for(this.lazyInit();this.fetch(1e3)===1e3;);}}Object.defineProperty(Pe,"size",{get:function(){return this.tokens.length}});class be extends Pe{constructor(t2,e2){super(t2),this.channel=e2===void 0?i.DEFAULT_CHANNEL:e2}adjustSeekIndex(t2){return this.nextTokenOnChannel(t2,this.channel)}LB(t2){if(t2===0||this.index-t2<0)return null;let e2=this.index,n2=1;for(;n2<=t2;)e2=this.previousTokenOnChannel(e2-1,this.channel),n2+=1;return e2<0?null:this.tokens[e2]}LT(t2){if(this.lazyInit(),t2===0)return null;if(t2<0)return this.LB(-t2);let e2=this.index,n2=1;for(;n2<t2;)this.sync(e2+1)&&(e2=this.nextTokenOnChannel(e2+1,this.channel)),n2+=1;return this.tokens[e2]}getNumberOfOnChannelTokens(){let t2=0;this.fill();for(let e2=0;e2<this.tokens.length;e2++){const n2=this.tokens[e2];if(n2.channel===this.channel&&(t2+=1),n2.type===i.EOF)break}return t2}}class De extends de{constructor(t2){super(),this.parser=t2}enterEveryRule(t2){console.log("enter   "+this.parser.ruleNames[t2.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t2){console.log("consume "+t2.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t2){console.log("exit    "+this.parser.ruleNames[t2.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class Fe extends vt{constructor(t2){super(),this._input=null,this._errHandler=new Ce,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t2)}reset(){this._input!==null&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),this._interp!==null&&this._interp.reset()}match(t2){let e2=this.getCurrentToken();return e2.type===t2?(this._errHandler.reportMatch(this),this.consume()):(e2=this._errHandler.recoverInline(this),this.buildParseTrees&&e2.tokenIndex===-1&&this._ctx.addErrorNode(e2)),e2}matchWildcard(){let t2=this.getCurrentToken();return t2.type>0?(this._errHandler.reportMatch(this),this.consume()):(t2=this._errHandler.recoverInline(this),this.buildParseTrees&&t2.tokenIndex===-1&&this._ctx.addErrorNode(t2)),t2}getParseListeners(){return this._parseListeners||[]}addParseListener(t2){if(t2===null)throw"listener";this._parseListeners===null&&(this._parseListeners=[]),this._parseListeners.push(t2)}removeParseListener(t2){if(this._parseListeners!==null){const e2=this._parseListeners.indexOf(t2);e2>=0&&this._parseListeners.splice(e2,1),this._parseListeners.length===0&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(this._parseListeners!==null){const t2=this._ctx;this._parseListeners.forEach(function(e2){e2.enterEveryRule(t2),t2.enterRule(e2)})}}triggerExitRuleEvent(){if(this._parseListeners!==null){const t2=this._ctx;this._parseListeners.slice(0).reverse().forEach(function(e2){t2.exitRule(e2),e2.exitEveryRule(t2)})}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t2){this._input.tokenSource._factory=t2}getATNWithBypassAlts(){const t2=this.getSerializedATN();if(t2===null)throw"The current parser does not support an ATN with bypass alternatives.";let e2=this.bypassAltsAtnCache[t2];if(e2===null){const n2=new Tt;n2.generateRuleBypassTransitions=!0,e2=new Lt(n2).deserialize(t2),this.bypassAltsAtnCache[t2]=e2}return e2}getInputStream(){return this.getTokenStream()}setInputStream(t2){this.setTokenStream(t2)}getTokenStream(){return this._input}setTokenStream(t2){this._input=null,this.reset(),this._input=t2}get syntaxErrorsCount(){return this._syntaxErrors}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t2,e2,n2){n2=n2||null,(e2=e2||null)===null&&(e2=this.getCurrentToken()),this._syntaxErrors+=1;const s2=e2.line,i2=e2.column;this.getErrorListener().syntaxError(this,e2,s2,i2,t2,n2)}consume(){const t2=this.getCurrentToken();t2.type!==i.EOF&&this.getInputStream().consume();const e2=this._parseListeners!==null&&this._parseListeners.length>0;if(this.buildParseTrees||e2){let n2;n2=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t2):this._ctx.addTokenNode(t2),n2.invokingState=this.state,e2&&this._parseListeners.forEach(function(t3){n2 instanceof D||n2.isErrorNode!==void 0&&n2.isErrorNode()?t3.visitErrorNode(n2):n2 instanceof b&&t3.visitTerminal(n2)})}return t2}addContextToParseTree(){this._ctx.parentCtx!==null&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t2,e2,n2){this.state=e2,this._ctx=t2,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t2,e2){t2.setAltNumber(e2),this.buildParseTrees&&this._ctx!==t2&&this._ctx.parentCtx!==null&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t2)),this._ctx=t2}getPrecedence(){return this._precedenceStack.length===0?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t2,e2,n2,s2){this.state=e2,this._precedenceStack.push(s2),this._ctx=t2,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t2,e2,n2){const s2=this._ctx;s2.parentCtx=t2,s2.invokingState=e2,s2.stop=this._input.LT(-1),this._ctx=t2,this._ctx.start=s2.start,this.buildParseTrees&&this._ctx.addChild(s2),this.triggerEnterRuleEvent()}unrollRecursionContexts(t2){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e2=this._ctx,n2=this.getParseListeners();if(n2!==null&&n2.length>0)for(;this._ctx!==t2;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t2;e2.parentCtx=t2,this.buildParseTrees&&t2!==null&&t2.addChild(e2)}getInvokingContext(t2){let e2=this._ctx;for(;e2!==null;){if(e2.ruleIndex===t2)return e2;e2=e2.parentCtx}return null}precpred(t2,e2){return e2>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t2){return!1}isExpectedToken(t2){const e2=this._interp.atn;let n2=this._ctx;const s2=e2.states[this.state];let r2=e2.nextTokens(s2);if(r2.contains(t2))return!0;if(!r2.contains(i.EPSILON))return!1;for(;n2!==null&&n2.invokingState>=0&&r2.contains(i.EPSILON);){const s3=e2.states[n2.invokingState].transitions[0];if(r2=e2.nextTokens(s3.followState),r2.contains(t2))return!0;n2=n2.parentCtx}return!(!r2.contains(i.EPSILON)||t2!==i.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t2=this._interp.atn,e2=t2.states[this.state];return t2.nextTokens(e2)}getRuleIndex(t2){const e2=this.getRuleIndexMap()[t2];return e2!==null?e2:-1}getRuleInvocationStack(t2){(t2=t2||null)===null&&(t2=this._ctx);const e2=[];for(;t2!==null;){const n2=t2.ruleIndex;n2<0?e2.push("n/a"):e2.push(this.ruleNames[n2]),t2=t2.parentCtx}return e2}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t2=!1;for(let e2=0;e2<this._interp.decisionToDFA.length;e2++){const n2=this._interp.decisionToDFA[e2];n2.states.length>0&&(t2&&console.log(),this.printer.println("Decision "+n2.decision+":"),this.printer.print(n2.toString(this.literalNames,this.symbolicNames)),t2=!0)}}getSourceName(){return this._input.getSourceName()}setTrace(t2){t2?(this._tracer!==null&&this.removeParseListener(this._tracer),this._tracer=new De(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}Fe.bypassAltsAtnCache={};class Me extends b{constructor(t2){super(),this.parentCtx=null,this.symbol=t2}getChild(t2){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(this.symbol===null)return E.INVALID_INTERVAL;const t2=this.symbol.tokenIndex;return new E(t2,t2)}getChildCount(){return 0}accept(t2){return t2.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===i.EOF?"<EOF>":this.symbol.text}}class Ue extends Me{constructor(t2){super(t2)}isErrorNode(){return!0}accept(t2){return t2.visitErrorNode(this)}}class Be extends U{constructor(t2,e2){super(t2,e2),this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t2){this.parentCtx=t2.parentCtx,this.invokingState=t2.invokingState,this.children=null,this.start=t2.start,this.stop=t2.stop,t2.children&&(this.children=[],t2.children.map(function(t3){t3 instanceof Ue&&(this.children.push(t3),t3.parentCtx=this)},this))}enterRule(t2){}exitRule(t2){}addChild(t2){return this.children===null&&(this.children=[]),this.children.push(t2),t2}removeLastChild(){this.children!==null&&this.children.pop()}addTokenNode(t2){const e2=new Me(t2);return this.addChild(e2),e2.parentCtx=this,e2}addErrorNode(t2){const e2=new Ue(t2);return this.addChild(e2),e2.parentCtx=this,e2}getChild(t2,e2){if(e2=e2||null,this.children===null||t2<0||t2>=this.children.length)return null;if(e2===null)return this.children[t2];for(let n2=0;n2<this.children.length;n2++){const s2=this.children[n2];if(s2 instanceof e2){if(t2===0)return s2;t2-=1}}return null}getToken(t2,e2){if(this.children===null||e2<0||e2>=this.children.length)return null;for(let n2=0;n2<this.children.length;n2++){const s2=this.children[n2];if(s2 instanceof b&&s2.symbol.type===t2){if(e2===0)return s2;e2-=1}}return null}getTokens(t2){if(this.children===null)return[];{const e2=[];for(let n2=0;n2<this.children.length;n2++){const s2=this.children[n2];s2 instanceof b&&s2.symbol.type===t2&&e2.push(s2)}return e2}}getTypedRuleContext(t2,e2){return this.getChild(e2,t2)}getTypedRuleContexts(t2){if(this.children===null)return[];{const e2=[];for(let n2=0;n2<this.children.length;n2++){const s2=this.children[n2];s2 instanceof t2&&e2.push(s2)}return e2}}getChildCount(){return this.children===null?0:this.children.length}getSourceInterval(){return this.start===null||this.stop===null?E.INVALID_INTERVAL:new E(this.start.tokenIndex,this.stop.tokenIndex)}}U.EMPTY=new Be;class ze{static DEFAULT_PROGRAM_NAME="default";constructor(t2){this.tokens=t2,this.programs=new Map}getTokenStream(){return this.tokens}insertAfter(t2,e2){let n2,s2=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ze.DEFAULT_PROGRAM_NAME;n2=typeof t2=="number"?t2:t2.tokenIndex;let i2=this.getProgram(s2),r2=new He(this.tokens,n2,i2.length,e2);i2.push(r2)}insertBefore(t2,e2){let n2,s2=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ze.DEFAULT_PROGRAM_NAME;n2=typeof t2=="number"?t2:t2.tokenIndex;const i2=this.getProgram(s2),r2=new qe(this.tokens,n2,i2.length,e2);i2.push(r2)}replaceSingle(t2,e2){let n2=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ze.DEFAULT_PROGRAM_NAME;this.replace(t2,t2,e2,n2)}replace(t2,e2,n2){let s2=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ze.DEFAULT_PROGRAM_NAME;if(typeof t2!="number"&&(t2=t2.tokenIndex),typeof e2!="number"&&(e2=e2.tokenIndex),t2>e2||t2<0||e2<0||e2>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t2}..${e2}(size=${this.tokens.size})`);let i2=this.getProgram(s2),r2=new Ke(this.tokens,t2,e2,i2.length,n2);i2.push(r2)}delete(t2,e2){let n2=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ze.DEFAULT_PROGRAM_NAME;e2===void 0&&(e2=t2),this.replace(t2,e2,null,n2)}getProgram(t2){let e2=this.programs.get(t2);return e2==null&&(e2=this.initializeProgram(t2)),e2}initializeProgram(t2){const e2=[];return this.programs.set(t2,e2),e2}getText(t2){let e2,n2=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ze.DEFAULT_PROGRAM_NAME;e2=t2 instanceof E?t2:new E(0,this.tokens.size-1),typeof t2=="string"&&(n2=t2);const s2=this.programs.get(n2);let r2=e2.start,o2=e2.stop;if(o2>this.tokens.size-1&&(o2=this.tokens.size-1),r2<0&&(r2=0),s2==null||s2.length===0)return this.tokens.getText(new E(r2,o2));let a2=[],l2=this.reduceToSingleOperationPerIndex(s2),h2=r2;for(;h2<=o2&&h2<this.tokens.size;){let t3=l2.get(h2);l2.delete(h2);let e3=this.tokens.get(h2);t3==null?(e3.type!==i.EOF&&a2.push(String(e3.text)),h2++):h2=t3.execute(a2)}if(o2===this.tokens.size-1)for(const t3 of l2.values())t3.index>=this.tokens.size-1&&a2.push(t3.text.toString());return a2.join("")}reduceToSingleOperationPerIndex(t2){for(let e3=0;e3<t2.length;e3++){let n2=t2[e3];if(n2==null||!(n2 instanceof Ke))continue;let s2=n2,i2=this.getKindOfOps(t2,qe,e3);for(let e4 of i2)e4.index===s2.index?(t2[e4.instructionIndex]=void 0,s2.text=e4.text.toString()+(s2.text!=null?s2.text.toString():"")):e4.index>s2.index&&e4.index<=s2.lastIndex&&(t2[e4.instructionIndex]=void 0);let r2=this.getKindOfOps(t2,Ke,e3);for(let e4 of r2){if(e4.index>=s2.index&&e4.lastIndex<=s2.lastIndex){t2[e4.instructionIndex]=void 0;continue}let n3=e4.lastIndex<s2.index||e4.index>s2.lastIndex;if(e4.text!=null||s2.text!=null||n3){if(!n3)throw new Error(`replace op boundaries of ${s2} overlap with previous ${e4}`)}else t2[e4.instructionIndex]=void 0,s2.index=Math.min(e4.index,s2.index),s2.lastIndex=Math.max(e4.lastIndex,s2.lastIndex)}}for(let e3=0;e3<t2.length;e3++){let n2=t2[e3];if(n2==null||!(n2 instanceof qe))continue;let s2=n2,i2=this.getKindOfOps(t2,qe,e3);for(let e4 of i2)e4.index===s2.index&&(e4 instanceof He?(s2.text=this.catOpText(e4.text,s2.text),t2[e4.instructionIndex]=void 0):e4 instanceof qe&&(s2.text=this.catOpText(s2.text,e4.text),t2[e4.instructionIndex]=void 0));let r2=this.getKindOfOps(t2,Ke,e3);for(let n3 of r2)if(s2.index!==n3.index){if(s2.index>=n3.index&&s2.index<=n3.lastIndex)throw new Error(`insert op ${s2} within boundaries of previous ${n3}`)}else n3.text=this.catOpText(s2.text,n3.text),t2[e3]=void 0}let e2=new Map;for(let n2 of t2)if(n2!=null){if(e2.get(n2.index)!=null)throw new Error("should only be one op per index");e2.set(n2.index,n2)}return e2}catOpText(t2,e2){let n2="",s2="";return t2!=null&&(n2=t2.toString()),e2!=null&&(s2=e2.toString()),n2+s2}getKindOfOps(t2,e2,n2){return t2.slice(0,n2).filter(t3=>t3&&t3 instanceof e2)}}class Ve{constructor(t2,e2,n2,s2){this.tokens=t2,this.instructionIndex=n2,this.index=e2,this.text=s2===void 0?"":s2}toString(){let t2=this.constructor.name;const e2=t2.indexOf("$");return t2=t2.substring(e2+1,t2.length),"<"+t2+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}class qe extends Ve{constructor(t2,e2,n2,s2){super(t2,e2,n2,s2)}execute(t2){return this.text&&t2.push(this.text.toString()),this.tokens.get(this.index).type!==i.EOF&&t2.push(String(this.tokens.get(this.index).text)),this.index+1}}class He extends qe{constructor(t2,e2,n2,s2){super(t2,e2+1,n2,s2)}}class Ke extends Ve{constructor(t2,e2,n2,s2,i2){super(t2,e2,s2,i2),this.lastIndex=n2}execute(t2){return this.text&&t2.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}const Ye={atn:re,dfa:he,context:ce,misc:ue,tree:fe,error:Ne,Token:i,CommonToken:Pt,CharStreams:Re,CharStream:ke,InputStream:Ie,CommonTokenStream:be,Lexer:Ut,Parser:Fe,ParserRuleContext:Be,Interval:E,IntervalSet:_,LL1Analyzer:j,Utils:we,TokenStreamRewriter:ze};var Ge=s.MG,We=s.fr;s.sR;s.Zo;var Xe=s.iH;s.rt;var Ze=s.jB,Qe=s.M8;s.$t;s.aq;s.pG;var sn=s.eP;s.KU;s.zW;var an=s.IX;s.mY;s.a7;var cn=s.JG,un=s.ay,dn=s.X2;s.WU;var pn=s.Uw;s.gw;var xn=s.iX,Tn=s.re,Sn=s.Pg,mn=s.tD;s.R$;var _n=s.Dj;s.m7;s.NZ;s.xo;var kn=s.ou;s.qC;s.mD;s.Ay;class ProcessingLexer extends cn{static T__0=1;static HexColorLiteral=2;static WS=3;static COMMENT=4;static LINE_COMMENT=5;static CHAR_LITERAL=6;static ABSTRACT=7;static ASSERT=8;static BOOLEAN=9;static BREAK=10;static BYTE=11;static CASE=12;static CATCH=13;static CHAR=14;static CLASS=15;static CONST=16;static CONTINUE=17;static DEFAULT=18;static DO=19;static DOUBLE=20;static ELSE=21;static ENUM=22;static EXTENDS=23;static FINAL=24;static FINALLY=25;static FLOAT=26;static FOR=27;static IF=28;static GOTO=29;static IMPLEMENTS=30;static IMPORT=31;static INSTANCEOF=32;static INT=33;static INTERFACE=34;static LONG=35;static NATIVE=36;static NEW=37;static PACKAGE=38;static PRIVATE=39;static PROTECTED=40;static PUBLIC=41;static RETURN=42;static SHORT=43;static STATIC=44;static STRICTFP=45;static SUPER=46;static SWITCH=47;static SYNCHRONIZED=48;static THIS=49;static THROW=50;static THROWS=51;static TRANSIENT=52;static TRY=53;static VAR=54;static VOID=55;static VOLATILE=56;static WHILE=57;static DECIMAL_LITERAL=58;static HEX_LITERAL=59;static OCT_LITERAL=60;static BINARY_LITERAL=61;static FLOAT_LITERAL=62;static HEX_FLOAT_LITERAL=63;static BOOL_LITERAL=64;static STRING_LITERAL=65;static MULTI_STRING_LIT=66;static NULL_LITERAL=67;static LPAREN=68;static RPAREN=69;static LBRACE=70;static RBRACE=71;static LBRACK=72;static RBRACK=73;static SEMI=74;static COMMA=75;static DOT=76;static ASSIGN=77;static GT=78;static LT=79;static BANG=80;static TILDE=81;static QUESTION=82;static COLON=83;static EQUAL=84;static LE=85;static GE=86;static NOTEQUAL=87;static AND=88;static OR=89;static INC=90;static DEC=91;static ADD=92;static SUB=93;static MUL=94;static DIV=95;static BITAND=96;static BITOR=97;static CARET=98;static MOD=99;static ADD_ASSIGN=100;static SUB_ASSIGN=101;static MUL_ASSIGN=102;static DIV_ASSIGN=103;static AND_ASSIGN=104;static OR_ASSIGN=105;static XOR_ASSIGN=106;static MOD_ASSIGN=107;static LSHIFT_ASSIGN=108;static RSHIFT_ASSIGN=109;static URSHIFT_ASSIGN=110;static ARROW=111;static COLONCOLON=112;static AT=113;static ELLIPSIS=114;static IDENTIFIER=115;static EOF=kn.EOF;static channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];static literalNames=[null,"'color'",null,null,null,null,null,"'abstract'","'assert'","'boolean'","'break'","'byte'","'case'","'catch'","'char'","'class'","'const'","'continue'","'default'","'do'","'double'","'else'","'enum'","'extends'","'final'","'finally'","'float'","'for'","'if'","'goto'","'implements'","'import'","'instanceof'","'int'","'interface'","'long'","'native'","'new'","'package'","'private'","'protected'","'public'","'return'","'short'","'static'","'strictfp'","'super'","'switch'","'synchronized'","'this'","'throw'","'throws'","'transient'","'try'","'var'","'void'","'volatile'","'while'",null,null,null,null,null,null,null,null,null,"'null'","'('","')'","'{'","'}'","'['","']'","';'","','","'.'","'='","'>'","'<'","'!'","'~'","'?'","':'","'=='","'<='","'>='","'!='","'&&'","'||'","'++'","'--'","'+'","'-'","'*'","'/'","'&'","'|'","'^'","'%'","'+='","'-='","'*='","'/='","'&='","'|='","'^='","'%='","'<<='","'>>='","'>>>='","'->'","'::'","'@'","'...'"];static symbolicNames=[null,null,"HexColorLiteral","WS","COMMENT","LINE_COMMENT","CHAR_LITERAL","ABSTRACT","ASSERT","BOOLEAN","BREAK","BYTE","CASE","CATCH","CHAR","CLASS","CONST","CONTINUE","DEFAULT","DO","DOUBLE","ELSE","ENUM","EXTENDS","FINAL","FINALLY","FLOAT","FOR","IF","GOTO","IMPLEMENTS","IMPORT","INSTANCEOF","INT","INTERFACE","LONG","NATIVE","NEW","PACKAGE","PRIVATE","PROTECTED","PUBLIC","RETURN","SHORT","STATIC","STRICTFP","SUPER","SWITCH","SYNCHRONIZED","THIS","THROW","THROWS","TRANSIENT","TRY","VAR","VOID","VOLATILE","WHILE","DECIMAL_LITERAL","HEX_LITERAL","OCT_LITERAL","BINARY_LITERAL","FLOAT_LITERAL","HEX_FLOAT_LITERAL","BOOL_LITERAL","STRING_LITERAL","MULTI_STRING_LIT","NULL_LITERAL","LPAREN","RPAREN","LBRACE","RBRACE","LBRACK","RBRACK","SEMI","COMMA","DOT","ASSIGN","GT","LT","BANG","TILDE","QUESTION","COLON","EQUAL","LE","GE","NOTEQUAL","AND","OR","INC","DEC","ADD","SUB","MUL","DIV","BITAND","BITOR","CARET","MOD","ADD_ASSIGN","SUB_ASSIGN","MUL_ASSIGN","DIV_ASSIGN","AND_ASSIGN","OR_ASSIGN","XOR_ASSIGN","MOD_ASSIGN","LSHIFT_ASSIGN","RSHIFT_ASSIGN","URSHIFT_ASSIGN","ARROW","COLONCOLON","AT","ELLIPSIS","IDENTIFIER"];static modeNames=["DEFAULT_MODE"];static ruleNames=["T__0","HexColorLiteral","WS","COMMENT","LINE_COMMENT","CHAR_LITERAL","ABSTRACT","ASSERT","BOOLEAN","BREAK","BYTE","CASE","CATCH","CHAR","CLASS","CONST","CONTINUE","DEFAULT","DO","DOUBLE","ELSE","ENUM","EXTENDS","FINAL","FINALLY","FLOAT","FOR","IF","GOTO","IMPLEMENTS","IMPORT","INSTANCEOF","INT","INTERFACE","LONG","NATIVE","NEW","PACKAGE","PRIVATE","PROTECTED","PUBLIC","RETURN","SHORT","STATIC","STRICTFP","SUPER","SWITCH","SYNCHRONIZED","THIS","THROW","THROWS","TRANSIENT","TRY","VAR","VOID","VOLATILE","WHILE","DECIMAL_LITERAL","HEX_LITERAL","OCT_LITERAL","BINARY_LITERAL","FLOAT_LITERAL","HEX_FLOAT_LITERAL","BOOL_LITERAL","STRING_LITERAL","MULTI_STRING_LIT","NULL_LITERAL","LPAREN","RPAREN","LBRACE","RBRACE","LBRACK","RBRACK","SEMI","COMMA","DOT","ASSIGN","GT","LT","BANG","TILDE","QUESTION","COLON","EQUAL","LE","GE","NOTEQUAL","AND","OR","INC","DEC","ADD","SUB","MUL","DIV","BITAND","BITOR","CARET","MOD","ADD_ASSIGN","SUB_ASSIGN","MUL_ASSIGN","DIV_ASSIGN","AND_ASSIGN","OR_ASSIGN","XOR_ASSIGN","MOD_ASSIGN","LSHIFT_ASSIGN","RSHIFT_ASSIGN","URSHIFT_ASSIGN","ARROW","COLONCOLON","AT","ELLIPSIS","IDENTIFIER","ExponentPart","EscapeSequence","HexDigits","HexDigit","Digits","LetterOrDigit","Letter"];WHITESPACE=1;COMMENTS=2;constructor(input){super(input),this._interp=new un(this,ProcessingLexer._ATN,ProcessingLexer.DecisionsToDFA,new mn)}get grammarFileName(){return"Processing.g4"}get literalNames(){return ProcessingLexer.literalNames}get symbolicNames(){return ProcessingLexer.symbolicNames}get ruleNames(){return ProcessingLexer.ruleNames}get serializedATN(){return ProcessingLexer._serializedATN}get channelNames(){return ProcessingLexer.channelNames}get modeNames(){return ProcessingLexer.modeNames}static _serializedATN=[4,0,115,994,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,2,57,7,57,2,58,7,58,2,59,7,59,2,60,7,60,2,61,7,61,2,62,7,62,2,63,7,63,2,64,7,64,2,65,7,65,2,66,7,66,2,67,7,67,2,68,7,68,2,69,7,69,2,70,7,70,2,71,7,71,2,72,7,72,2,73,7,73,2,74,7,74,2,75,7,75,2,76,7,76,2,77,7,77,2,78,7,78,2,79,7,79,2,80,7,80,2,81,7,81,2,82,7,82,2,83,7,83,2,84,7,84,2,85,7,85,2,86,7,86,2,87,7,87,2,88,7,88,2,89,7,89,2,90,7,90,2,91,7,91,2,92,7,92,2,93,7,93,2,94,7,94,2,95,7,95,2,96,7,96,2,97,7,97,2,98,7,98,2,99,7,99,2,100,7,100,2,101,7,101,2,102,7,102,2,103,7,103,2,104,7,104,2,105,7,105,2,106,7,106,2,107,7,107,2,108,7,108,2,109,7,109,2,110,7,110,2,111,7,111,2,112,7,112,2,113,7,113,2,114,7,114,2,115,7,115,2,116,7,116,2,117,7,117,2,118,7,118,2,119,7,119,2,120,7,120,2,121,7,121,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,3,1,256,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4,2,266,8,2,11,2,12,2,267,1,2,1,2,1,3,1,3,1,3,1,3,5,3,276,8,3,10,3,12,3,279,9,3,1,3,1,3,1,3,1,3,1,3,1,4,1,4,1,4,1,4,5,4,290,8,4,10,4,12,4,293,9,4,1,4,1,4,1,5,1,5,1,5,5,5,300,8,5,10,5,12,5,303,9,5,1,5,1,5,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,8,1,8,1,8,1,8,1,8,1,8,1,8,1,8,1,9,1,9,1,9,1,9,1,9,1,9,1,10,1,10,1,10,1,10,1,10,1,11,1,11,1,11,1,11,1,11,1,12,1,12,1,12,1,12,1,12,1,12,1,13,1,13,1,13,1,13,1,13,1,14,1,14,1,14,1,14,1,14,1,14,1,15,1,15,1,15,1,15,1,15,1,15,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,20,1,20,1,20,1,20,1,20,1,21,1,21,1,21,1,21,1,21,1,22,1,22,1,22,1,22,1,22,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,23,1,23,1,24,1,24,1,24,1,24,1,24,1,24,1,24,1,24,1,25,1,25,1,25,1,25,1,25,1,25,1,26,1,26,1,26,1,26,1,27,1,27,1,27,1,28,1,28,1,28,1,28,1,28,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,32,1,32,1,32,1,32,1,33,1,33,1,33,1,33,1,33,1,33,1,33,1,33,1,33,1,33,1,34,1,34,1,34,1,34,1,34,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,36,1,36,1,36,1,36,1,37,1,37,1,37,1,37,1,37,1,37,1,37,1,37,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,39,1,39,1,39,1,39,1,39,1,39,1,39,1,39,1,39,1,39,1,40,1,40,1,40,1,40,1,40,1,40,1,40,1,41,1,41,1,41,1,41,1,41,1,41,1,41,1,42,1,42,1,42,1,42,1,42,1,42,1,43,1,43,1,43,1,43,1,43,1,43,1,43,1,44,1,44,1,44,1,44,1,44,1,44,1,44,1,44,1,44,1,45,1,45,1,45,1,45,1,45,1,45,1,46,1,46,1,46,1,46,1,46,1,46,1,46,1,47,1,47,1,47,1,47,1,47,1,47,1,47,1,47,1,47,1,47,1,47,1,47,1,47,1,48,1,48,1,48,1,48,1,48,1,49,1,49,1,49,1,49,1,49,1,49,1,50,1,50,1,50,1,50,1,50,1,50,1,50,1,51,1,51,1,51,1,51,1,51,1,51,1,51,1,51,1,51,1,51,1,52,1,52,1,52,1,52,1,53,1,53,1,53,1,53,1,54,1,54,1,54,1,54,1,54,1,55,1,55,1,55,1,55,1,55,1,55,1,55,1,55,1,55,1,56,1,56,1,56,1,56,1,56,1,56,1,57,1,57,1,57,3,57,653,8,57,1,57,4,57,656,8,57,11,57,12,57,657,1,57,3,57,661,8,57,3,57,663,8,57,1,57,3,57,666,8,57,1,58,1,58,1,58,1,58,5,58,672,8,58,10,58,12,58,675,9,58,1,58,3,58,678,8,58,1,58,3,58,681,8,58,1,59,1,59,5,59,685,8,59,10,59,12,59,688,9,59,1,59,1,59,5,59,692,8,59,10,59,12,59,695,9,59,1,59,3,59,698,8,59,1,59,3,59,701,8,59,1,60,1,60,1,60,1,60,5,60,707,8,60,10,60,12,60,710,9,60,1,60,3,60,713,8,60,1,60,3,60,716,8,60,1,61,1,61,1,61,3,61,721,8,61,1,61,1,61,3,61,725,8,61,1,61,3,61,728,8,61,1,61,3,61,731,8,61,1,61,1,61,1,61,3,61,736,8,61,1,61,3,61,739,8,61,3,61,741,8,61,1,62,1,62,1,62,1,62,3,62,747,8,62,1,62,3,62,750,8,62,1,62,1,62,3,62,754,8,62,1,62,1,62,3,62,758,8,62,1,62,1,62,3,62,762,8,62,1,63,1,63,1,63,1,63,1,63,1,63,1,63,1,63,1,63,3,63,773,8,63,1,64,1,64,1,64,5,64,778,8,64,10,64,12,64,781,9,64,1,64,1,64,1,65,1,65,1,65,1,65,1,65,1,65,5,65,791,8,65,10,65,12,65,794,9,65,1,65,1,65,1,65,1,65,1,66,1,66,1,66,1,66,1,66,1,67,1,67,1,68,1,68,1,69,1,69,1,70,1,70,1,71,1,71,1,72,1,72,1,73,1,73,1,74,1,74,1,75,1,75,1,76,1,76,1,77,1,77,1,78,1,78,1,79,1,79,1,80,1,80,1,81,1,81,1,82,1,82,1,83,1,83,1,83,1,84,1,84,1,84,1,85,1,85,1,85,1,86,1,86,1,86,1,87,1,87,1,87,1,88,1,88,1,88,1,89,1,89,1,89,1,90,1,90,1,90,1,91,1,91,1,92,1,92,1,93,1,93,1,94,1,94,1,95,1,95,1,96,1,96,1,97,1,97,1,98,1,98,1,99,1,99,1,99,1,100,1,100,1,100,1,101,1,101,1,101,1,102,1,102,1,102,1,103,1,103,1,103,1,104,1,104,1,104,1,105,1,105,1,105,1,106,1,106,1,106,1,107,1,107,1,107,1,107,1,108,1,108,1,108,1,108,1,109,1,109,1,109,1,109,1,109,1,110,1,110,1,110,1,111,1,111,1,111,1,112,1,112,1,113,1,113,1,113,1,113,1,114,1,114,5,114,928,8,114,10,114,12,114,931,9,114,1,115,1,115,3,115,935,8,115,1,115,1,115,1,116,1,116,1,116,1,116,3,116,943,8,116,1,116,3,116,946,8,116,1,116,1,116,1,116,4,116,951,8,116,11,116,12,116,952,1,116,1,116,1,116,1,116,1,116,3,116,960,8,116,1,117,1,117,1,117,5,117,965,8,117,10,117,12,117,968,9,117,1,117,3,117,971,8,117,1,118,1,118,1,119,1,119,5,119,977,8,119,10,119,12,119,980,9,119,1,119,3,119,983,8,119,1,120,1,120,3,120,987,8,120,1,121,1,121,1,121,1,121,3,121,993,8,121,2,277,792,0,122,1,1,3,2,5,3,7,4,9,5,11,6,13,7,15,8,17,9,19,10,21,11,23,12,25,13,27,14,29,15,31,16,33,17,35,18,37,19,39,20,41,21,43,22,45,23,47,24,49,25,51,26,53,27,55,28,57,29,59,30,61,31,63,32,65,33,67,34,69,35,71,36,73,37,75,38,77,39,79,40,81,41,83,42,85,43,87,44,89,45,91,46,93,47,95,48,97,49,99,50,101,51,103,52,105,53,107,54,109,55,111,56,113,57,115,58,117,59,119,60,121,61,123,62,125,63,127,64,129,65,131,66,133,67,135,68,137,69,139,70,141,71,143,72,145,73,147,74,149,75,151,76,153,77,155,78,157,79,159,80,161,81,163,82,165,83,167,84,169,85,171,86,173,87,175,88,177,89,179,90,181,91,183,92,185,93,187,94,189,95,191,96,193,97,195,98,197,99,199,100,201,101,203,102,205,103,207,104,209,105,211,106,213,107,215,108,217,109,219,110,221,111,223,112,225,113,227,114,229,115,231,0,233,0,235,0,237,0,239,0,241,0,243,0,1,0,27,3,0,9,10,12,13,32,32,2,0,10,10,13,13,4,0,10,10,13,13,39,39,92,92,1,0,49,57,2,0,76,76,108,108,2,0,88,88,120,120,3,0,48,57,65,70,97,102,4,0,48,57,65,70,95,95,97,102,1,0,48,55,2,0,48,55,95,95,2,0,66,66,98,98,1,0,48,49,2,0,48,49,95,95,4,0,68,68,70,70,100,100,102,102,2,0,80,80,112,112,2,0,43,43,45,45,4,0,10,10,13,13,34,34,92,92,1,0,92,92,2,0,69,69,101,101,8,0,34,34,39,39,92,92,98,98,102,102,110,110,114,114,116,116,1,0,48,51,1,0,48,57,2,0,48,57,95,95,4,0,36,36,65,90,95,95,97,122,2,0,0,127,55296,56319,1,0,55296,56319,1,0,56320,57343,1039,0,1,1,0,0,0,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,0,25,1,0,0,0,0,27,1,0,0,0,0,29,1,0,0,0,0,31,1,0,0,0,0,33,1,0,0,0,0,35,1,0,0,0,0,37,1,0,0,0,0,39,1,0,0,0,0,41,1,0,0,0,0,43,1,0,0,0,0,45,1,0,0,0,0,47,1,0,0,0,0,49,1,0,0,0,0,51,1,0,0,0,0,53,1,0,0,0,0,55,1,0,0,0,0,57,1,0,0,0,0,59,1,0,0,0,0,61,1,0,0,0,0,63,1,0,0,0,0,65,1,0,0,0,0,67,1,0,0,0,0,69,1,0,0,0,0,71,1,0,0,0,0,73,1,0,0,0,0,75,1,0,0,0,0,77,1,0,0,0,0,79,1,0,0,0,0,81,1,0,0,0,0,83,1,0,0,0,0,85,1,0,0,0,0,87,1,0,0,0,0,89,1,0,0,0,0,91,1,0,0,0,0,93,1,0,0,0,0,95,1,0,0,0,0,97,1,0,0,0,0,99,1,0,0,0,0,101,1,0,0,0,0,103,1,0,0,0,0,105,1,0,0,0,0,107,1,0,0,0,0,109,1,0,0,0,0,111,1,0,0,0,0,113,1,0,0,0,0,115,1,0,0,0,0,117,1,0,0,0,0,119,1,0,0,0,0,121,1,0,0,0,0,123,1,0,0,0,0,125,1,0,0,0,0,127,1,0,0,0,0,129,1,0,0,0,0,131,1,0,0,0,0,133,1,0,0,0,0,135,1,0,0,0,0,137,1,0,0,0,0,139,1,0,0,0,0,141,1,0,0,0,0,143,1,0,0,0,0,145,1,0,0,0,0,147,1,0,0,0,0,149,1,0,0,0,0,151,1,0,0,0,0,153,1,0,0,0,0,155,1,0,0,0,0,157,1,0,0,0,0,159,1,0,0,0,0,161,1,0,0,0,0,163,1,0,0,0,0,165,1,0,0,0,0,167,1,0,0,0,0,169,1,0,0,0,0,171,1,0,0,0,0,173,1,0,0,0,0,175,1,0,0,0,0,177,1,0,0,0,0,179,1,0,0,0,0,181,1,0,0,0,0,183,1,0,0,0,0,185,1,0,0,0,0,187,1,0,0,0,0,189,1,0,0,0,0,191,1,0,0,0,0,193,1,0,0,0,0,195,1,0,0,0,0,197,1,0,0,0,0,199,1,0,0,0,0,201,1,0,0,0,0,203,1,0,0,0,0,205,1,0,0,0,0,207,1,0,0,0,0,209,1,0,0,0,0,211,1,0,0,0,0,213,1,0,0,0,0,215,1,0,0,0,0,217,1,0,0,0,0,219,1,0,0,0,0,221,1,0,0,0,0,223,1,0,0,0,0,225,1,0,0,0,0,227,1,0,0,0,0,229,1,0,0,0,1,245,1,0,0,0,3,251,1,0,0,0,5,265,1,0,0,0,7,271,1,0,0,0,9,285,1,0,0,0,11,296,1,0,0,0,13,306,1,0,0,0,15,315,1,0,0,0,17,322,1,0,0,0,19,330,1,0,0,0,21,336,1,0,0,0,23,341,1,0,0,0,25,346,1,0,0,0,27,352,1,0,0,0,29,357,1,0,0,0,31,363,1,0,0,0,33,369,1,0,0,0,35,378,1,0,0,0,37,386,1,0,0,0,39,389,1,0,0,0,41,396,1,0,0,0,43,401,1,0,0,0,45,406,1,0,0,0,47,414,1,0,0,0,49,420,1,0,0,0,51,428,1,0,0,0,53,434,1,0,0,0,55,438,1,0,0,0,57,441,1,0,0,0,59,446,1,0,0,0,61,457,1,0,0,0,63,464,1,0,0,0,65,475,1,0,0,0,67,479,1,0,0,0,69,489,1,0,0,0,71,494,1,0,0,0,73,501,1,0,0,0,75,505,1,0,0,0,77,513,1,0,0,0,79,521,1,0,0,0,81,531,1,0,0,0,83,538,1,0,0,0,85,545,1,0,0,0,87,551,1,0,0,0,89,558,1,0,0,0,91,567,1,0,0,0,93,573,1,0,0,0,95,580,1,0,0,0,97,593,1,0,0,0,99,598,1,0,0,0,101,604,1,0,0,0,103,611,1,0,0,0,105,621,1,0,0,0,107,625,1,0,0,0,109,629,1,0,0,0,111,634,1,0,0,0,113,643,1,0,0,0,115,662,1,0,0,0,117,667,1,0,0,0,119,682,1,0,0,0,121,702,1,0,0,0,123,740,1,0,0,0,125,742,1,0,0,0,127,772,1,0,0,0,129,774,1,0,0,0,131,784,1,0,0,0,133,799,1,0,0,0,135,804,1,0,0,0,137,806,1,0,0,0,139,808,1,0,0,0,141,810,1,0,0,0,143,812,1,0,0,0,145,814,1,0,0,0,147,816,1,0,0,0,149,818,1,0,0,0,151,820,1,0,0,0,153,822,1,0,0,0,155,824,1,0,0,0,157,826,1,0,0,0,159,828,1,0,0,0,161,830,1,0,0,0,163,832,1,0,0,0,165,834,1,0,0,0,167,836,1,0,0,0,169,839,1,0,0,0,171,842,1,0,0,0,173,845,1,0,0,0,175,848,1,0,0,0,177,851,1,0,0,0,179,854,1,0,0,0,181,857,1,0,0,0,183,860,1,0,0,0,185,862,1,0,0,0,187,864,1,0,0,0,189,866,1,0,0,0,191,868,1,0,0,0,193,870,1,0,0,0,195,872,1,0,0,0,197,874,1,0,0,0,199,876,1,0,0,0,201,879,1,0,0,0,203,882,1,0,0,0,205,885,1,0,0,0,207,888,1,0,0,0,209,891,1,0,0,0,211,894,1,0,0,0,213,897,1,0,0,0,215,900,1,0,0,0,217,904,1,0,0,0,219,908,1,0,0,0,221,913,1,0,0,0,223,916,1,0,0,0,225,919,1,0,0,0,227,921,1,0,0,0,229,925,1,0,0,0,231,932,1,0,0,0,233,959,1,0,0,0,235,961,1,0,0,0,237,972,1,0,0,0,239,974,1,0,0,0,241,986,1,0,0,0,243,992,1,0,0,0,245,246,5,99,0,0,246,247,5,111,0,0,247,248,5,108,0,0,248,249,5,111,0,0,249,250,5,114,0,0,250,2,1,0,0,0,251,255,5,35,0,0,252,253,3,237,118,0,253,254,3,237,118,0,254,256,1,0,0,0,255,252,1,0,0,0,255,256,1,0,0,0,256,257,1,0,0,0,257,258,3,237,118,0,258,259,3,237,118,0,259,260,3,237,118,0,260,261,3,237,118,0,261,262,3,237,118,0,262,263,3,237,118,0,263,4,1,0,0,0,264,266,7,0,0,0,265,264,1,0,0,0,266,267,1,0,0,0,267,265,1,0,0,0,267,268,1,0,0,0,268,269,1,0,0,0,269,270,6,2,0,0,270,6,1,0,0,0,271,272,5,47,0,0,272,273,5,42,0,0,273,277,1,0,0,0,274,276,9,0,0,0,275,274,1,0,0,0,276,279,1,0,0,0,277,278,1,0,0,0,277,275,1,0,0,0,278,280,1,0,0,0,279,277,1,0,0,0,280,281,5,42,0,0,281,282,5,47,0,0,282,283,1,0,0,0,283,284,6,3,1,0,284,8,1,0,0,0,285,286,5,47,0,0,286,287,5,47,0,0,287,291,1,0,0,0,288,290,8,1,0,0,289,288,1,0,0,0,290,293,1,0,0,0,291,289,1,0,0,0,291,292,1,0,0,0,292,294,1,0,0,0,293,291,1,0,0,0,294,295,6,4,1,0,295,10,1,0,0,0,296,301,5,39,0,0,297,300,8,2,0,0,298,300,3,233,116,0,299,297,1,0,0,0,299,298,1,0,0,0,300,303,1,0,0,0,301,299,1,0,0,0,301,302,1,0,0,0,302,304,1,0,0,0,303,301,1,0,0,0,304,305,5,39,0,0,305,12,1,0,0,0,306,307,5,97,0,0,307,308,5,98,0,0,308,309,5,115,0,0,309,310,5,116,0,0,310,311,5,114,0,0,311,312,5,97,0,0,312,313,5,99,0,0,313,314,5,116,0,0,314,14,1,0,0,0,315,316,5,97,0,0,316,317,5,115,0,0,317,318,5,115,0,0,318,319,5,101,0,0,319,320,5,114,0,0,320,321,5,116,0,0,321,16,1,0,0,0,322,323,5,98,0,0,323,324,5,111,0,0,324,325,5,111,0,0,325,326,5,108,0,0,326,327,5,101,0,0,327,328,5,97,0,0,328,329,5,110,0,0,329,18,1,0,0,0,330,331,5,98,0,0,331,332,5,114,0,0,332,333,5,101,0,0,333,334,5,97,0,0,334,335,5,107,0,0,335,20,1,0,0,0,336,337,5,98,0,0,337,338,5,121,0,0,338,339,5,116,0,0,339,340,5,101,0,0,340,22,1,0,0,0,341,342,5,99,0,0,342,343,5,97,0,0,343,344,5,115,0,0,344,345,5,101,0,0,345,24,1,0,0,0,346,347,5,99,0,0,347,348,5,97,0,0,348,349,5,116,0,0,349,350,5,99,0,0,350,351,5,104,0,0,351,26,1,0,0,0,352,353,5,99,0,0,353,354,5,104,0,0,354,355,5,97,0,0,355,356,5,114,0,0,356,28,1,0,0,0,357,358,5,99,0,0,358,359,5,108,0,0,359,360,5,97,0,0,360,361,5,115,0,0,361,362,5,115,0,0,362,30,1,0,0,0,363,364,5,99,0,0,364,365,5,111,0,0,365,366,5,110,0,0,366,367,5,115,0,0,367,368,5,116,0,0,368,32,1,0,0,0,369,370,5,99,0,0,370,371,5,111,0,0,371,372,5,110,0,0,372,373,5,116,0,0,373,374,5,105,0,0,374,375,5,110,0,0,375,376,5,117,0,0,376,377,5,101,0,0,377,34,1,0,0,0,378,379,5,100,0,0,379,380,5,101,0,0,380,381,5,102,0,0,381,382,5,97,0,0,382,383,5,117,0,0,383,384,5,108,0,0,384,385,5,116,0,0,385,36,1,0,0,0,386,387,5,100,0,0,387,388,5,111,0,0,388,38,1,0,0,0,389,390,5,100,0,0,390,391,5,111,0,0,391,392,5,117,0,0,392,393,5,98,0,0,393,394,5,108,0,0,394,395,5,101,0,0,395,40,1,0,0,0,396,397,5,101,0,0,397,398,5,108,0,0,398,399,5,115,0,0,399,400,5,101,0,0,400,42,1,0,0,0,401,402,5,101,0,0,402,403,5,110,0,0,403,404,5,117,0,0,404,405,5,109,0,0,405,44,1,0,0,0,406,407,5,101,0,0,407,408,5,120,0,0,408,409,5,116,0,0,409,410,5,101,0,0,410,411,5,110,0,0,411,412,5,100,0,0,412,413,5,115,0,0,413,46,1,0,0,0,414,415,5,102,0,0,415,416,5,105,0,0,416,417,5,110,0,0,417,418,5,97,0,0,418,419,5,108,0,0,419,48,1,0,0,0,420,421,5,102,0,0,421,422,5,105,0,0,422,423,5,110,0,0,423,424,5,97,0,0,424,425,5,108,0,0,425,426,5,108,0,0,426,427,5,121,0,0,427,50,1,0,0,0,428,429,5,102,0,0,429,430,5,108,0,0,430,431,5,111,0,0,431,432,5,97,0,0,432,433,5,116,0,0,433,52,1,0,0,0,434,435,5,102,0,0,435,436,5,111,0,0,436,437,5,114,0,0,437,54,1,0,0,0,438,439,5,105,0,0,439,440,5,102,0,0,440,56,1,0,0,0,441,442,5,103,0,0,442,443,5,111,0,0,443,444,5,116,0,0,444,445,5,111,0,0,445,58,1,0,0,0,446,447,5,105,0,0,447,448,5,109,0,0,448,449,5,112,0,0,449,450,5,108,0,0,450,451,5,101,0,0,451,452,5,109,0,0,452,453,5,101,0,0,453,454,5,110,0,0,454,455,5,116,0,0,455,456,5,115,0,0,456,60,1,0,0,0,457,458,5,105,0,0,458,459,5,109,0,0,459,460,5,112,0,0,460,461,5,111,0,0,461,462,5,114,0,0,462,463,5,116,0,0,463,62,1,0,0,0,464,465,5,105,0,0,465,466,5,110,0,0,466,467,5,115,0,0,467,468,5,116,0,0,468,469,5,97,0,0,469,470,5,110,0,0,470,471,5,99,0,0,471,472,5,101,0,0,472,473,5,111,0,0,473,474,5,102,0,0,474,64,1,0,0,0,475,476,5,105,0,0,476,477,5,110,0,0,477,478,5,116,0,0,478,66,1,0,0,0,479,480,5,105,0,0,480,481,5,110,0,0,481,482,5,116,0,0,482,483,5,101,0,0,483,484,5,114,0,0,484,485,5,102,0,0,485,486,5,97,0,0,486,487,5,99,0,0,487,488,5,101,0,0,488,68,1,0,0,0,489,490,5,108,0,0,490,491,5,111,0,0,491,492,5,110,0,0,492,493,5,103,0,0,493,70,1,0,0,0,494,495,5,110,0,0,495,496,5,97,0,0,496,497,5,116,0,0,497,498,5,105,0,0,498,499,5,118,0,0,499,500,5,101,0,0,500,72,1,0,0,0,501,502,5,110,0,0,502,503,5,101,0,0,503,504,5,119,0,0,504,74,1,0,0,0,505,506,5,112,0,0,506,507,5,97,0,0,507,508,5,99,0,0,508,509,5,107,0,0,509,510,5,97,0,0,510,511,5,103,0,0,511,512,5,101,0,0,512,76,1,0,0,0,513,514,5,112,0,0,514,515,5,114,0,0,515,516,5,105,0,0,516,517,5,118,0,0,517,518,5,97,0,0,518,519,5,116,0,0,519,520,5,101,0,0,520,78,1,0,0,0,521,522,5,112,0,0,522,523,5,114,0,0,523,524,5,111,0,0,524,525,5,116,0,0,525,526,5,101,0,0,526,527,5,99,0,0,527,528,5,116,0,0,528,529,5,101,0,0,529,530,5,100,0,0,530,80,1,0,0,0,531,532,5,112,0,0,532,533,5,117,0,0,533,534,5,98,0,0,534,535,5,108,0,0,535,536,5,105,0,0,536,537,5,99,0,0,537,82,1,0,0,0,538,539,5,114,0,0,539,540,5,101,0,0,540,541,5,116,0,0,541,542,5,117,0,0,542,543,5,114,0,0,543,544,5,110,0,0,544,84,1,0,0,0,545,546,5,115,0,0,546,547,5,104,0,0,547,548,5,111,0,0,548,549,5,114,0,0,549,550,5,116,0,0,550,86,1,0,0,0,551,552,5,115,0,0,552,553,5,116,0,0,553,554,5,97,0,0,554,555,5,116,0,0,555,556,5,105,0,0,556,557,5,99,0,0,557,88,1,0,0,0,558,559,5,115,0,0,559,560,5,116,0,0,560,561,5,114,0,0,561,562,5,105,0,0,562,563,5,99,0,0,563,564,5,116,0,0,564,565,5,102,0,0,565,566,5,112,0,0,566,90,1,0,0,0,567,568,5,115,0,0,568,569,5,117,0,0,569,570,5,112,0,0,570,571,5,101,0,0,571,572,5,114,0,0,572,92,1,0,0,0,573,574,5,115,0,0,574,575,5,119,0,0,575,576,5,105,0,0,576,577,5,116,0,0,577,578,5,99,0,0,578,579,5,104,0,0,579,94,1,0,0,0,580,581,5,115,0,0,581,582,5,121,0,0,582,583,5,110,0,0,583,584,5,99,0,0,584,585,5,104,0,0,585,586,5,114,0,0,586,587,5,111,0,0,587,588,5,110,0,0,588,589,5,105,0,0,589,590,5,122,0,0,590,591,5,101,0,0,591,592,5,100,0,0,592,96,1,0,0,0,593,594,5,116,0,0,594,595,5,104,0,0,595,596,5,105,0,0,596,597,5,115,0,0,597,98,1,0,0,0,598,599,5,116,0,0,599,600,5,104,0,0,600,601,5,114,0,0,601,602,5,111,0,0,602,603,5,119,0,0,603,100,1,0,0,0,604,605,5,116,0,0,605,606,5,104,0,0,606,607,5,114,0,0,607,608,5,111,0,0,608,609,5,119,0,0,609,610,5,115,0,0,610,102,1,0,0,0,611,612,5,116,0,0,612,613,5,114,0,0,613,614,5,97,0,0,614,615,5,110,0,0,615,616,5,115,0,0,616,617,5,105,0,0,617,618,5,101,0,0,618,619,5,110,0,0,619,620,5,116,0,0,620,104,1,0,0,0,621,622,5,116,0,0,622,623,5,114,0,0,623,624,5,121,0,0,624,106,1,0,0,0,625,626,5,118,0,0,626,627,5,97,0,0,627,628,5,114,0,0,628,108,1,0,0,0,629,630,5,118,0,0,630,631,5,111,0,0,631,632,5,105,0,0,632,633,5,100,0,0,633,110,1,0,0,0,634,635,5,118,0,0,635,636,5,111,0,0,636,637,5,108,0,0,637,638,5,97,0,0,638,639,5,116,0,0,639,640,5,105,0,0,640,641,5,108,0,0,641,642,5,101,0,0,642,112,1,0,0,0,643,644,5,119,0,0,644,645,5,104,0,0,645,646,5,105,0,0,646,647,5,108,0,0,647,648,5,101,0,0,648,114,1,0,0,0,649,663,5,48,0,0,650,660,7,3,0,0,651,653,3,239,119,0,652,651,1,0,0,0,652,653,1,0,0,0,653,661,1,0,0,0,654,656,5,95,0,0,655,654,1,0,0,0,656,657,1,0,0,0,657,655,1,0,0,0,657,658,1,0,0,0,658,659,1,0,0,0,659,661,3,239,119,0,660,652,1,0,0,0,660,655,1,0,0,0,661,663,1,0,0,0,662,649,1,0,0,0,662,650,1,0,0,0,663,665,1,0,0,0,664,666,7,4,0,0,665,664,1,0,0,0,665,666,1,0,0,0,666,116,1,0,0,0,667,668,5,48,0,0,668,669,7,5,0,0,669,677,7,6,0,0,670,672,7,7,0,0,671,670,1,0,0,0,672,675,1,0,0,0,673,671,1,0,0,0,673,674,1,0,0,0,674,676,1,0,0,0,675,673,1,0,0,0,676,678,7,6,0,0,677,673,1,0,0,0,677,678,1,0,0,0,678,680,1,0,0,0,679,681,7,4,0,0,680,679,1,0,0,0,680,681,1,0,0,0,681,118,1,0,0,0,682,686,5,48,0,0,683,685,5,95,0,0,684,683,1,0,0,0,685,688,1,0,0,0,686,684,1,0,0,0,686,687,1,0,0,0,687,689,1,0,0,0,688,686,1,0,0,0,689,697,7,8,0,0,690,692,7,9,0,0,691,690,1,0,0,0,692,695,1,0,0,0,693,691,1,0,0,0,693,694,1,0,0,0,694,696,1,0,0,0,695,693,1,0,0,0,696,698,7,8,0,0,697,693,1,0,0,0,697,698,1,0,0,0,698,700,1,0,0,0,699,701,7,4,0,0,700,699,1,0,0,0,700,701,1,0,0,0,701,120,1,0,0,0,702,703,5,48,0,0,703,704,7,10,0,0,704,712,7,11,0,0,705,707,7,12,0,0,706,705,1,0,0,0,707,710,1,0,0,0,708,706,1,0,0,0,708,709,1,0,0,0,709,711,1,0,0,0,710,708,1,0,0,0,711,713,7,11,0,0,712,708,1,0,0,0,712,713,1,0,0,0,713,715,1,0,0,0,714,716,7,4,0,0,715,714,1,0,0,0,715,716,1,0,0,0,716,122,1,0,0,0,717,718,3,239,119,0,718,720,5,46,0,0,719,721,3,239,119,0,720,719,1,0,0,0,720,721,1,0,0,0,721,725,1,0,0,0,722,723,5,46,0,0,723,725,3,239,119,0,724,717,1,0,0,0,724,722,1,0,0,0,725,727,1,0,0,0,726,728,3,231,115,0,727,726,1,0,0,0,727,728,1,0,0,0,728,730,1,0,0,0,729,731,7,13,0,0,730,729,1,0,0,0,730,731,1,0,0,0,731,741,1,0,0,0,732,738,3,239,119,0,733,735,3,231,115,0,734,736,7,13,0,0,735,734,1,0,0,0,735,736,1,0,0,0,736,739,1,0,0,0,737,739,7,13,0,0,738,733,1,0,0,0,738,737,1,0,0,0,739,741,1,0,0,0,740,724,1,0,0,0,740,732,1,0,0,0,741,124,1,0,0,0,742,743,5,48,0,0,743,753,7,5,0,0,744,746,3,235,117,0,745,747,5,46,0,0,746,745,1,0,0,0,746,747,1,0,0,0,747,754,1,0,0,0,748,750,3,235,117,0,749,748,1,0,0,0,749,750,1,0,0,0,750,751,1,0,0,0,751,752,5,46,0,0,752,754,3,235,117,0,753,744,1,0,0,0,753,749,1,0,0,0,754,755,1,0,0,0,755,757,7,14,0,0,756,758,7,15,0,0,757,756,1,0,0,0,757,758,1,0,0,0,758,759,1,0,0,0,759,761,3,239,119,0,760,762,7,13,0,0,761,760,1,0,0,0,761,762,1,0,0,0,762,126,1,0,0,0,763,764,5,116,0,0,764,765,5,114,0,0,765,766,5,117,0,0,766,773,5,101,0,0,767,768,5,102,0,0,768,769,5,97,0,0,769,770,5,108,0,0,770,771,5,115,0,0,771,773,5,101,0,0,772,763,1,0,0,0,772,767,1,0,0,0,773,128,1,0,0,0,774,779,5,34,0,0,775,778,8,16,0,0,776,778,3,233,116,0,777,775,1,0,0,0,777,776,1,0,0,0,778,781,1,0,0,0,779,777,1,0,0,0,779,780,1,0,0,0,780,782,1,0,0,0,781,779,1,0,0,0,782,783,5,34,0,0,783,130,1,0,0,0,784,785,5,34,0,0,785,786,5,34,0,0,786,787,5,34,0,0,787,792,1,0,0,0,788,791,8,17,0,0,789,791,3,233,116,0,790,788,1,0,0,0,790,789,1,0,0,0,791,794,1,0,0,0,792,793,1,0,0,0,792,790,1,0,0,0,793,795,1,0,0,0,794,792,1,0,0,0,795,796,5,34,0,0,796,797,5,34,0,0,797,798,5,34,0,0,798,132,1,0,0,0,799,800,5,110,0,0,800,801,5,117,0,0,801,802,5,108,0,0,802,803,5,108,0,0,803,134,1,0,0,0,804,805,5,40,0,0,805,136,1,0,0,0,806,807,5,41,0,0,807,138,1,0,0,0,808,809,5,123,0,0,809,140,1,0,0,0,810,811,5,125,0,0,811,142,1,0,0,0,812,813,5,91,0,0,813,144,1,0,0,0,814,815,5,93,0,0,815,146,1,0,0,0,816,817,5,59,0,0,817,148,1,0,0,0,818,819,5,44,0,0,819,150,1,0,0,0,820,821,5,46,0,0,821,152,1,0,0,0,822,823,5,61,0,0,823,154,1,0,0,0,824,825,5,62,0,0,825,156,1,0,0,0,826,827,5,60,0,0,827,158,1,0,0,0,828,829,5,33,0,0,829,160,1,0,0,0,830,831,5,126,0,0,831,162,1,0,0,0,832,833,5,63,0,0,833,164,1,0,0,0,834,835,5,58,0,0,835,166,1,0,0,0,836,837,5,61,0,0,837,838,5,61,0,0,838,168,1,0,0,0,839,840,5,60,0,0,840,841,5,61,0,0,841,170,1,0,0,0,842,843,5,62,0,0,843,844,5,61,0,0,844,172,1,0,0,0,845,846,5,33,0,0,846,847,5,61,0,0,847,174,1,0,0,0,848,849,5,38,0,0,849,850,5,38,0,0,850,176,1,0,0,0,851,852,5,124,0,0,852,853,5,124,0,0,853,178,1,0,0,0,854,855,5,43,0,0,855,856,5,43,0,0,856,180,1,0,0,0,857,858,5,45,0,0,858,859,5,45,0,0,859,182,1,0,0,0,860,861,5,43,0,0,861,184,1,0,0,0,862,863,5,45,0,0,863,186,1,0,0,0,864,865,5,42,0,0,865,188,1,0,0,0,866,867,5,47,0,0,867,190,1,0,0,0,868,869,5,38,0,0,869,192,1,0,0,0,870,871,5,124,0,0,871,194,1,0,0,0,872,873,5,94,0,0,873,196,1,0,0,0,874,875,5,37,0,0,875,198,1,0,0,0,876,877,5,43,0,0,877,878,5,61,0,0,878,200,1,0,0,0,879,880,5,45,0,0,880,881,5,61,0,0,881,202,1,0,0,0,882,883,5,42,0,0,883,884,5,61,0,0,884,204,1,0,0,0,885,886,5,47,0,0,886,887,5,61,0,0,887,206,1,0,0,0,888,889,5,38,0,0,889,890,5,61,0,0,890,208,1,0,0,0,891,892,5,124,0,0,892,893,5,61,0,0,893,210,1,0,0,0,894,895,5,94,0,0,895,896,5,61,0,0,896,212,1,0,0,0,897,898,5,37,0,0,898,899,5,61,0,0,899,214,1,0,0,0,900,901,5,60,0,0,901,902,5,60,0,0,902,903,5,61,0,0,903,216,1,0,0,0,904,905,5,62,0,0,905,906,5,62,0,0,906,907,5,61,0,0,907,218,1,0,0,0,908,909,5,62,0,0,909,910,5,62,0,0,910,911,5,62,0,0,911,912,5,61,0,0,912,220,1,0,0,0,913,914,5,45,0,0,914,915,5,62,0,0,915,222,1,0,0,0,916,917,5,58,0,0,917,918,5,58,0,0,918,224,1,0,0,0,919,920,5,64,0,0,920,226,1,0,0,0,921,922,5,46,0,0,922,923,5,46,0,0,923,924,5,46,0,0,924,228,1,0,0,0,925,929,3,243,121,0,926,928,3,241,120,0,927,926,1,0,0,0,928,931,1,0,0,0,929,927,1,0,0,0,929,930,1,0,0,0,930,230,1,0,0,0,931,929,1,0,0,0,932,934,7,18,0,0,933,935,7,15,0,0,934,933,1,0,0,0,934,935,1,0,0,0,935,936,1,0,0,0,936,937,3,239,119,0,937,232,1,0,0,0,938,939,5,92,0,0,939,960,7,19,0,0,940,945,5,92,0,0,941,943,7,20,0,0,942,941,1,0,0,0,942,943,1,0,0,0,943,944,1,0,0,0,944,946,7,8,0,0,945,942,1,0,0,0,945,946,1,0,0,0,946,947,1,0,0,0,947,960,7,8,0,0,948,950,5,92,0,0,949,951,5,117,0,0,950,949,1,0,0,0,951,952,1,0,0,0,952,950,1,0,0,0,952,953,1,0,0,0,953,954,1,0,0,0,954,955,3,237,118,0,955,956,3,237,118,0,956,957,3,237,118,0,957,958,3,237,118,0,958,960,1,0,0,0,959,938,1,0,0,0,959,940,1,0,0,0,959,948,1,0,0,0,960,234,1,0,0,0,961,970,3,237,118,0,962,965,3,237,118,0,963,965,5,95,0,0,964,962,1,0,0,0,964,963,1,0,0,0,965,968,1,0,0,0,966,964,1,0,0,0,966,967,1,0,0,0,967,969,1,0,0,0,968,966,1,0,0,0,969,971,3,237,118,0,970,966,1,0,0,0,970,971,1,0,0,0,971,236,1,0,0,0,972,973,7,6,0,0,973,238,1,0,0,0,974,982,7,21,0,0,975,977,7,22,0,0,976,975,1,0,0,0,977,980,1,0,0,0,978,976,1,0,0,0,978,979,1,0,0,0,979,981,1,0,0,0,980,978,1,0,0,0,981,983,7,21,0,0,982,978,1,0,0,0,982,983,1,0,0,0,983,240,1,0,0,0,984,987,3,243,121,0,985,987,7,21,0,0,986,984,1,0,0,0,986,985,1,0,0,0,987,242,1,0,0,0,988,993,7,23,0,0,989,993,8,24,0,0,990,991,7,25,0,0,991,993,7,26,0,0,992,988,1,0,0,0,992,989,1,0,0,0,992,990,1,0,0,0,993,244,1,0,0,0,52,0,255,267,277,291,299,301,652,657,660,662,665,673,677,680,686,693,697,700,708,712,715,720,724,727,730,735,738,740,746,749,753,757,761,772,777,779,790,792,929,934,942,945,952,959,964,966,970,978,982,986,992,2,0,1,0,0,2,0];static __ATN;static get _ATN(){return ProcessingLexer.__ATN||(ProcessingLexer.__ATN=new We().deserialize(ProcessingLexer._serializedATN)),ProcessingLexer.__ATN}static DecisionsToDFA=ProcessingLexer._ATN.decisionToState.map((ds,index)=>new Qe(ds,index))}class ProcessingParser extends xn{static T__0=1;static HexColorLiteral=2;static WS=3;static COMMENT=4;static LINE_COMMENT=5;static CHAR_LITERAL=6;static ABSTRACT=7;static ASSERT=8;static BOOLEAN=9;static BREAK=10;static BYTE=11;static CASE=12;static CATCH=13;static CHAR=14;static CLASS=15;static CONST=16;static CONTINUE=17;static DEFAULT=18;static DO=19;static DOUBLE=20;static ELSE=21;static ENUM=22;static EXTENDS=23;static FINAL=24;static FINALLY=25;static FLOAT=26;static FOR=27;static IF=28;static GOTO=29;static IMPLEMENTS=30;static IMPORT=31;static INSTANCEOF=32;static INT=33;static INTERFACE=34;static LONG=35;static NATIVE=36;static NEW=37;static PACKAGE=38;static PRIVATE=39;static PROTECTED=40;static PUBLIC=41;static RETURN=42;static SHORT=43;static STATIC=44;static STRICTFP=45;static SUPER=46;static SWITCH=47;static SYNCHRONIZED=48;static THIS=49;static THROW=50;static THROWS=51;static TRANSIENT=52;static TRY=53;static VAR=54;static VOID=55;static VOLATILE=56;static WHILE=57;static DECIMAL_LITERAL=58;static HEX_LITERAL=59;static OCT_LITERAL=60;static BINARY_LITERAL=61;static FLOAT_LITERAL=62;static HEX_FLOAT_LITERAL=63;static BOOL_LITERAL=64;static STRING_LITERAL=65;static MULTI_STRING_LIT=66;static NULL_LITERAL=67;static LPAREN=68;static RPAREN=69;static LBRACE=70;static RBRACE=71;static LBRACK=72;static RBRACK=73;static SEMI=74;static COMMA=75;static DOT=76;static ASSIGN=77;static GT=78;static LT=79;static BANG=80;static TILDE=81;static QUESTION=82;static COLON=83;static EQUAL=84;static LE=85;static GE=86;static NOTEQUAL=87;static AND=88;static OR=89;static INC=90;static DEC=91;static ADD=92;static SUB=93;static MUL=94;static DIV=95;static BITAND=96;static BITOR=97;static CARET=98;static MOD=99;static ADD_ASSIGN=100;static SUB_ASSIGN=101;static MUL_ASSIGN=102;static DIV_ASSIGN=103;static AND_ASSIGN=104;static OR_ASSIGN=105;static XOR_ASSIGN=106;static MOD_ASSIGN=107;static LSHIFT_ASSIGN=108;static RSHIFT_ASSIGN=109;static URSHIFT_ASSIGN=110;static ARROW=111;static COLONCOLON=112;static AT=113;static ELLIPSIS=114;static IDENTIFIER=115;static EOF=kn.EOF;static RULE_processingSketch=0;static RULE_javaProcessingSketch=1;static RULE_staticProcessingSketch=2;static RULE_activeProcessingSketch=3;static RULE_warnMixedModes=4;static RULE_variableDeclaratorId=5;static RULE_warnTypeAsVariableName=6;static RULE_methodCall=7;static RULE_functionWithPrimitiveTypeName=8;static RULE_primitiveType=9;static RULE_colorPrimitiveType=10;static RULE_qualifiedName=11;static RULE_literal=12;static RULE_hexColorLiteral=13;static RULE_compilationUnit=14;static RULE_packageDeclaration=15;static RULE_importDeclaration=16;static RULE_typeDeclaration=17;static RULE_modifier=18;static RULE_classOrInterfaceModifier=19;static RULE_variableModifier=20;static RULE_classDeclaration=21;static RULE_typeParameters=22;static RULE_typeParameter=23;static RULE_typeBound=24;static RULE_enumDeclaration=25;static RULE_enumConstants=26;static RULE_enumConstant=27;static RULE_enumBodyDeclarations=28;static RULE_interfaceDeclaration=29;static RULE_classBody=30;static RULE_interfaceBody=31;static RULE_classBodyDeclaration=32;static RULE_memberDeclaration=33;static RULE_methodDeclaration=34;static RULE_methodBody=35;static RULE_typeTypeOrVoid=36;static RULE_genericMethodDeclaration=37;static RULE_genericConstructorDeclaration=38;static RULE_constructorDeclaration=39;static RULE_fieldDeclaration=40;static RULE_interfaceBodyDeclaration=41;static RULE_interfaceMemberDeclaration=42;static RULE_constDeclaration=43;static RULE_constantDeclarator=44;static RULE_interfaceMethodDeclaration=45;static RULE_interfaceMethodModifier=46;static RULE_genericInterfaceMethodDeclaration=47;static RULE_variableDeclarators=48;static RULE_variableDeclarator=49;static RULE_variableInitializer=50;static RULE_arrayInitializer=51;static RULE_classOrInterfaceType=52;static RULE_typeArgument=53;static RULE_qualifiedNameList=54;static RULE_formalParameters=55;static RULE_formalParameterList=56;static RULE_formalParameter=57;static RULE_lastFormalParameter=58;static RULE_baseStringLiteral=59;static RULE_multilineStringLiteral=60;static RULE_stringLiteral=61;static RULE_integerLiteral=62;static RULE_floatLiteral=63;static RULE_annotation=64;static RULE_elementValuePairs=65;static RULE_elementValuePair=66;static RULE_elementValue=67;static RULE_elementValueArrayInitializer=68;static RULE_annotationTypeDeclaration=69;static RULE_annotationTypeBody=70;static RULE_annotationTypeElementDeclaration=71;static RULE_annotationTypeElementRest=72;static RULE_annotationMethodOrConstantRest=73;static RULE_annotationMethodRest=74;static RULE_annotationConstantRest=75;static RULE_defaultValue=76;static RULE_block=77;static RULE_blockStatement=78;static RULE_localVariableDeclaration=79;static RULE_localTypeDeclaration=80;static RULE_statement=81;static RULE_catchClause=82;static RULE_catchType=83;static RULE_finallyBlock=84;static RULE_resourceSpecification=85;static RULE_resources=86;static RULE_resource=87;static RULE_switchBlockStatementGroup=88;static RULE_switchLabel=89;static RULE_forControl=90;static RULE_forInit=91;static RULE_enhancedForControl=92;static RULE_parExpression=93;static RULE_expressionList=94;static RULE_expression=95;static RULE_lambdaExpression=96;static RULE_lambdaParameters=97;static RULE_lambdaBody=98;static RULE_primary=99;static RULE_classType=100;static RULE_creator=101;static RULE_createdName=102;static RULE_innerCreator=103;static RULE_arrayCreatorRest=104;static RULE_classCreatorRest=105;static RULE_explicitGenericInvocation=106;static RULE_typeArgumentsOrDiamond=107;static RULE_nonWildcardTypeArgumentsOrDiamond=108;static RULE_nonWildcardTypeArguments=109;static RULE_typeList=110;static RULE_typeType=111;static RULE_typeArguments=112;static RULE_superSuffix=113;static RULE_explicitGenericInvocationSuffix=114;static RULE_arguments=115;static literalNames=[null,"'color'",null,null,null,null,null,"'abstract'","'assert'","'boolean'","'break'","'byte'","'case'","'catch'","'char'","'class'","'const'","'continue'","'default'","'do'","'double'","'else'","'enum'","'extends'","'final'","'finally'","'float'","'for'","'if'","'goto'","'implements'","'import'","'instanceof'","'int'","'interface'","'long'","'native'","'new'","'package'","'private'","'protected'","'public'","'return'","'short'","'static'","'strictfp'","'super'","'switch'","'synchronized'","'this'","'throw'","'throws'","'transient'","'try'","'var'","'void'","'volatile'","'while'",null,null,null,null,null,null,null,null,null,"'null'","'('","')'","'{'","'}'","'['","']'","';'","','","'.'","'='","'>'","'<'","'!'","'~'","'?'","':'","'=='","'<='","'>='","'!='","'&&'","'||'","'++'","'--'","'+'","'-'","'*'","'/'","'&'","'|'","'^'","'%'","'+='","'-='","'*='","'/='","'&='","'|='","'^='","'%='","'<<='","'>>='","'>>>='","'->'","'::'","'@'","'...'"];static symbolicNames=[null,null,"HexColorLiteral","WS","COMMENT","LINE_COMMENT","CHAR_LITERAL","ABSTRACT","ASSERT","BOOLEAN","BREAK","BYTE","CASE","CATCH","CHAR","CLASS","CONST","CONTINUE","DEFAULT","DO","DOUBLE","ELSE","ENUM","EXTENDS","FINAL","FINALLY","FLOAT","FOR","IF","GOTO","IMPLEMENTS","IMPORT","INSTANCEOF","INT","INTERFACE","LONG","NATIVE","NEW","PACKAGE","PRIVATE","PROTECTED","PUBLIC","RETURN","SHORT","STATIC","STRICTFP","SUPER","SWITCH","SYNCHRONIZED","THIS","THROW","THROWS","TRANSIENT","TRY","VAR","VOID","VOLATILE","WHILE","DECIMAL_LITERAL","HEX_LITERAL","OCT_LITERAL","BINARY_LITERAL","FLOAT_LITERAL","HEX_FLOAT_LITERAL","BOOL_LITERAL","STRING_LITERAL","MULTI_STRING_LIT","NULL_LITERAL","LPAREN","RPAREN","LBRACE","RBRACE","LBRACK","RBRACK","SEMI","COMMA","DOT","ASSIGN","GT","LT","BANG","TILDE","QUESTION","COLON","EQUAL","LE","GE","NOTEQUAL","AND","OR","INC","DEC","ADD","SUB","MUL","DIV","BITAND","BITOR","CARET","MOD","ADD_ASSIGN","SUB_ASSIGN","MUL_ASSIGN","DIV_ASSIGN","AND_ASSIGN","OR_ASSIGN","XOR_ASSIGN","MOD_ASSIGN","LSHIFT_ASSIGN","RSHIFT_ASSIGN","URSHIFT_ASSIGN","ARROW","COLONCOLON","AT","ELLIPSIS","IDENTIFIER"];static ruleNames=["processingSketch","javaProcessingSketch","staticProcessingSketch","activeProcessingSketch","warnMixedModes","variableDeclaratorId","warnTypeAsVariableName","methodCall","functionWithPrimitiveTypeName","primitiveType","colorPrimitiveType","qualifiedName","literal","hexColorLiteral","compilationUnit","packageDeclaration","importDeclaration","typeDeclaration","modifier","classOrInterfaceModifier","variableModifier","classDeclaration","typeParameters","typeParameter","typeBound","enumDeclaration","enumConstants","enumConstant","enumBodyDeclarations","interfaceDeclaration","classBody","interfaceBody","classBodyDeclaration","memberDeclaration","methodDeclaration","methodBody","typeTypeOrVoid","genericMethodDeclaration","genericConstructorDeclaration","constructorDeclaration","fieldDeclaration","interfaceBodyDeclaration","interfaceMemberDeclaration","constDeclaration","constantDeclarator","interfaceMethodDeclaration","interfaceMethodModifier","genericInterfaceMethodDeclaration","variableDeclarators","variableDeclarator","variableInitializer","arrayInitializer","classOrInterfaceType","typeArgument","qualifiedNameList","formalParameters","formalParameterList","formalParameter","lastFormalParameter","baseStringLiteral","multilineStringLiteral","stringLiteral","integerLiteral","floatLiteral","annotation","elementValuePairs","elementValuePair","elementValue","elementValueArrayInitializer","annotationTypeDeclaration","annotationTypeBody","annotationTypeElementDeclaration","annotationTypeElementRest","annotationMethodOrConstantRest","annotationMethodRest","annotationConstantRest","defaultValue","block","blockStatement","localVariableDeclaration","localTypeDeclaration","statement","catchClause","catchType","finallyBlock","resourceSpecification","resources","resource","switchBlockStatementGroup","switchLabel","forControl","forInit","enhancedForControl","parExpression","expressionList","expression","lambdaExpression","lambdaParameters","lambdaBody","primary","classType","creator","createdName","innerCreator","arrayCreatorRest","classCreatorRest","explicitGenericInvocation","typeArgumentsOrDiamond","nonWildcardTypeArgumentsOrDiamond","nonWildcardTypeArguments","typeList","typeType","typeArguments","superSuffix","explicitGenericInvocationSuffix","arguments"];get grammarFileName(){return"Processing.g4"}get literalNames(){return ProcessingParser.literalNames}get symbolicNames(){return ProcessingParser.symbolicNames}get ruleNames(){return ProcessingParser.ruleNames}get serializedATN(){return ProcessingParser._serializedATN}createFailedPredicateException(predicate,message){return new sn(this,predicate,message)}constructor(input){super(input),this._interp=new Tn(this,ProcessingParser._ATN,ProcessingParser.DecisionsToDFA,new mn)}processingSketch(){let localctx=new ProcessingSketchContext(this,this._ctx,this.state);this.enterRule(localctx,0,ProcessingParser.RULE_processingSketch);try{switch(this.state=235,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,0,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=232,this.staticProcessingSketch();break;case 2:this.enterOuterAlt(localctx,2),this.state=233,this.javaProcessingSketch();break;case 3:this.enterOuterAlt(localctx,3),this.state=234,this.activeProcessingSketch();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}javaProcessingSketch(){let localctx=new JavaProcessingSketchContext(this,this._ctx,this.state);this.enterRule(localctx,2,ProcessingParser.RULE_javaProcessingSketch);let _la;try{this.enterOuterAlt(localctx,1);{switch(this.state=238,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,1,this._ctx)){case 1:this.state=237,this.packageDeclaration();break}for(this.state=243,this._errHandler.sync(this),_la=this._input.LA(1);_la===31;)this.state=240,this.importDeclaration(),this.state=245,this._errHandler.sync(this),_la=this._input.LA(1);this.state=247,this._errHandler.sync(this),_la=this._input.LA(1);do this.state=246,this.typeDeclaration(),this.state=249,this._errHandler.sync(this),_la=this._input.LA(1);while((_la&-32)===0&&(1<<_la&21004416)!==0||(_la-34&-32)===0&&(1<<_la-34&3297)!==0||_la===74||_la===113);this.state=251,this.match(ProcessingParser.EOF)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}staticProcessingSketch(){let localctx=new StaticProcessingSketchContext(this,this._ctx,this.state);this.enterRule(localctx,4,ProcessingParser.RULE_staticProcessingSketch);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=258,this._errHandler.sync(this),_la=this._input.LA(1);(_la&-32)===0&&(1<<_la&2639974342)!==0||(_la-33&-32)===0&&(1<<_la-33&4285792215)!==0||(_la-65&-32)===0&&(1<<_la-65&503431727)!==0||_la===113||_la===115;){switch(this.state=256,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,4,this._ctx)){case 1:this.state=253,this.importDeclaration();break;case 2:this.state=254,this.blockStatement();break;case 3:this.state=255,this.typeDeclaration();break}this.state=260,this._errHandler.sync(this),_la=this._input.LA(1)}this.state=261,this.match(ProcessingParser.EOF)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}activeProcessingSketch(){let localctx=new ActiveProcessingSketchContext(this,this._ctx,this.state);this.enterRule(localctx,6,ProcessingParser.RULE_activeProcessingSketch);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=267,this._errHandler.sync(this),_la=this._input.LA(1);(_la&-32)===0&&(1<<_la&2236664450)!==0||(_la-33&-32)===0&&(1<<_la-33&15244751)!==0||(_la-70&-32)===0&&(1<<_la-70&529)!==0||_la===113||_la===115;){switch(this.state=265,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,6,this._ctx)){case 1:this.state=263,this.importDeclaration();break;case 2:this.state=264,this.classBodyDeclaration();break}this.state=269,this._errHandler.sync(this),_la=this._input.LA(1)}this.state=270,this.match(ProcessingParser.EOF)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}warnMixedModes(){let localctx=new WarnMixedModesContext(this,this._ctx,this.state);this.enterRule(localctx,8,ProcessingParser.RULE_warnMixedModes);let _la;try{let _alt;switch(this.state=308,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,16,this._ctx)){case 1:this.enterOuterAlt(localctx,1);{for(this.state=277,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,9,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;){if(_alt===1)switch(this.state=275,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,8,this._ctx)){case 1:this.state=272,this.importDeclaration();break;case 2:this.state=273,this.classBodyDeclaration();break;case 3:this.state=274,this.blockStatement();break}this.state=279,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,9,this._ctx)}for(this.state=280,this.blockStatement(),this.state=281,this.classBodyDeclaration(),this.state=287,this._errHandler.sync(this),_la=this._input.LA(1);(_la&-32)===0&&(1<<_la&2639974342)!==0||(_la-33&-32)===0&&(1<<_la-33&4294705119)!==0||(_la-65&-32)===0&&(1<<_la-65&503431727)!==0||_la===113||_la===115;){switch(this.state=285,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,10,this._ctx)){case 1:this.state=282,this.importDeclaration();break;case 2:this.state=283,this.classBodyDeclaration();break;case 3:this.state=284,this.blockStatement();break}this.state=289,this._errHandler.sync(this),_la=this._input.LA(1)}}break;case 2:this.enterOuterAlt(localctx,2);{for(this.state=295,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,13,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;){if(_alt===1)switch(this.state=293,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,12,this._ctx)){case 1:this.state=290,this.importDeclaration();break;case 2:this.state=291,this.classBodyDeclaration();break;case 3:this.state=292,this.blockStatement();break}this.state=297,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,13,this._ctx)}for(this.state=298,this.classBodyDeclaration(),this.state=299,this.blockStatement(),this.state=305,this._errHandler.sync(this),_la=this._input.LA(1);(_la&-32)===0&&(1<<_la&2639974342)!==0||(_la-33&-32)===0&&(1<<_la-33&4294705119)!==0||(_la-65&-32)===0&&(1<<_la-65&503431727)!==0||_la===113||_la===115;){switch(this.state=303,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,14,this._ctx)){case 1:this.state=300,this.importDeclaration();break;case 2:this.state=301,this.classBodyDeclaration();break;case 3:this.state=302,this.blockStatement();break}this.state=307,this._errHandler.sync(this),_la=this._input.LA(1)}}break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}variableDeclaratorId(){let localctx=new VariableDeclaratorIdContext(this,this._ctx,this.state);this.enterRule(localctx,10,ProcessingParser.RULE_variableDeclaratorId);let _la;try{switch(this.state=319,this._errHandler.sync(this),this._input.LA(1)){case 1:case 9:case 11:case 14:case 20:case 26:case 33:case 35:case 43:this.enterOuterAlt(localctx,1),this.state=310,this.warnTypeAsVariableName();break;case 115:for(this.enterOuterAlt(localctx,2),this.state=311,this.match(ProcessingParser.IDENTIFIER),this.state=316,this._errHandler.sync(this),_la=this._input.LA(1);_la===72;)this.state=312,this.match(ProcessingParser.LBRACK),this.state=313,this.match(ProcessingParser.RBRACK),this.state=318,this._errHandler.sync(this),_la=this._input.LA(1);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}warnTypeAsVariableName(){let localctx=new WarnTypeAsVariableNameContext(this,this._ctx,this.state);this.enterRule(localctx,12,ProcessingParser.RULE_warnTypeAsVariableName);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=321,localctx._primitiveType=this.primitiveType(),this.state=326,this._errHandler.sync(this),_la=this._input.LA(1);_la===72;)this.state=322,this.match(ProcessingParser.LBRACK),this.state=323,this.match(ProcessingParser.RBRACK),this.state=328,this._errHandler.sync(this),_la=this._input.LA(1);this.notifyErrorListeners("Type names are not allowed as variable names: "+(localctx._primitiveType!=null?this._input.getText(new an(localctx._primitiveType.start,localctx._primitiveType.stop)):void 0),this.getCurrentToken(),void 0)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}methodCall(){let localctx=new MethodCallContext(this,this._ctx,this.state);this.enterRule(localctx,14,ProcessingParser.RULE_methodCall);let _la;try{switch(this.state=350,this._errHandler.sync(this),this._input.LA(1)){case 1:case 9:case 11:case 14:case 26:case 33:this.enterOuterAlt(localctx,1),this.state=331,this.functionWithPrimitiveTypeName();break;case 115:this.enterOuterAlt(localctx,2),this.state=332,this.match(ProcessingParser.IDENTIFIER),this.state=333,this.match(ProcessingParser.LPAREN),this.state=335,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&68176454)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431183)!==0||_la===113||_la===115)&&(this.state=334,this.expressionList()),this.state=337,this.match(ProcessingParser.RPAREN);break;case 49:this.enterOuterAlt(localctx,3),this.state=338,this.match(ProcessingParser.THIS),this.state=339,this.match(ProcessingParser.LPAREN),this.state=341,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&68176454)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431183)!==0||_la===113||_la===115)&&(this.state=340,this.expressionList()),this.state=343,this.match(ProcessingParser.RPAREN);break;case 46:this.enterOuterAlt(localctx,4),this.state=344,this.match(ProcessingParser.SUPER),this.state=345,this.match(ProcessingParser.LPAREN),this.state=347,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&68176454)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431183)!==0||_la===113||_la===115)&&(this.state=346,this.expressionList()),this.state=349,this.match(ProcessingParser.RPAREN);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}functionWithPrimitiveTypeName(){let localctx=new FunctionWithPrimitiveTypeNameContext(this,this._ctx,this.state);this.enterRule(localctx,16,ProcessingParser.RULE_functionWithPrimitiveTypeName);let _la;try{this.enterOuterAlt(localctx,1),this.state=352,_la=this._input.LA(1),(_la&-32)===0&&(1<<_la&67127810)!==0||_la===33?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=353,this.match(ProcessingParser.LPAREN),this.state=355,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&68176454)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431183)!==0||_la===113||_la===115)&&(this.state=354,this.expressionList()),this.state=357,this.match(ProcessingParser.RPAREN)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}primitiveType(){let localctx=new PrimitiveTypeContext(this,this._ctx,this.state);this.enterRule(localctx,18,ProcessingParser.RULE_primitiveType);try{switch(this.state=368,this._errHandler.sync(this),this._input.LA(1)){case 9:this.enterOuterAlt(localctx,1),this.state=359,this.match(ProcessingParser.BOOLEAN);break;case 14:this.enterOuterAlt(localctx,2),this.state=360,this.match(ProcessingParser.CHAR);break;case 11:this.enterOuterAlt(localctx,3),this.state=361,this.match(ProcessingParser.BYTE);break;case 43:this.enterOuterAlt(localctx,4),this.state=362,this.match(ProcessingParser.SHORT);break;case 33:this.enterOuterAlt(localctx,5),this.state=363,this.match(ProcessingParser.INT);break;case 35:this.enterOuterAlt(localctx,6),this.state=364,this.match(ProcessingParser.LONG);break;case 26:this.enterOuterAlt(localctx,7),this.state=365,this.match(ProcessingParser.FLOAT);break;case 20:this.enterOuterAlt(localctx,8),this.state=366,this.match(ProcessingParser.DOUBLE);break;case 1:this.enterOuterAlt(localctx,9),this.state=367,this.colorPrimitiveType();break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}colorPrimitiveType(){let localctx=new ColorPrimitiveTypeContext(this,this._ctx,this.state);this.enterRule(localctx,20,ProcessingParser.RULE_colorPrimitiveType);try{this.enterOuterAlt(localctx,1),this.state=370,this.match(ProcessingParser.T__0)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}qualifiedName(){let localctx=new QualifiedNameContext(this,this._ctx,this.state);this.enterRule(localctx,22,ProcessingParser.RULE_qualifiedName);try{let _alt;this.enterOuterAlt(localctx,1);{switch(this.state=374,this._errHandler.sync(this),this._input.LA(1)){case 115:this.state=372,this.match(ProcessingParser.IDENTIFIER);break;case 1:this.state=373,this.colorPrimitiveType();break;default:throw new dn(this)}for(this.state=383,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,28,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;){if(_alt===1)switch(this.state=376,this.match(ProcessingParser.DOT),this.state=379,this._errHandler.sync(this),this._input.LA(1)){case 115:this.state=377,this.match(ProcessingParser.IDENTIFIER);break;case 1:this.state=378,this.colorPrimitiveType();break;default:throw new dn(this)}this.state=385,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,28,this._ctx)}}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}literal(){let localctx=new LiteralContext(this,this._ctx,this.state);this.enterRule(localctx,24,ProcessingParser.RULE_literal);try{switch(this.state=393,this._errHandler.sync(this),this._input.LA(1)){case 58:case 59:case 60:case 61:this.enterOuterAlt(localctx,1),this.state=386,this.integerLiteral();break;case 62:case 63:this.enterOuterAlt(localctx,2),this.state=387,this.floatLiteral();break;case 6:this.enterOuterAlt(localctx,3),this.state=388,this.match(ProcessingParser.CHAR_LITERAL);break;case 65:case 66:this.enterOuterAlt(localctx,4),this.state=389,this.stringLiteral();break;case 64:this.enterOuterAlt(localctx,5),this.state=390,this.match(ProcessingParser.BOOL_LITERAL);break;case 67:this.enterOuterAlt(localctx,6),this.state=391,this.match(ProcessingParser.NULL_LITERAL);break;case 2:this.enterOuterAlt(localctx,7),this.state=392,this.hexColorLiteral();break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}hexColorLiteral(){let localctx=new HexColorLiteralContext(this,this._ctx,this.state);this.enterRule(localctx,26,ProcessingParser.RULE_hexColorLiteral);try{this.enterOuterAlt(localctx,1),this.state=395,this.match(ProcessingParser.HexColorLiteral)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}compilationUnit(){let localctx=new CompilationUnitContext(this,this._ctx,this.state);this.enterRule(localctx,28,ProcessingParser.RULE_compilationUnit);let _la;try{this.enterOuterAlt(localctx,1);{switch(this.state=398,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,30,this._ctx)){case 1:this.state=397,this.packageDeclaration();break}for(this.state=403,this._errHandler.sync(this),_la=this._input.LA(1);_la===31;)this.state=400,this.importDeclaration(),this.state=405,this._errHandler.sync(this),_la=this._input.LA(1);for(this.state=409,this._errHandler.sync(this),_la=this._input.LA(1);(_la&-32)===0&&(1<<_la&21004416)!==0||(_la-34&-32)===0&&(1<<_la-34&3297)!==0||_la===74||_la===113;)this.state=406,this.typeDeclaration(),this.state=411,this._errHandler.sync(this),_la=this._input.LA(1);this.state=412,this.match(ProcessingParser.EOF)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}packageDeclaration(){let localctx=new PackageDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,30,ProcessingParser.RULE_packageDeclaration);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=417,this._errHandler.sync(this),_la=this._input.LA(1);_la===113;)this.state=414,this.annotation(),this.state=419,this._errHandler.sync(this),_la=this._input.LA(1);this.state=420,this.match(ProcessingParser.PACKAGE),this.state=421,this.qualifiedName(),this.state=422,this.match(ProcessingParser.SEMI)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}importDeclaration(){let localctx=new ImportDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,32,ProcessingParser.RULE_importDeclaration);let _la;try{this.enterOuterAlt(localctx,1),this.state=424,this.match(ProcessingParser.IMPORT),this.state=426,this._errHandler.sync(this),_la=this._input.LA(1),_la===44&&(this.state=425,this.match(ProcessingParser.STATIC)),this.state=428,this.qualifiedName(),this.state=431,this._errHandler.sync(this),_la=this._input.LA(1),_la===76&&(this.state=429,this.match(ProcessingParser.DOT),this.state=430,this.match(ProcessingParser.MUL)),this.state=433,this.match(ProcessingParser.SEMI)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}typeDeclaration(){let localctx=new TypeDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,34,ProcessingParser.RULE_typeDeclaration);try{let _alt;switch(this.state=448,this._errHandler.sync(this),this._input.LA(1)){case 7:case 15:case 22:case 24:case 34:case 39:case 40:case 41:case 44:case 45:case 113:this.enterOuterAlt(localctx,1);{for(this.state=438,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,36,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=435,this.classOrInterfaceModifier()),this.state=440,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,36,this._ctx);switch(this.state=445,this._errHandler.sync(this),this._input.LA(1)){case 15:this.state=441,this.classDeclaration();break;case 22:this.state=442,this.enumDeclaration();break;case 34:this.state=443,this.interfaceDeclaration();break;case 113:this.state=444,this.annotationTypeDeclaration();break;default:throw new dn(this)}}break;case 74:this.enterOuterAlt(localctx,2),this.state=447,this.match(ProcessingParser.SEMI);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}modifier(){let localctx=new ModifierContext(this,this._ctx,this.state);this.enterRule(localctx,36,ProcessingParser.RULE_modifier);try{switch(this.state=455,this._errHandler.sync(this),this._input.LA(1)){case 7:case 24:case 39:case 40:case 41:case 44:case 45:case 113:this.enterOuterAlt(localctx,1),this.state=450,this.classOrInterfaceModifier();break;case 36:this.enterOuterAlt(localctx,2),this.state=451,this.match(ProcessingParser.NATIVE);break;case 48:this.enterOuterAlt(localctx,3),this.state=452,this.match(ProcessingParser.SYNCHRONIZED);break;case 52:this.enterOuterAlt(localctx,4),this.state=453,this.match(ProcessingParser.TRANSIENT);break;case 56:this.enterOuterAlt(localctx,5),this.state=454,this.match(ProcessingParser.VOLATILE);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}classOrInterfaceModifier(){let localctx=new ClassOrInterfaceModifierContext(this,this._ctx,this.state);this.enterRule(localctx,38,ProcessingParser.RULE_classOrInterfaceModifier);try{switch(this.state=465,this._errHandler.sync(this),this._input.LA(1)){case 113:this.enterOuterAlt(localctx,1),this.state=457,this.annotation();break;case 41:this.enterOuterAlt(localctx,2),this.state=458,this.match(ProcessingParser.PUBLIC);break;case 40:this.enterOuterAlt(localctx,3),this.state=459,this.match(ProcessingParser.PROTECTED);break;case 39:this.enterOuterAlt(localctx,4),this.state=460,this.match(ProcessingParser.PRIVATE);break;case 44:this.enterOuterAlt(localctx,5),this.state=461,this.match(ProcessingParser.STATIC);break;case 7:this.enterOuterAlt(localctx,6),this.state=462,this.match(ProcessingParser.ABSTRACT);break;case 24:this.enterOuterAlt(localctx,7),this.state=463,this.match(ProcessingParser.FINAL);break;case 45:this.enterOuterAlt(localctx,8),this.state=464,this.match(ProcessingParser.STRICTFP);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}variableModifier(){let localctx=new VariableModifierContext(this,this._ctx,this.state);this.enterRule(localctx,40,ProcessingParser.RULE_variableModifier);try{switch(this.state=469,this._errHandler.sync(this),this._input.LA(1)){case 24:this.enterOuterAlt(localctx,1),this.state=467,this.match(ProcessingParser.FINAL);break;case 113:this.enterOuterAlt(localctx,2),this.state=468,this.annotation();break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}classDeclaration(){let localctx=new ClassDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,42,ProcessingParser.RULE_classDeclaration);let _la;try{this.enterOuterAlt(localctx,1),this.state=471,this.match(ProcessingParser.CLASS),this.state=472,this.match(ProcessingParser.IDENTIFIER),this.state=474,this._errHandler.sync(this),_la=this._input.LA(1),_la===79&&(this.state=473,this.typeParameters()),this.state=478,this._errHandler.sync(this),_la=this._input.LA(1),_la===23&&(this.state=476,this.match(ProcessingParser.EXTENDS),this.state=477,this.typeType()),this.state=482,this._errHandler.sync(this),_la=this._input.LA(1),_la===30&&(this.state=480,this.match(ProcessingParser.IMPLEMENTS),this.state=481,this.typeList()),this.state=484,this.classBody()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}typeParameters(){let localctx=new TypeParametersContext(this,this._ctx,this.state);this.enterRule(localctx,44,ProcessingParser.RULE_typeParameters);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=486,this.match(ProcessingParser.LT),this.state=487,this.typeParameter(),this.state=492,this._errHandler.sync(this),_la=this._input.LA(1);_la===75;)this.state=488,this.match(ProcessingParser.COMMA),this.state=489,this.typeParameter(),this.state=494,this._errHandler.sync(this),_la=this._input.LA(1);this.state=495,this.match(ProcessingParser.GT)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}typeParameter(){let localctx=new TypeParameterContext(this,this._ctx,this.state);this.enterRule(localctx,46,ProcessingParser.RULE_typeParameter);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=500,this._errHandler.sync(this),_la=this._input.LA(1);_la===113;)this.state=497,this.annotation(),this.state=502,this._errHandler.sync(this),_la=this._input.LA(1);this.state=503,this.match(ProcessingParser.IDENTIFIER),this.state=506,this._errHandler.sync(this),_la=this._input.LA(1),_la===23&&(this.state=504,this.match(ProcessingParser.EXTENDS),this.state=505,this.typeBound())}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}typeBound(){let localctx=new TypeBoundContext(this,this._ctx,this.state);this.enterRule(localctx,48,ProcessingParser.RULE_typeBound);let _la;try{for(this.enterOuterAlt(localctx,1),this.state=508,this.typeType(),this.state=513,this._errHandler.sync(this),_la=this._input.LA(1);_la===96;)this.state=509,this.match(ProcessingParser.BITAND),this.state=510,this.typeType(),this.state=515,this._errHandler.sync(this),_la=this._input.LA(1)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}enumDeclaration(){let localctx=new EnumDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,50,ProcessingParser.RULE_enumDeclaration);let _la;try{this.enterOuterAlt(localctx,1),this.state=516,this.match(ProcessingParser.ENUM),this.state=517,this.match(ProcessingParser.IDENTIFIER),this.state=520,this._errHandler.sync(this),_la=this._input.LA(1),_la===30&&(this.state=518,this.match(ProcessingParser.IMPLEMENTS),this.state=519,this.typeList()),this.state=522,this.match(ProcessingParser.LBRACE),this.state=524,this._errHandler.sync(this),_la=this._input.LA(1),(_la===113||_la===115)&&(this.state=523,this.enumConstants()),this.state=527,this._errHandler.sync(this),_la=this._input.LA(1),_la===75&&(this.state=526,this.match(ProcessingParser.COMMA)),this.state=530,this._errHandler.sync(this),_la=this._input.LA(1),_la===74&&(this.state=529,this.enumBodyDeclarations()),this.state=532,this.match(ProcessingParser.RBRACE)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}enumConstants(){let localctx=new EnumConstantsContext(this,this._ctx,this.state);this.enterRule(localctx,52,ProcessingParser.RULE_enumConstants);try{let _alt;for(this.enterOuterAlt(localctx,1),this.state=534,this.enumConstant(),this.state=539,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,53,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=535,this.match(ProcessingParser.COMMA),this.state=536,this.enumConstant()),this.state=541,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,53,this._ctx)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}enumConstant(){let localctx=new EnumConstantContext(this,this._ctx,this.state);this.enterRule(localctx,54,ProcessingParser.RULE_enumConstant);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=545,this._errHandler.sync(this),_la=this._input.LA(1);_la===113;)this.state=542,this.annotation(),this.state=547,this._errHandler.sync(this),_la=this._input.LA(1);this.state=548,this.match(ProcessingParser.IDENTIFIER),this.state=550,this._errHandler.sync(this),_la=this._input.LA(1),_la===68&&(this.state=549,this.arguments()),this.state=553,this._errHandler.sync(this),_la=this._input.LA(1),_la===70&&(this.state=552,this.classBody())}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}enumBodyDeclarations(){let localctx=new EnumBodyDeclarationsContext(this,this._ctx,this.state);this.enterRule(localctx,56,ProcessingParser.RULE_enumBodyDeclarations);let _la;try{for(this.enterOuterAlt(localctx,1),this.state=555,this.match(ProcessingParser.SEMI),this.state=559,this._errHandler.sync(this),_la=this._input.LA(1);(_la&-32)===0&&(1<<_la&2236664450)!==0||(_la-33&-32)===0&&(1<<_la-33&15244751)!==0||(_la-70&-32)===0&&(1<<_la-70&529)!==0||_la===113||_la===115;)this.state=556,this.classBodyDeclaration(),this.state=561,this._errHandler.sync(this),_la=this._input.LA(1)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}interfaceDeclaration(){let localctx=new InterfaceDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,58,ProcessingParser.RULE_interfaceDeclaration);let _la;try{this.enterOuterAlt(localctx,1),this.state=562,this.match(ProcessingParser.INTERFACE),this.state=563,this.match(ProcessingParser.IDENTIFIER),this.state=565,this._errHandler.sync(this),_la=this._input.LA(1),_la===79&&(this.state=564,this.typeParameters()),this.state=569,this._errHandler.sync(this),_la=this._input.LA(1),_la===23&&(this.state=567,this.match(ProcessingParser.EXTENDS),this.state=568,this.typeList()),this.state=571,this.interfaceBody()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}classBody(){let localctx=new ClassBodyContext(this,this._ctx,this.state);this.enterRule(localctx,60,ProcessingParser.RULE_classBody);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=573,this.match(ProcessingParser.LBRACE),this.state=577,this._errHandler.sync(this),_la=this._input.LA(1);(_la&-32)===0&&(1<<_la&2236664450)!==0||(_la-33&-32)===0&&(1<<_la-33&15244751)!==0||(_la-70&-32)===0&&(1<<_la-70&529)!==0||_la===113||_la===115;)this.state=574,this.classBodyDeclaration(),this.state=579,this._errHandler.sync(this),_la=this._input.LA(1);this.state=580,this.match(ProcessingParser.RBRACE)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}interfaceBody(){let localctx=new InterfaceBodyContext(this,this._ctx,this.state);this.enterRule(localctx,62,ProcessingParser.RULE_interfaceBody);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=582,this.match(ProcessingParser.LBRACE),this.state=586,this._errHandler.sync(this),_la=this._input.LA(1);(_la&-32)===0&&(1<<_la&89442946)!==0||(_la-33&-32)===0&&(1<<_la-33&15244751)!==0||_la===74||_la===79||_la===113||_la===115;)this.state=583,this.interfaceBodyDeclaration(),this.state=588,this._errHandler.sync(this),_la=this._input.LA(1);this.state=589,this.match(ProcessingParser.RBRACE)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}classBodyDeclaration(){let localctx=new ClassBodyDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,64,ProcessingParser.RULE_classBodyDeclaration);let _la;try{let _alt;switch(this.state=604,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,64,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=591,this.match(ProcessingParser.SEMI);break;case 2:this.enterOuterAlt(localctx,2),this.state=592,this.importDeclaration();break;case 3:this.enterOuterAlt(localctx,3),this.state=594,this._errHandler.sync(this),_la=this._input.LA(1),_la===44&&(this.state=593,this.match(ProcessingParser.STATIC)),this.state=596,this.block();break;case 4:this.enterOuterAlt(localctx,4);{for(this.state=600,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,63,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=597,this.modifier()),this.state=602,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,63,this._ctx);this.state=603,this.memberDeclaration()}break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}memberDeclaration(){let localctx=new MemberDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,66,ProcessingParser.RULE_memberDeclaration);try{switch(this.state=615,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,65,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=606,this.methodDeclaration();break;case 2:this.enterOuterAlt(localctx,2),this.state=607,this.genericMethodDeclaration();break;case 3:this.enterOuterAlt(localctx,3),this.state=608,this.fieldDeclaration();break;case 4:this.enterOuterAlt(localctx,4),this.state=609,this.constructorDeclaration();break;case 5:this.enterOuterAlt(localctx,5),this.state=610,this.genericConstructorDeclaration();break;case 6:this.enterOuterAlt(localctx,6),this.state=611,this.interfaceDeclaration();break;case 7:this.enterOuterAlt(localctx,7),this.state=612,this.annotationTypeDeclaration();break;case 8:this.enterOuterAlt(localctx,8),this.state=613,this.classDeclaration();break;case 9:this.enterOuterAlt(localctx,9),this.state=614,this.enumDeclaration();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}methodDeclaration(){let localctx=new MethodDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,68,ProcessingParser.RULE_methodDeclaration);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=617,this.typeTypeOrVoid(),this.state=618,this.match(ProcessingParser.IDENTIFIER),this.state=619,this.formalParameters(),this.state=624,this._errHandler.sync(this),_la=this._input.LA(1);_la===72;)this.state=620,this.match(ProcessingParser.LBRACK),this.state=621,this.match(ProcessingParser.RBRACK),this.state=626,this._errHandler.sync(this),_la=this._input.LA(1);this.state=629,this._errHandler.sync(this),_la=this._input.LA(1),_la===51&&(this.state=627,this.match(ProcessingParser.THROWS),this.state=628,this.qualifiedNameList()),this.state=631,this.methodBody()}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}methodBody(){let localctx=new MethodBodyContext(this,this._ctx,this.state);this.enterRule(localctx,70,ProcessingParser.RULE_methodBody);try{switch(this.state=635,this._errHandler.sync(this),this._input.LA(1)){case 70:this.enterOuterAlt(localctx,1),this.state=633,this.block();break;case 74:this.enterOuterAlt(localctx,2),this.state=634,this.match(ProcessingParser.SEMI);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}typeTypeOrVoid(){let localctx=new TypeTypeOrVoidContext(this,this._ctx,this.state);this.enterRule(localctx,72,ProcessingParser.RULE_typeTypeOrVoid);try{switch(this.state=639,this._errHandler.sync(this),this._input.LA(1)){case 1:case 9:case 11:case 14:case 20:case 26:case 33:case 35:case 43:case 54:case 113:case 115:this.enterOuterAlt(localctx,1),this.state=637,this.typeType();break;case 55:this.enterOuterAlt(localctx,2),this.state=638,this.match(ProcessingParser.VOID);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}genericMethodDeclaration(){let localctx=new GenericMethodDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,74,ProcessingParser.RULE_genericMethodDeclaration);try{this.enterOuterAlt(localctx,1),this.state=641,this.typeParameters(),this.state=642,this.methodDeclaration()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}genericConstructorDeclaration(){let localctx=new GenericConstructorDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,76,ProcessingParser.RULE_genericConstructorDeclaration);try{this.enterOuterAlt(localctx,1),this.state=644,this.typeParameters(),this.state=645,this.constructorDeclaration()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}constructorDeclaration(){let localctx=new ConstructorDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,78,ProcessingParser.RULE_constructorDeclaration);let _la;try{this.enterOuterAlt(localctx,1),this.state=647,this.match(ProcessingParser.IDENTIFIER),this.state=648,this.formalParameters(),this.state=651,this._errHandler.sync(this),_la=this._input.LA(1),_la===51&&(this.state=649,this.match(ProcessingParser.THROWS),this.state=650,this.qualifiedNameList()),this.state=653,localctx._constructorBody=this.block()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}fieldDeclaration(){let localctx=new FieldDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,80,ProcessingParser.RULE_fieldDeclaration);try{this.enterOuterAlt(localctx,1),this.state=655,this.typeType(),this.state=656,this.variableDeclarators(),this.state=657,this.match(ProcessingParser.SEMI)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}interfaceBodyDeclaration(){let localctx=new InterfaceBodyDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,82,ProcessingParser.RULE_interfaceBodyDeclaration);try{let _alt;switch(this.state=667,this._errHandler.sync(this),this._input.LA(1)){case 1:case 7:case 9:case 11:case 14:case 15:case 18:case 20:case 22:case 24:case 26:case 33:case 34:case 35:case 36:case 39:case 40:case 41:case 43:case 44:case 45:case 48:case 52:case 54:case 55:case 56:case 79:case 113:case 115:this.enterOuterAlt(localctx,1);{for(this.state=662,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,71,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=659,this.modifier()),this.state=664,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,71,this._ctx);this.state=665,this.interfaceMemberDeclaration()}break;case 74:this.enterOuterAlt(localctx,2),this.state=666,this.match(ProcessingParser.SEMI);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}interfaceMemberDeclaration(){let localctx=new InterfaceMemberDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,84,ProcessingParser.RULE_interfaceMemberDeclaration);try{switch(this.state=676,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,73,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=669,this.constDeclaration();break;case 2:this.enterOuterAlt(localctx,2),this.state=670,this.interfaceMethodDeclaration();break;case 3:this.enterOuterAlt(localctx,3),this.state=671,this.genericInterfaceMethodDeclaration();break;case 4:this.enterOuterAlt(localctx,4),this.state=672,this.interfaceDeclaration();break;case 5:this.enterOuterAlt(localctx,5),this.state=673,this.annotationTypeDeclaration();break;case 6:this.enterOuterAlt(localctx,6),this.state=674,this.classDeclaration();break;case 7:this.enterOuterAlt(localctx,7),this.state=675,this.enumDeclaration();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}constDeclaration(){let localctx=new ConstDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,86,ProcessingParser.RULE_constDeclaration);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=678,this.typeType(),this.state=679,this.constantDeclarator(),this.state=684,this._errHandler.sync(this),_la=this._input.LA(1);_la===75;)this.state=680,this.match(ProcessingParser.COMMA),this.state=681,this.constantDeclarator(),this.state=686,this._errHandler.sync(this),_la=this._input.LA(1);this.state=687,this.match(ProcessingParser.SEMI)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}constantDeclarator(){let localctx=new ConstantDeclaratorContext(this,this._ctx,this.state);this.enterRule(localctx,88,ProcessingParser.RULE_constantDeclarator);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=689,this.match(ProcessingParser.IDENTIFIER),this.state=694,this._errHandler.sync(this),_la=this._input.LA(1);_la===72;)this.state=690,this.match(ProcessingParser.LBRACK),this.state=691,this.match(ProcessingParser.RBRACK),this.state=696,this._errHandler.sync(this),_la=this._input.LA(1);this.state=697,this.match(ProcessingParser.ASSIGN),this.state=698,this.variableInitializer()}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}interfaceMethodDeclaration(){let localctx=new InterfaceMethodDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,90,ProcessingParser.RULE_interfaceMethodDeclaration);let _la;try{let _alt;this.enterOuterAlt(localctx,1);{for(this.state=703,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,76,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=700,this.interfaceMethodModifier()),this.state=705,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,76,this._ctx);switch(this.state=716,this._errHandler.sync(this),this._input.LA(1)){case 1:case 9:case 11:case 14:case 20:case 26:case 33:case 35:case 43:case 54:case 55:case 113:case 115:this.state=706,this.typeTypeOrVoid();break;case 79:{for(this.state=707,this.typeParameters(),this.state=711,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,77,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=708,this.annotation()),this.state=713,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,77,this._ctx);this.state=714,this.typeTypeOrVoid()}break;default:throw new dn(this)}for(this.state=718,this.match(ProcessingParser.IDENTIFIER),this.state=719,this.formalParameters(),this.state=724,this._errHandler.sync(this),_la=this._input.LA(1);_la===72;)this.state=720,this.match(ProcessingParser.LBRACK),this.state=721,this.match(ProcessingParser.RBRACK),this.state=726,this._errHandler.sync(this),_la=this._input.LA(1);this.state=729,this._errHandler.sync(this),_la=this._input.LA(1),_la===51&&(this.state=727,this.match(ProcessingParser.THROWS),this.state=728,this.qualifiedNameList()),this.state=731,this.methodBody()}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}interfaceMethodModifier(){let localctx=new InterfaceMethodModifierContext(this,this._ctx,this.state);this.enterRule(localctx,92,ProcessingParser.RULE_interfaceMethodModifier);try{switch(this.state=739,this._errHandler.sync(this),this._input.LA(1)){case 113:this.enterOuterAlt(localctx,1),this.state=733,this.annotation();break;case 41:this.enterOuterAlt(localctx,2),this.state=734,this.match(ProcessingParser.PUBLIC);break;case 7:this.enterOuterAlt(localctx,3),this.state=735,this.match(ProcessingParser.ABSTRACT);break;case 18:this.enterOuterAlt(localctx,4),this.state=736,this.match(ProcessingParser.DEFAULT);break;case 44:this.enterOuterAlt(localctx,5),this.state=737,this.match(ProcessingParser.STATIC);break;case 45:this.enterOuterAlt(localctx,6),this.state=738,this.match(ProcessingParser.STRICTFP);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}genericInterfaceMethodDeclaration(){let localctx=new GenericInterfaceMethodDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,94,ProcessingParser.RULE_genericInterfaceMethodDeclaration);try{this.enterOuterAlt(localctx,1),this.state=741,this.typeParameters(),this.state=742,this.interfaceMethodDeclaration()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}variableDeclarators(){let localctx=new VariableDeclaratorsContext(this,this._ctx,this.state);this.enterRule(localctx,96,ProcessingParser.RULE_variableDeclarators);let _la;try{for(this.enterOuterAlt(localctx,1),this.state=744,this.variableDeclarator(),this.state=749,this._errHandler.sync(this),_la=this._input.LA(1);_la===75;)this.state=745,this.match(ProcessingParser.COMMA),this.state=746,this.variableDeclarator(),this.state=751,this._errHandler.sync(this),_la=this._input.LA(1)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}variableDeclarator(){let localctx=new VariableDeclaratorContext(this,this._ctx,this.state);this.enterRule(localctx,98,ProcessingParser.RULE_variableDeclarator);let _la;try{this.enterOuterAlt(localctx,1),this.state=752,this.variableDeclaratorId(),this.state=755,this._errHandler.sync(this),_la=this._input.LA(1),_la===77&&(this.state=753,this.match(ProcessingParser.ASSIGN),this.state=754,this.variableInitializer())}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}variableInitializer(){let localctx=new VariableInitializerContext(this,this._ctx,this.state);this.enterRule(localctx,100,ProcessingParser.RULE_variableInitializer);try{switch(this.state=759,this._errHandler.sync(this),this._input.LA(1)){case 70:this.enterOuterAlt(localctx,1),this.state=757,this.arrayInitializer();break;case 1:case 2:case 6:case 9:case 11:case 14:case 20:case 26:case 33:case 35:case 37:case 43:case 46:case 49:case 54:case 55:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 79:case 80:case 81:case 90:case 91:case 92:case 93:case 113:case 115:this.enterOuterAlt(localctx,2),this.state=758,this.expression(0);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}arrayInitializer(){let localctx=new ArrayInitializerContext(this,this._ctx,this.state);this.enterRule(localctx,102,ProcessingParser.RULE_arrayInitializer);let _la;try{let _alt;this.enterOuterAlt(localctx,1);{if(this.state=761,this.match(ProcessingParser.LBRACE),this.state=773,this._errHandler.sync(this),_la=this._input.LA(1),(_la&-32)===0&&(1<<_la&68176454)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431215)!==0||_la===113||_la===115){for(this.state=762,this.variableInitializer(),this.state=767,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,85,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=763,this.match(ProcessingParser.COMMA),this.state=764,this.variableInitializer()),this.state=769,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,85,this._ctx);this.state=771,this._errHandler.sync(this),_la=this._input.LA(1),_la===75&&(this.state=770,this.match(ProcessingParser.COMMA))}this.state=775,this.match(ProcessingParser.RBRACE)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}classOrInterfaceType(){let localctx=new ClassOrInterfaceTypeContext(this,this._ctx,this.state);this.enterRule(localctx,104,ProcessingParser.RULE_classOrInterfaceType);try{let _alt;this.enterOuterAlt(localctx,1);{switch(this.state=777,this.match(ProcessingParser.IDENTIFIER),this.state=779,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,88,this._ctx)){case 1:this.state=778,this.typeArguments();break}for(this.state=788,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,90,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;){if(_alt===1)switch(this.state=781,this.match(ProcessingParser.DOT),this.state=782,this.match(ProcessingParser.IDENTIFIER),this.state=784,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,89,this._ctx)){case 1:this.state=783,this.typeArguments();break}this.state=790,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,90,this._ctx)}}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}typeArgument(){let localctx=new TypeArgumentContext(this,this._ctx,this.state);this.enterRule(localctx,106,ProcessingParser.RULE_typeArgument);let _la;try{switch(this.state=797,this._errHandler.sync(this),this._input.LA(1)){case 1:case 9:case 11:case 14:case 20:case 26:case 33:case 35:case 43:case 54:case 113:case 115:this.enterOuterAlt(localctx,1),this.state=791,this.typeType();break;case 82:this.enterOuterAlt(localctx,2),this.state=792,this.match(ProcessingParser.QUESTION),this.state=795,this._errHandler.sync(this),_la=this._input.LA(1),(_la===23||_la===46)&&(this.state=793,_la=this._input.LA(1),_la===23||_la===46?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=794,this.typeType());break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}qualifiedNameList(){let localctx=new QualifiedNameListContext(this,this._ctx,this.state);this.enterRule(localctx,108,ProcessingParser.RULE_qualifiedNameList);let _la;try{for(this.enterOuterAlt(localctx,1),this.state=799,this.qualifiedName(),this.state=804,this._errHandler.sync(this),_la=this._input.LA(1);_la===75;)this.state=800,this.match(ProcessingParser.COMMA),this.state=801,this.qualifiedName(),this.state=806,this._errHandler.sync(this),_la=this._input.LA(1)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}formalParameters(){let localctx=new FormalParametersContext(this,this._ctx,this.state);this.enterRule(localctx,110,ProcessingParser.RULE_formalParameters);let _la;try{this.enterOuterAlt(localctx,1),this.state=807,this.match(ProcessingParser.LPAREN),this.state=809,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&84953602)!==0||(_la-33&-32)===0&&(1<<_la-33&2098181)!==0||_la===113||_la===115)&&(this.state=808,this.formalParameterList()),this.state=811,this.match(ProcessingParser.RPAREN)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}formalParameterList(){let localctx=new FormalParameterListContext(this,this._ctx,this.state);this.enterRule(localctx,112,ProcessingParser.RULE_formalParameterList);let _la;try{let _alt;switch(this.state=826,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,97,this._ctx)){case 1:this.enterOuterAlt(localctx,1);{for(this.state=813,this.formalParameter(),this.state=818,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,95,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=814,this.match(ProcessingParser.COMMA),this.state=815,this.formalParameter()),this.state=820,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,95,this._ctx);this.state=823,this._errHandler.sync(this),_la=this._input.LA(1),_la===75&&(this.state=821,this.match(ProcessingParser.COMMA),this.state=822,this.lastFormalParameter())}break;case 2:this.enterOuterAlt(localctx,2),this.state=825,this.lastFormalParameter();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}formalParameter(){let localctx=new FormalParameterContext(this,this._ctx,this.state);this.enterRule(localctx,114,ProcessingParser.RULE_formalParameter);try{let _alt;this.enterOuterAlt(localctx,1);{for(this.state=831,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,98,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=828,this.variableModifier()),this.state=833,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,98,this._ctx);this.state=834,this.typeType(),this.state=835,this.variableDeclaratorId()}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}lastFormalParameter(){let localctx=new LastFormalParameterContext(this,this._ctx,this.state);this.enterRule(localctx,116,ProcessingParser.RULE_lastFormalParameter);try{let _alt;this.enterOuterAlt(localctx,1);{for(this.state=840,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,99,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=837,this.variableModifier()),this.state=842,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,99,this._ctx);this.state=843,this.typeType(),this.state=844,this.match(ProcessingParser.ELLIPSIS),this.state=845,this.variableDeclaratorId()}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}baseStringLiteral(){let localctx=new BaseStringLiteralContext(this,this._ctx,this.state);this.enterRule(localctx,118,ProcessingParser.RULE_baseStringLiteral);try{this.enterOuterAlt(localctx,1),this.state=847,this.match(ProcessingParser.STRING_LITERAL)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}multilineStringLiteral(){let localctx=new MultilineStringLiteralContext(this,this._ctx,this.state);this.enterRule(localctx,120,ProcessingParser.RULE_multilineStringLiteral);try{this.enterOuterAlt(localctx,1),this.state=849,this.match(ProcessingParser.MULTI_STRING_LIT)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}stringLiteral(){let localctx=new StringLiteralContext(this,this._ctx,this.state);this.enterRule(localctx,122,ProcessingParser.RULE_stringLiteral);try{switch(this.state=853,this._errHandler.sync(this),this._input.LA(1)){case 65:this.enterOuterAlt(localctx,1),this.state=851,this.baseStringLiteral();break;case 66:this.enterOuterAlt(localctx,2),this.state=852,this.multilineStringLiteral();break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}integerLiteral(){let localctx=new IntegerLiteralContext(this,this._ctx,this.state);this.enterRule(localctx,124,ProcessingParser.RULE_integerLiteral);let _la;try{this.enterOuterAlt(localctx,1),this.state=855,_la=this._input.LA(1),(_la-58&-32)===0&&(1<<_la-58&15)!==0?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}floatLiteral(){let localctx=new FloatLiteralContext(this,this._ctx,this.state);this.enterRule(localctx,126,ProcessingParser.RULE_floatLiteral);let _la;try{this.enterOuterAlt(localctx,1),this.state=857,_la=this._input.LA(1),_la===62||_la===63?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}annotation(){let localctx=new AnnotationContext(this,this._ctx,this.state);this.enterRule(localctx,128,ProcessingParser.RULE_annotation);let _la;try{if(this.enterOuterAlt(localctx,1),this.state=859,this.match(ProcessingParser.AT),this.state=860,this.qualifiedName(),this.state=867,this._errHandler.sync(this),_la=this._input.LA(1),_la===68){switch(this.state=861,this.match(ProcessingParser.LPAREN),this.state=864,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,101,this._ctx)){case 1:this.state=862,this.elementValuePairs();break;case 2:this.state=863,this.elementValue();break}this.state=866,this.match(ProcessingParser.RPAREN)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}elementValuePairs(){let localctx=new ElementValuePairsContext(this,this._ctx,this.state);this.enterRule(localctx,130,ProcessingParser.RULE_elementValuePairs);let _la;try{for(this.enterOuterAlt(localctx,1),this.state=869,this.elementValuePair(),this.state=874,this._errHandler.sync(this),_la=this._input.LA(1);_la===75;)this.state=870,this.match(ProcessingParser.COMMA),this.state=871,this.elementValuePair(),this.state=876,this._errHandler.sync(this),_la=this._input.LA(1)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}elementValuePair(){let localctx=new ElementValuePairContext(this,this._ctx,this.state);this.enterRule(localctx,132,ProcessingParser.RULE_elementValuePair);try{this.enterOuterAlt(localctx,1),this.state=877,this.match(ProcessingParser.IDENTIFIER),this.state=878,this.match(ProcessingParser.ASSIGN),this.state=879,this.elementValue()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}elementValue(){let localctx=new ElementValueContext(this,this._ctx,this.state);this.enterRule(localctx,134,ProcessingParser.RULE_elementValue);try{switch(this.state=884,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,104,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=881,this.expression(0);break;case 2:this.enterOuterAlt(localctx,2),this.state=882,this.annotation();break;case 3:this.enterOuterAlt(localctx,3),this.state=883,this.elementValueArrayInitializer();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}elementValueArrayInitializer(){let localctx=new ElementValueArrayInitializerContext(this,this._ctx,this.state);this.enterRule(localctx,136,ProcessingParser.RULE_elementValueArrayInitializer);let _la;try{let _alt;this.enterOuterAlt(localctx,1);{if(this.state=886,this.match(ProcessingParser.LBRACE),this.state=895,this._errHandler.sync(this),_la=this._input.LA(1),(_la&-32)===0&&(1<<_la&68176454)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431215)!==0||_la===113||_la===115)for(this.state=887,this.elementValue(),this.state=892,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,105,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=888,this.match(ProcessingParser.COMMA),this.state=889,this.elementValue()),this.state=894,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,105,this._ctx);this.state=898,this._errHandler.sync(this),_la=this._input.LA(1),_la===75&&(this.state=897,this.match(ProcessingParser.COMMA)),this.state=900,this.match(ProcessingParser.RBRACE)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}annotationTypeDeclaration(){let localctx=new AnnotationTypeDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,138,ProcessingParser.RULE_annotationTypeDeclaration);try{this.enterOuterAlt(localctx,1),this.state=902,this.match(ProcessingParser.AT),this.state=903,this.match(ProcessingParser.INTERFACE),this.state=904,this.match(ProcessingParser.IDENTIFIER),this.state=905,this.annotationTypeBody()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}annotationTypeBody(){let localctx=new AnnotationTypeBodyContext(this,this._ctx,this.state);this.enterRule(localctx,140,ProcessingParser.RULE_annotationTypeBody);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=907,this.match(ProcessingParser.LBRACE),this.state=911,this._errHandler.sync(this),_la=this._input.LA(1);(_la&-32)===0&&(1<<_la&89180802)!==0||(_la-33&-32)===0&&(1<<_la-33&11050447)!==0||_la===74||_la===113||_la===115;)this.state=908,this.annotationTypeElementDeclaration(),this.state=913,this._errHandler.sync(this),_la=this._input.LA(1);this.state=914,this.match(ProcessingParser.RBRACE)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}annotationTypeElementDeclaration(){let localctx=new AnnotationTypeElementDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,142,ProcessingParser.RULE_annotationTypeElementDeclaration);try{let _alt;switch(this.state=924,this._errHandler.sync(this),this._input.LA(1)){case 1:case 7:case 9:case 11:case 14:case 15:case 20:case 22:case 24:case 26:case 33:case 34:case 35:case 36:case 39:case 40:case 41:case 43:case 44:case 45:case 48:case 52:case 54:case 56:case 113:case 115:this.enterOuterAlt(localctx,1);{for(this.state=919,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,109,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=916,this.modifier()),this.state=921,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,109,this._ctx);this.state=922,this.annotationTypeElementRest()}break;case 74:this.enterOuterAlt(localctx,2),this.state=923,this.match(ProcessingParser.SEMI);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}annotationTypeElementRest(){let localctx=new AnnotationTypeElementRestContext(this,this._ctx,this.state);this.enterRule(localctx,144,ProcessingParser.RULE_annotationTypeElementRest);try{switch(this.state=946,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,115,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=926,this.typeType(),this.state=927,this.annotationMethodOrConstantRest(),this.state=928,this.match(ProcessingParser.SEMI);break;case 2:switch(this.enterOuterAlt(localctx,2),this.state=930,this.classDeclaration(),this.state=932,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,111,this._ctx)){case 1:this.state=931,this.match(ProcessingParser.SEMI);break}break;case 3:switch(this.enterOuterAlt(localctx,3),this.state=934,this.interfaceDeclaration(),this.state=936,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,112,this._ctx)){case 1:this.state=935,this.match(ProcessingParser.SEMI);break}break;case 4:switch(this.enterOuterAlt(localctx,4),this.state=938,this.enumDeclaration(),this.state=940,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,113,this._ctx)){case 1:this.state=939,this.match(ProcessingParser.SEMI);break}break;case 5:switch(this.enterOuterAlt(localctx,5),this.state=942,this.annotationTypeDeclaration(),this.state=944,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,114,this._ctx)){case 1:this.state=943,this.match(ProcessingParser.SEMI);break}break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}annotationMethodOrConstantRest(){let localctx=new AnnotationMethodOrConstantRestContext(this,this._ctx,this.state);this.enterRule(localctx,146,ProcessingParser.RULE_annotationMethodOrConstantRest);try{switch(this.state=950,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,116,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=948,this.annotationMethodRest();break;case 2:this.enterOuterAlt(localctx,2),this.state=949,this.annotationConstantRest();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}annotationMethodRest(){let localctx=new AnnotationMethodRestContext(this,this._ctx,this.state);this.enterRule(localctx,148,ProcessingParser.RULE_annotationMethodRest);let _la;try{this.enterOuterAlt(localctx,1),this.state=952,this.match(ProcessingParser.IDENTIFIER),this.state=953,this.match(ProcessingParser.LPAREN),this.state=954,this.match(ProcessingParser.RPAREN),this.state=956,this._errHandler.sync(this),_la=this._input.LA(1),_la===18&&(this.state=955,this.defaultValue())}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}annotationConstantRest(){let localctx=new AnnotationConstantRestContext(this,this._ctx,this.state);this.enterRule(localctx,150,ProcessingParser.RULE_annotationConstantRest);try{this.enterOuterAlt(localctx,1),this.state=958,this.variableDeclarators()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}defaultValue(){let localctx=new DefaultValueContext(this,this._ctx,this.state);this.enterRule(localctx,152,ProcessingParser.RULE_defaultValue);try{this.enterOuterAlt(localctx,1),this.state=960,this.match(ProcessingParser.DEFAULT),this.state=961,this.elementValue()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}block(){let localctx=new BlockContext(this,this._ctx,this.state);this.enterRule(localctx,154,ProcessingParser.RULE_block);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=963,this.match(ProcessingParser.LBRACE),this.state=967,this._errHandler.sync(this),_la=this._input.LA(1);(_la&-32)===0&&(1<<_la&488296390)!==0||(_la-33&-32)===0&&(1<<_la-33&4285792215)!==0||(_la-65&-32)===0&&(1<<_la-65&503431727)!==0||_la===113||_la===115;)this.state=964,this.blockStatement(),this.state=969,this._errHandler.sync(this),_la=this._input.LA(1);this.state=970,this.match(ProcessingParser.RBRACE)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}blockStatement(){let localctx=new BlockStatementContext(this,this._ctx,this.state);this.enterRule(localctx,156,ProcessingParser.RULE_blockStatement);try{switch(this.state=977,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,119,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=972,this.localVariableDeclaration(),this.state=973,this.match(ProcessingParser.SEMI);break;case 2:this.enterOuterAlt(localctx,2),this.state=975,this.statement();break;case 3:this.enterOuterAlt(localctx,3),this.state=976,this.localTypeDeclaration();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}localVariableDeclaration(){let localctx=new LocalVariableDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,158,ProcessingParser.RULE_localVariableDeclaration);try{let _alt;this.enterOuterAlt(localctx,1);{for(this.state=982,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,120,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=979,this.variableModifier()),this.state=984,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,120,this._ctx);this.state=985,this.typeType(),this.state=986,this.variableDeclarators()}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}localTypeDeclaration(){let localctx=new LocalTypeDeclarationContext(this,this._ctx,this.state);this.enterRule(localctx,160,ProcessingParser.RULE_localTypeDeclaration);let _la;try{switch(this.state=999,this._errHandler.sync(this),this._input.LA(1)){case 7:case 15:case 24:case 34:case 39:case 40:case 41:case 44:case 45:case 113:this.enterOuterAlt(localctx,1);{for(this.state=991,this._errHandler.sync(this),_la=this._input.LA(1);_la===7||_la===24||(_la-39&-32)===0&&(1<<_la-39&103)!==0||_la===113;)this.state=988,this.classOrInterfaceModifier(),this.state=993,this._errHandler.sync(this),_la=this._input.LA(1);switch(this.state=996,this._errHandler.sync(this),this._input.LA(1)){case 15:this.state=994,this.classDeclaration();break;case 34:this.state=995,this.interfaceDeclaration();break;default:throw new dn(this)}}break;case 74:this.enterOuterAlt(localctx,2),this.state=998,this.match(ProcessingParser.SEMI);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}statement(){let localctx=new StatementContext(this,this._ctx,this.state);this.enterRule(localctx,162,ProcessingParser.RULE_statement);let _la;try{let _alt;switch(this.state=1105,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,136,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=1001,localctx._blockLabel=this.block();break;case 2:this.enterOuterAlt(localctx,2),this.state=1002,this.match(ProcessingParser.ASSERT),this.state=1003,this.expression(0),this.state=1006,this._errHandler.sync(this),_la=this._input.LA(1),_la===83&&(this.state=1004,this.match(ProcessingParser.COLON),this.state=1005,this.expression(0)),this.state=1008,this.match(ProcessingParser.SEMI);break;case 3:switch(this.enterOuterAlt(localctx,3),this.state=1010,this.match(ProcessingParser.IF),this.state=1011,this.parExpression(),this.state=1012,this.statement(),this.state=1015,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,125,this._ctx)){case 1:this.state=1013,this.match(ProcessingParser.ELSE),this.state=1014,this.statement();break}break;case 4:this.enterOuterAlt(localctx,4),this.state=1017,this.match(ProcessingParser.FOR),this.state=1018,this.match(ProcessingParser.LPAREN),this.state=1019,this.forControl(),this.state=1020,this.match(ProcessingParser.RPAREN),this.state=1021,this.statement();break;case 5:this.enterOuterAlt(localctx,5),this.state=1023,this.match(ProcessingParser.WHILE),this.state=1024,this.parExpression(),this.state=1025,this.statement();break;case 6:this.enterOuterAlt(localctx,6),this.state=1027,this.match(ProcessingParser.DO),this.state=1028,this.statement(),this.state=1029,this.match(ProcessingParser.WHILE),this.state=1030,this.parExpression(),this.state=1031,this.match(ProcessingParser.SEMI);break;case 7:switch(this.enterOuterAlt(localctx,7),this.state=1033,this.match(ProcessingParser.TRY),this.state=1034,this.block(),this.state=1044,this._errHandler.sync(this),this._input.LA(1)){case 13:{this.state=1036,this._errHandler.sync(this),_la=this._input.LA(1);do this.state=1035,this.catchClause(),this.state=1038,this._errHandler.sync(this),_la=this._input.LA(1);while(_la===13);this.state=1041,this._errHandler.sync(this),_la=this._input.LA(1),_la===25&&(this.state=1040,this.finallyBlock())}break;case 25:this.state=1043,this.finallyBlock();break;default:throw new dn(this)}break;case 8:this.enterOuterAlt(localctx,8);{for(this.state=1046,this.match(ProcessingParser.TRY),this.state=1047,this.resourceSpecification(),this.state=1048,this.block(),this.state=1052,this._errHandler.sync(this),_la=this._input.LA(1);_la===13;)this.state=1049,this.catchClause(),this.state=1054,this._errHandler.sync(this),_la=this._input.LA(1);this.state=1056,this._errHandler.sync(this),_la=this._input.LA(1),_la===25&&(this.state=1055,this.finallyBlock())}break;case 9:this.enterOuterAlt(localctx,9);{for(this.state=1058,this.match(ProcessingParser.SWITCH),this.state=1059,this.parExpression(),this.state=1060,this.match(ProcessingParser.LBRACE),this.state=1064,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,131,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=1061,this.switchBlockStatementGroup()),this.state=1066,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,131,this._ctx);for(this.state=1070,this._errHandler.sync(this),_la=this._input.LA(1);_la===12||_la===18;)this.state=1067,this.switchLabel(),this.state=1072,this._errHandler.sync(this),_la=this._input.LA(1);this.state=1073,this.match(ProcessingParser.RBRACE)}break;case 10:this.enterOuterAlt(localctx,10),this.state=1075,this.match(ProcessingParser.SYNCHRONIZED),this.state=1076,this.parExpression(),this.state=1077,this.block();break;case 11:this.enterOuterAlt(localctx,11),this.state=1079,this.match(ProcessingParser.RETURN),this.state=1081,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&68176454)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431183)!==0||_la===113||_la===115)&&(this.state=1080,this.expression(0)),this.state=1083,this.match(ProcessingParser.SEMI);break;case 12:this.enterOuterAlt(localctx,12),this.state=1084,this.match(ProcessingParser.THROW),this.state=1085,this.expression(0),this.state=1086,this.match(ProcessingParser.SEMI);break;case 13:this.enterOuterAlt(localctx,13),this.state=1088,this.match(ProcessingParser.BREAK),this.state=1090,this._errHandler.sync(this),_la=this._input.LA(1),_la===115&&(this.state=1089,this.match(ProcessingParser.IDENTIFIER)),this.state=1092,this.match(ProcessingParser.SEMI);break;case 14:this.enterOuterAlt(localctx,14),this.state=1093,this.match(ProcessingParser.CONTINUE),this.state=1095,this._errHandler.sync(this),_la=this._input.LA(1),_la===115&&(this.state=1094,this.match(ProcessingParser.IDENTIFIER)),this.state=1097,this.match(ProcessingParser.SEMI);break;case 15:this.enterOuterAlt(localctx,15),this.state=1098,this.match(ProcessingParser.SEMI);break;case 16:this.enterOuterAlt(localctx,16),this.state=1099,localctx._statementExpression=this.expression(0),this.state=1100,this.match(ProcessingParser.SEMI);break;case 17:this.enterOuterAlt(localctx,17),this.state=1102,localctx._identifierLabel=this.match(ProcessingParser.IDENTIFIER),this.state=1103,this.match(ProcessingParser.COLON),this.state=1104,this.statement();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}catchClause(){let localctx=new CatchClauseContext(this,this._ctx,this.state);this.enterRule(localctx,164,ProcessingParser.RULE_catchClause);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=1107,this.match(ProcessingParser.CATCH),this.state=1108,this.match(ProcessingParser.LPAREN),this.state=1112,this._errHandler.sync(this),_la=this._input.LA(1);_la===24||_la===113;)this.state=1109,this.variableModifier(),this.state=1114,this._errHandler.sync(this),_la=this._input.LA(1);this.state=1115,this.catchType(),this.state=1116,this.match(ProcessingParser.IDENTIFIER),this.state=1117,this.match(ProcessingParser.RPAREN),this.state=1118,this.block()}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}catchType(){let localctx=new CatchTypeContext(this,this._ctx,this.state);this.enterRule(localctx,166,ProcessingParser.RULE_catchType);let _la;try{for(this.enterOuterAlt(localctx,1),this.state=1120,this.qualifiedName(),this.state=1125,this._errHandler.sync(this),_la=this._input.LA(1);_la===97;)this.state=1121,this.match(ProcessingParser.BITOR),this.state=1122,this.qualifiedName(),this.state=1127,this._errHandler.sync(this),_la=this._input.LA(1)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}finallyBlock(){let localctx=new FinallyBlockContext(this,this._ctx,this.state);this.enterRule(localctx,168,ProcessingParser.RULE_finallyBlock);try{this.enterOuterAlt(localctx,1),this.state=1128,this.match(ProcessingParser.FINALLY),this.state=1129,this.block()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}resourceSpecification(){let localctx=new ResourceSpecificationContext(this,this._ctx,this.state);this.enterRule(localctx,170,ProcessingParser.RULE_resourceSpecification);let _la;try{this.enterOuterAlt(localctx,1),this.state=1131,this.match(ProcessingParser.LPAREN),this.state=1132,this.resources(),this.state=1134,this._errHandler.sync(this),_la=this._input.LA(1),_la===74&&(this.state=1133,this.match(ProcessingParser.SEMI)),this.state=1136,this.match(ProcessingParser.RPAREN)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}resources(){let localctx=new ResourcesContext(this,this._ctx,this.state);this.enterRule(localctx,172,ProcessingParser.RULE_resources);try{let _alt;for(this.enterOuterAlt(localctx,1),this.state=1138,this.resource(),this.state=1143,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,140,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=1139,this.match(ProcessingParser.SEMI),this.state=1140,this.resource()),this.state=1145,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,140,this._ctx)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}resource(){let localctx=new ResourceContext(this,this._ctx,this.state);this.enterRule(localctx,174,ProcessingParser.RULE_resource);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=1149,this._errHandler.sync(this),_la=this._input.LA(1);_la===24||_la===113;)this.state=1146,this.variableModifier(),this.state=1151,this._errHandler.sync(this),_la=this._input.LA(1);this.state=1152,this.classOrInterfaceType(),this.state=1153,this.variableDeclaratorId(),this.state=1154,this.match(ProcessingParser.ASSIGN),this.state=1155,this.expression(0)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}switchBlockStatementGroup(){let localctx=new SwitchBlockStatementGroupContext(this,this._ctx,this.state);this.enterRule(localctx,176,ProcessingParser.RULE_switchBlockStatementGroup);let _la;try{this.enterOuterAlt(localctx,1);{this.state=1158,this._errHandler.sync(this),_la=this._input.LA(1);do this.state=1157,this.switchLabel(),this.state=1160,this._errHandler.sync(this),_la=this._input.LA(1);while(_la===12||_la===18);this.state=1163,this._errHandler.sync(this),_la=this._input.LA(1);do this.state=1162,this.blockStatement(),this.state=1165,this._errHandler.sync(this),_la=this._input.LA(1);while((_la&-32)===0&&(1<<_la&488296390)!==0||(_la-33&-32)===0&&(1<<_la-33&4285792215)!==0||(_la-65&-32)===0&&(1<<_la-65&503431727)!==0||_la===113||_la===115)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}switchLabel(){let localctx=new SwitchLabelContext(this,this._ctx,this.state);this.enterRule(localctx,178,ProcessingParser.RULE_switchLabel);try{switch(this.state=1175,this._errHandler.sync(this),this._input.LA(1)){case 12:this.enterOuterAlt(localctx,1);{switch(this.state=1167,this.match(ProcessingParser.CASE),this.state=1170,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,144,this._ctx)){case 1:this.state=1168,localctx._constantExpression=this.expression(0);break;case 2:this.state=1169,localctx._enumConstantName=this.match(ProcessingParser.IDENTIFIER);break}this.state=1172,this.match(ProcessingParser.COLON)}break;case 18:this.enterOuterAlt(localctx,2),this.state=1173,this.match(ProcessingParser.DEFAULT),this.state=1174,this.match(ProcessingParser.COLON);break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}forControl(){let localctx=new ForControlContext(this,this._ctx,this.state);this.enterRule(localctx,180,ProcessingParser.RULE_forControl);let _la;try{switch(this.state=1189,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,149,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=1177,this.enhancedForControl();break;case 2:this.enterOuterAlt(localctx,2),this.state=1179,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&84953670)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431183)!==0||_la===113||_la===115)&&(this.state=1178,this.forInit()),this.state=1181,this.match(ProcessingParser.SEMI),this.state=1183,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&68176454)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431183)!==0||_la===113||_la===115)&&(this.state=1182,this.expression(0)),this.state=1185,this.match(ProcessingParser.SEMI),this.state=1187,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&68176454)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431183)!==0||_la===113||_la===115)&&(this.state=1186,localctx._forUpdate=this.expressionList());break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}forInit(){let localctx=new ForInitContext(this,this._ctx,this.state);this.enterRule(localctx,182,ProcessingParser.RULE_forInit);try{switch(this.state=1193,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,150,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=1191,this.localVariableDeclaration();break;case 2:this.enterOuterAlt(localctx,2),this.state=1192,this.expressionList();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}enhancedForControl(){let localctx=new EnhancedForControlContext(this,this._ctx,this.state);this.enterRule(localctx,184,ProcessingParser.RULE_enhancedForControl);try{let _alt;this.enterOuterAlt(localctx,1);{for(this.state=1198,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,151,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=1195,this.variableModifier()),this.state=1200,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,151,this._ctx);this.state=1201,this.typeType(),this.state=1202,this.variableDeclaratorId(),this.state=1203,this.match(ProcessingParser.COLON),this.state=1204,this.expression(0)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}parExpression(){let localctx=new ParExpressionContext(this,this._ctx,this.state);this.enterRule(localctx,186,ProcessingParser.RULE_parExpression);try{this.enterOuterAlt(localctx,1),this.state=1206,this.match(ProcessingParser.LPAREN),this.state=1207,this.expression(0),this.state=1208,this.match(ProcessingParser.RPAREN)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}expressionList(){let localctx=new ExpressionListContext(this,this._ctx,this.state);this.enterRule(localctx,188,ProcessingParser.RULE_expressionList);let _la;try{for(this.enterOuterAlt(localctx,1),this.state=1210,this.expression(0),this.state=1215,this._errHandler.sync(this),_la=this._input.LA(1);_la===75;)this.state=1211,this.match(ProcessingParser.COMMA),this.state=1212,this.expression(0),this.state=1217,this._errHandler.sync(this),_la=this._input.LA(1)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}expression(_p){_p===void 0&&(_p=0);let _parentctx=this._ctx,_parentState=this.state,localctx=new ExpressionContext(this,this._ctx,_parentState),_prevctx=localctx,_startState=190;this.enterRecursionRule(localctx,190,ProcessingParser.RULE_expression,_p);let _la;try{let _alt;this.enterOuterAlt(localctx,1);{switch(this.state=1249,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,156,this._ctx)){case 1:this.state=1219,this.primary();break;case 2:this.state=1220,this.methodCall();break;case 3:this.state=1221,this.match(ProcessingParser.NEW),this.state=1222,this.creator();break;case 4:this.state=1223,this.match(ProcessingParser.LPAREN),this.state=1224,this.typeType(),this.state=1225,this.match(ProcessingParser.RPAREN),this.state=1226,this.expression(21);break;case 5:this.state=1228,localctx._prefix=this._input.LT(1),_la=this._input.LA(1),(_la-90&-32)===0&&(1<<_la-90&15)!==0?(this._errHandler.reportMatch(this),this.consume()):localctx._prefix=this._errHandler.recoverInline(this),this.state=1229,this.expression(19);break;case 6:this.state=1230,localctx._prefix=this._input.LT(1),_la=this._input.LA(1),_la===80||_la===81?(this._errHandler.reportMatch(this),this.consume()):localctx._prefix=this._errHandler.recoverInline(this),this.state=1231,this.expression(18);break;case 7:this.state=1232,this.lambdaExpression();break;case 8:switch(this.state=1233,this.typeType(),this.state=1234,this.match(ProcessingParser.COLONCOLON),this.state=1240,this._errHandler.sync(this),this._input.LA(1)){case 79:case 115:this.state=1236,this._errHandler.sync(this),_la=this._input.LA(1),_la===79&&(this.state=1235,this.typeArguments()),this.state=1238,this.match(ProcessingParser.IDENTIFIER);break;case 37:this.state=1239,this.match(ProcessingParser.NEW);break;default:throw new dn(this)}break;case 9:this.state=1242,this.classType(),this.state=1243,this.match(ProcessingParser.COLONCOLON),this.state=1245,this._errHandler.sync(this),_la=this._input.LA(1),_la===79&&(this.state=1244,this.typeArguments()),this.state=1247,this.match(ProcessingParser.NEW);break}for(this._ctx.stop=this._input.LT(-1),this.state=1331,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,162,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;){if(_alt===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),_prevctx=localctx,this.state=1329,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,161,this._ctx)){case 1:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1251,!this.precpred(this._ctx,17))throw this.createFailedPredicateException("this.precpred(this._ctx, 17)");this.state=1252,localctx._bop=this._input.LT(1),_la=this._input.LA(1),(_la-94&-32)===0&&(1<<_la-94&35)!==0?(this._errHandler.reportMatch(this),this.consume()):localctx._bop=this._errHandler.recoverInline(this),this.state=1253,this.expression(18)}break;case 2:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1254,!this.precpred(this._ctx,16))throw this.createFailedPredicateException("this.precpred(this._ctx, 16)");this.state=1255,localctx._bop=this._input.LT(1),_la=this._input.LA(1),_la===92||_la===93?(this._errHandler.reportMatch(this),this.consume()):localctx._bop=this._errHandler.recoverInline(this),this.state=1256,this.expression(17)}break;case 3:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1257,!this.precpred(this._ctx,15))throw this.createFailedPredicateException("this.precpred(this._ctx, 15)");switch(this.state=1265,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,157,this._ctx)){case 1:this.state=1258,this.match(ProcessingParser.LT),this.state=1259,this.match(ProcessingParser.LT);break;case 2:this.state=1260,this.match(ProcessingParser.GT),this.state=1261,this.match(ProcessingParser.GT),this.state=1262,this.match(ProcessingParser.GT);break;case 3:this.state=1263,this.match(ProcessingParser.GT),this.state=1264,this.match(ProcessingParser.GT);break}this.state=1267,this.expression(16)}break;case 4:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1268,!this.precpred(this._ctx,14))throw this.createFailedPredicateException("this.precpred(this._ctx, 14)");this.state=1269,localctx._bop=this._input.LT(1),_la=this._input.LA(1),(_la-78&-32)===0&&(1<<_la-78&387)!==0?(this._errHandler.reportMatch(this),this.consume()):localctx._bop=this._errHandler.recoverInline(this),this.state=1270,this.expression(15)}break;case 5:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1271,!this.precpred(this._ctx,12))throw this.createFailedPredicateException("this.precpred(this._ctx, 12)");this.state=1272,localctx._bop=this._input.LT(1),_la=this._input.LA(1),_la===84||_la===87?(this._errHandler.reportMatch(this),this.consume()):localctx._bop=this._errHandler.recoverInline(this),this.state=1273,this.expression(13)}break;case 6:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1274,!this.precpred(this._ctx,11))throw this.createFailedPredicateException("this.precpred(this._ctx, 11)");this.state=1275,localctx._bop=this.match(ProcessingParser.BITAND),this.state=1276,this.expression(12)}break;case 7:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1277,!this.precpred(this._ctx,10))throw this.createFailedPredicateException("this.precpred(this._ctx, 10)");this.state=1278,localctx._bop=this.match(ProcessingParser.CARET),this.state=1279,this.expression(11)}break;case 8:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1280,!this.precpred(this._ctx,9))throw this.createFailedPredicateException("this.precpred(this._ctx, 9)");this.state=1281,localctx._bop=this.match(ProcessingParser.BITOR),this.state=1282,this.expression(10)}break;case 9:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1283,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=1284,localctx._bop=this.match(ProcessingParser.AND),this.state=1285,this.expression(9)}break;case 10:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1286,!this.precpred(this._ctx,7))throw this.createFailedPredicateException("this.precpred(this._ctx, 7)");this.state=1287,localctx._bop=this.match(ProcessingParser.OR),this.state=1288,this.expression(8)}break;case 11:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1289,!this.precpred(this._ctx,6))throw this.createFailedPredicateException("this.precpred(this._ctx, 6)");this.state=1290,localctx._bop=this.match(ProcessingParser.QUESTION),this.state=1291,this.expression(0),this.state=1292,this.match(ProcessingParser.COLON),this.state=1293,this.expression(7)}break;case 12:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1295,!this.precpred(this._ctx,5))throw this.createFailedPredicateException("this.precpred(this._ctx, 5)");this.state=1296,localctx._bop=this._input.LT(1),_la=this._input.LA(1),(_la-77&-32)===0&&(1<<_la-77&4286578689)!==0||_la===109||_la===110?(this._errHandler.reportMatch(this),this.consume()):localctx._bop=this._errHandler.recoverInline(this),this.state=1297,this.expression(5)}break;case 13:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1298,!this.precpred(this._ctx,25))throw this.createFailedPredicateException("this.precpred(this._ctx, 25)");switch(this.state=1299,localctx._bop=this.match(ProcessingParser.DOT),this.state=1311,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,159,this._ctx)){case 1:this.state=1300,this.match(ProcessingParser.IDENTIFIER);break;case 2:this.state=1301,this.methodCall();break;case 3:this.state=1302,this.match(ProcessingParser.THIS);break;case 4:this.state=1303,this.match(ProcessingParser.NEW),this.state=1305,this._errHandler.sync(this),_la=this._input.LA(1),_la===79&&(this.state=1304,this.nonWildcardTypeArguments()),this.state=1307,this.innerCreator();break;case 5:this.state=1308,this.match(ProcessingParser.SUPER),this.state=1309,this.superSuffix();break;case 6:this.state=1310,this.explicitGenericInvocation();break}}break;case 14:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1313,!this.precpred(this._ctx,24))throw this.createFailedPredicateException("this.precpred(this._ctx, 24)");this.state=1314,this.match(ProcessingParser.LBRACK),this.state=1315,this.expression(0),this.state=1316,this.match(ProcessingParser.RBRACK)}break;case 15:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1318,!this.precpred(this._ctx,20))throw this.createFailedPredicateException("this.precpred(this._ctx, 20)");this.state=1319,localctx._postfix=this._input.LT(1),_la=this._input.LA(1),_la===90||_la===91?(this._errHandler.reportMatch(this),this.consume()):localctx._postfix=this._errHandler.recoverInline(this)}break;case 16:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1320,!this.precpred(this._ctx,13))throw this.createFailedPredicateException("this.precpred(this._ctx, 13)");this.state=1321,localctx._bop=this.match(ProcessingParser.INSTANCEOF),this.state=1322,this.typeType()}break;case 17:{if(localctx=new ExpressionContext(this,_parentctx,_parentState),this.pushNewRecursionContext(localctx,_startState,ProcessingParser.RULE_expression),this.state=1323,!this.precpred(this._ctx,3))throw this.createFailedPredicateException("this.precpred(this._ctx, 3)");this.state=1324,this.match(ProcessingParser.COLONCOLON),this.state=1326,this._errHandler.sync(this),_la=this._input.LA(1),_la===79&&(this.state=1325,this.typeArguments()),this.state=1328,this.match(ProcessingParser.IDENTIFIER)}break}this.state=1333,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,162,this._ctx)}}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.unrollRecursionContexts(_parentctx)}return localctx}lambdaExpression(){let localctx=new LambdaExpressionContext(this,this._ctx,this.state);this.enterRule(localctx,192,ProcessingParser.RULE_lambdaExpression);try{this.enterOuterAlt(localctx,1),this.state=1334,this.lambdaParameters(),this.state=1335,this.match(ProcessingParser.ARROW),this.state=1336,this.lambdaBody()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}lambdaParameters(){let localctx=new LambdaParametersContext(this,this._ctx,this.state);this.enterRule(localctx,194,ProcessingParser.RULE_lambdaParameters);let _la;try{switch(this.state=1354,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,165,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=1338,this.match(ProcessingParser.IDENTIFIER);break;case 2:this.enterOuterAlt(localctx,2),this.state=1339,this.match(ProcessingParser.LPAREN),this.state=1341,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&84953602)!==0||(_la-33&-32)===0&&(1<<_la-33&2098181)!==0||_la===113||_la===115)&&(this.state=1340,this.formalParameterList()),this.state=1343,this.match(ProcessingParser.RPAREN);break;case 3:this.enterOuterAlt(localctx,3);{for(this.state=1344,this.match(ProcessingParser.LPAREN),this.state=1345,this.match(ProcessingParser.IDENTIFIER),this.state=1350,this._errHandler.sync(this),_la=this._input.LA(1);_la===75;)this.state=1346,this.match(ProcessingParser.COMMA),this.state=1347,this.match(ProcessingParser.IDENTIFIER),this.state=1352,this._errHandler.sync(this),_la=this._input.LA(1);this.state=1353,this.match(ProcessingParser.RPAREN)}break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}lambdaBody(){let localctx=new LambdaBodyContext(this,this._ctx,this.state);this.enterRule(localctx,196,ProcessingParser.RULE_lambdaBody);try{switch(this.state=1358,this._errHandler.sync(this),this._input.LA(1)){case 1:case 2:case 6:case 9:case 11:case 14:case 20:case 26:case 33:case 35:case 37:case 43:case 46:case 49:case 54:case 55:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 79:case 80:case 81:case 90:case 91:case 92:case 93:case 113:case 115:this.enterOuterAlt(localctx,1),this.state=1356,this.expression(0);break;case 70:this.enterOuterAlt(localctx,2),this.state=1357,this.block();break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}primary(){let localctx=new PrimaryContext(this,this._ctx,this.state);this.enterRule(localctx,198,ProcessingParser.RULE_primary);try{switch(this.state=1378,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,168,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=1360,this.match(ProcessingParser.LPAREN),this.state=1361,this.expression(0),this.state=1362,this.match(ProcessingParser.RPAREN);break;case 2:this.enterOuterAlt(localctx,2),this.state=1364,this.match(ProcessingParser.THIS);break;case 3:this.enterOuterAlt(localctx,3),this.state=1365,this.match(ProcessingParser.SUPER);break;case 4:this.enterOuterAlt(localctx,4),this.state=1366,this.literal();break;case 5:this.enterOuterAlt(localctx,5),this.state=1367,this.match(ProcessingParser.IDENTIFIER);break;case 6:this.enterOuterAlt(localctx,6),this.state=1368,this.typeTypeOrVoid(),this.state=1369,this.match(ProcessingParser.DOT),this.state=1370,this.match(ProcessingParser.CLASS);break;case 7:switch(this.enterOuterAlt(localctx,7),this.state=1372,this.nonWildcardTypeArguments(),this.state=1376,this._errHandler.sync(this),this._input.LA(1)){case 46:case 115:this.state=1373,this.explicitGenericInvocationSuffix();break;case 49:this.state=1374,this.match(ProcessingParser.THIS),this.state=1375,this.arguments();break;default:throw new dn(this)}break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}classType(){let localctx=new ClassTypeContext(this,this._ctx,this.state);this.enterRule(localctx,200,ProcessingParser.RULE_classType);let _la;try{this.enterOuterAlt(localctx,1);{switch(this.state=1383,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,169,this._ctx)){case 1:this.state=1380,this.classOrInterfaceType(),this.state=1381,this.match(ProcessingParser.DOT);break}for(this.state=1388,this._errHandler.sync(this),_la=this._input.LA(1);_la===113;)this.state=1385,this.annotation(),this.state=1390,this._errHandler.sync(this),_la=this._input.LA(1);this.state=1391,this.match(ProcessingParser.IDENTIFIER),this.state=1393,this._errHandler.sync(this),_la=this._input.LA(1),_la===79&&(this.state=1392,this.typeArguments())}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}creator(){let localctx=new CreatorContext(this,this._ctx,this.state);this.enterRule(localctx,202,ProcessingParser.RULE_creator);try{switch(this.state=1404,this._errHandler.sync(this),this._input.LA(1)){case 79:this.enterOuterAlt(localctx,1),this.state=1395,this.nonWildcardTypeArguments(),this.state=1396,this.createdName(),this.state=1397,this.classCreatorRest();break;case 1:case 9:case 11:case 14:case 20:case 26:case 33:case 35:case 43:case 115:switch(this.enterOuterAlt(localctx,2),this.state=1399,this.createdName(),this.state=1402,this._errHandler.sync(this),this._input.LA(1)){case 72:this.state=1400,this.arrayCreatorRest();break;case 68:this.state=1401,this.classCreatorRest();break;default:throw new dn(this)}break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}createdName(){let localctx=new CreatedNameContext(this,this._ctx,this.state);this.enterRule(localctx,204,ProcessingParser.RULE_createdName);let _la;try{switch(this.state=1421,this._errHandler.sync(this),this._input.LA(1)){case 115:for(this.enterOuterAlt(localctx,1),this.state=1406,this.match(ProcessingParser.IDENTIFIER),this.state=1408,this._errHandler.sync(this),_la=this._input.LA(1),_la===79&&(this.state=1407,this.typeArgumentsOrDiamond()),this.state=1417,this._errHandler.sync(this),_la=this._input.LA(1);_la===76;)this.state=1410,this.match(ProcessingParser.DOT),this.state=1411,this.match(ProcessingParser.IDENTIFIER),this.state=1413,this._errHandler.sync(this),_la=this._input.LA(1),_la===79&&(this.state=1412,this.typeArgumentsOrDiamond()),this.state=1419,this._errHandler.sync(this),_la=this._input.LA(1);break;case 1:case 9:case 11:case 14:case 20:case 26:case 33:case 35:case 43:this.enterOuterAlt(localctx,2),this.state=1420,this.primitiveType();break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}innerCreator(){let localctx=new InnerCreatorContext(this,this._ctx,this.state);this.enterRule(localctx,206,ProcessingParser.RULE_innerCreator);let _la;try{this.enterOuterAlt(localctx,1),this.state=1423,this.match(ProcessingParser.IDENTIFIER),this.state=1425,this._errHandler.sync(this),_la=this._input.LA(1),_la===79&&(this.state=1424,this.nonWildcardTypeArgumentsOrDiamond()),this.state=1427,this.classCreatorRest()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}arrayCreatorRest(){let localctx=new ArrayCreatorRestContext(this,this._ctx,this.state);this.enterRule(localctx,208,ProcessingParser.RULE_arrayCreatorRest);let _la;try{let _alt;switch(this.enterOuterAlt(localctx,1),this.state=1429,this.match(ProcessingParser.LBRACK),this.state=1457,this._errHandler.sync(this),this._input.LA(1)){case 73:{for(this.state=1430,this.match(ProcessingParser.RBRACK),this.state=1435,this._errHandler.sync(this),_la=this._input.LA(1);_la===72;)this.state=1431,this.match(ProcessingParser.LBRACK),this.state=1432,this.match(ProcessingParser.RBRACK),this.state=1437,this._errHandler.sync(this),_la=this._input.LA(1);this.state=1438,this.arrayInitializer()}break;case 1:case 2:case 6:case 9:case 11:case 14:case 20:case 26:case 33:case 35:case 37:case 43:case 46:case 49:case 54:case 55:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 79:case 80:case 81:case 90:case 91:case 92:case 93:case 113:case 115:{for(this.state=1439,this.expression(0),this.state=1440,this.match(ProcessingParser.RBRACK),this.state=1447,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,180,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=1441,this.match(ProcessingParser.LBRACK),this.state=1442,this.expression(0),this.state=1443,this.match(ProcessingParser.RBRACK)),this.state=1449,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,180,this._ctx);for(this.state=1454,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,181,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=1450,this.match(ProcessingParser.LBRACK),this.state=1451,this.match(ProcessingParser.RBRACK)),this.state=1456,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,181,this._ctx)}break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}classCreatorRest(){let localctx=new ClassCreatorRestContext(this,this._ctx,this.state);this.enterRule(localctx,210,ProcessingParser.RULE_classCreatorRest);try{switch(this.enterOuterAlt(localctx,1),this.state=1459,this.arguments(),this.state=1461,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,183,this._ctx)){case 1:this.state=1460,this.classBody();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}explicitGenericInvocation(){let localctx=new ExplicitGenericInvocationContext(this,this._ctx,this.state);this.enterRule(localctx,212,ProcessingParser.RULE_explicitGenericInvocation);try{this.enterOuterAlt(localctx,1),this.state=1463,this.nonWildcardTypeArguments(),this.state=1464,this.explicitGenericInvocationSuffix()}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}typeArgumentsOrDiamond(){let localctx=new TypeArgumentsOrDiamondContext(this,this._ctx,this.state);this.enterRule(localctx,214,ProcessingParser.RULE_typeArgumentsOrDiamond);try{switch(this.state=1469,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,184,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=1466,this.match(ProcessingParser.LT),this.state=1467,this.match(ProcessingParser.GT);break;case 2:this.enterOuterAlt(localctx,2),this.state=1468,this.typeArguments();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}nonWildcardTypeArgumentsOrDiamond(){let localctx=new NonWildcardTypeArgumentsOrDiamondContext(this,this._ctx,this.state);this.enterRule(localctx,216,ProcessingParser.RULE_nonWildcardTypeArgumentsOrDiamond);try{switch(this.state=1474,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,185,this._ctx)){case 1:this.enterOuterAlt(localctx,1),this.state=1471,this.match(ProcessingParser.LT),this.state=1472,this.match(ProcessingParser.GT);break;case 2:this.enterOuterAlt(localctx,2),this.state=1473,this.nonWildcardTypeArguments();break}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}nonWildcardTypeArguments(){let localctx=new NonWildcardTypeArgumentsContext(this,this._ctx,this.state);this.enterRule(localctx,218,ProcessingParser.RULE_nonWildcardTypeArguments);try{this.enterOuterAlt(localctx,1),this.state=1476,this.match(ProcessingParser.LT),this.state=1477,this.typeList(),this.state=1478,this.match(ProcessingParser.GT)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}typeList(){let localctx=new TypeListContext(this,this._ctx,this.state);this.enterRule(localctx,220,ProcessingParser.RULE_typeList);let _la;try{for(this.enterOuterAlt(localctx,1),this.state=1480,this.typeType(),this.state=1485,this._errHandler.sync(this),_la=this._input.LA(1);_la===75;)this.state=1481,this.match(ProcessingParser.COMMA),this.state=1482,this.typeType(),this.state=1487,this._errHandler.sync(this),_la=this._input.LA(1)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}typeType(){let localctx=new TypeTypeContext(this,this._ctx,this.state);this.enterRule(localctx,222,ProcessingParser.RULE_typeType);let _la;try{let _alt;this.enterOuterAlt(localctx,1);{switch(this.state=1489,this._errHandler.sync(this),_la=this._input.LA(1),_la===113&&(this.state=1488,this.annotation()),this.state=1494,this._errHandler.sync(this),this._input.LA(1)){case 115:this.state=1491,this.classOrInterfaceType();break;case 1:case 9:case 11:case 14:case 20:case 26:case 33:case 35:case 43:this.state=1492,this.primitiveType();break;case 54:this.state=1493,this.match(ProcessingParser.VAR);break;default:throw new dn(this)}for(this.state=1500,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,189,this._ctx);_alt!==2&&_alt!==Ge.INVALID_ALT_NUMBER;)_alt===1&&(this.state=1496,this.match(ProcessingParser.LBRACK),this.state=1497,this.match(ProcessingParser.RBRACK)),this.state=1502,this._errHandler.sync(this),_alt=this._interp.adaptivePredict(this._input,189,this._ctx)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}typeArguments(){let localctx=new TypeArgumentsContext(this,this._ctx,this.state);this.enterRule(localctx,224,ProcessingParser.RULE_typeArguments);let _la;try{this.enterOuterAlt(localctx,1);{for(this.state=1503,this.match(ProcessingParser.LT),this.state=1504,this.typeArgument(),this.state=1509,this._errHandler.sync(this),_la=this._input.LA(1);_la===75;)this.state=1505,this.match(ProcessingParser.COMMA),this.state=1506,this.typeArgument(),this.state=1511,this._errHandler.sync(this),_la=this._input.LA(1);this.state=1512,this.match(ProcessingParser.GT)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}superSuffix(){let localctx=new SuperSuffixContext(this,this._ctx,this.state);this.enterRule(localctx,226,ProcessingParser.RULE_superSuffix);try{switch(this.state=1520,this._errHandler.sync(this),this._input.LA(1)){case 68:this.enterOuterAlt(localctx,1),this.state=1514,this.arguments();break;case 76:switch(this.enterOuterAlt(localctx,2),this.state=1515,this.match(ProcessingParser.DOT),this.state=1516,this.match(ProcessingParser.IDENTIFIER),this.state=1518,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,191,this._ctx)){case 1:this.state=1517,this.arguments();break}break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}explicitGenericInvocationSuffix(){let localctx=new ExplicitGenericInvocationSuffixContext(this,this._ctx,this.state);this.enterRule(localctx,228,ProcessingParser.RULE_explicitGenericInvocationSuffix);try{switch(this.state=1526,this._errHandler.sync(this),this._input.LA(1)){case 46:this.enterOuterAlt(localctx,1),this.state=1522,this.match(ProcessingParser.SUPER),this.state=1523,this.superSuffix();break;case 115:this.enterOuterAlt(localctx,2),this.state=1524,this.match(ProcessingParser.IDENTIFIER),this.state=1525,this.arguments();break;default:throw new dn(this)}}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}arguments(){let localctx=new ArgumentsContext(this,this._ctx,this.state);this.enterRule(localctx,230,ProcessingParser.RULE_arguments);let _la;try{this.enterOuterAlt(localctx,1),this.state=1528,this.match(ProcessingParser.LPAREN),this.state=1530,this._errHandler.sync(this),_la=this._input.LA(1),((_la&-32)===0&&(1<<_la&68176454)!==0||(_la-33&-32)===0&&(1<<_la-33&4267779093)!==0||(_la-65&-32)===0&&(1<<_la-65&503431183)!==0||_la===113||_la===115)&&(this.state=1529,this.expressionList()),this.state=1532,this.match(ProcessingParser.RPAREN)}catch(re2){if(re2 instanceof _n)localctx.exception=re2,this._errHandler.reportError(this,re2),this._errHandler.recover(this,re2);else throw re2}finally{this.exitRule()}return localctx}sempred(localctx,ruleIndex,predIndex){switch(ruleIndex){case 95:return this.expression_sempred(localctx,predIndex)}return!0}expression_sempred(localctx,predIndex){switch(predIndex){case 0:return this.precpred(this._ctx,17);case 1:return this.precpred(this._ctx,16);case 2:return this.precpred(this._ctx,15);case 3:return this.precpred(this._ctx,14);case 4:return this.precpred(this._ctx,12);case 5:return this.precpred(this._ctx,11);case 6:return this.precpred(this._ctx,10);case 7:return this.precpred(this._ctx,9);case 8:return this.precpred(this._ctx,8);case 9:return this.precpred(this._ctx,7);case 10:return this.precpred(this._ctx,6);case 11:return this.precpred(this._ctx,5);case 12:return this.precpred(this._ctx,25);case 13:return this.precpred(this._ctx,24);case 14:return this.precpred(this._ctx,20);case 15:return this.precpred(this._ctx,13);case 16:return this.precpred(this._ctx,3)}return!0}static _serializedATN=[4,1,115,1535,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,2,57,7,57,2,58,7,58,2,59,7,59,2,60,7,60,2,61,7,61,2,62,7,62,2,63,7,63,2,64,7,64,2,65,7,65,2,66,7,66,2,67,7,67,2,68,7,68,2,69,7,69,2,70,7,70,2,71,7,71,2,72,7,72,2,73,7,73,2,74,7,74,2,75,7,75,2,76,7,76,2,77,7,77,2,78,7,78,2,79,7,79,2,80,7,80,2,81,7,81,2,82,7,82,2,83,7,83,2,84,7,84,2,85,7,85,2,86,7,86,2,87,7,87,2,88,7,88,2,89,7,89,2,90,7,90,2,91,7,91,2,92,7,92,2,93,7,93,2,94,7,94,2,95,7,95,2,96,7,96,2,97,7,97,2,98,7,98,2,99,7,99,2,100,7,100,2,101,7,101,2,102,7,102,2,103,7,103,2,104,7,104,2,105,7,105,2,106,7,106,2,107,7,107,2,108,7,108,2,109,7,109,2,110,7,110,2,111,7,111,2,112,7,112,2,113,7,113,2,114,7,114,2,115,7,115,1,0,1,0,1,0,3,0,236,8,0,1,1,3,1,239,8,1,1,1,5,1,242,8,1,10,1,12,1,245,9,1,1,1,4,1,248,8,1,11,1,12,1,249,1,1,1,1,1,2,1,2,1,2,5,2,257,8,2,10,2,12,2,260,9,2,1,2,1,2,1,3,1,3,5,3,266,8,3,10,3,12,3,269,9,3,1,3,1,3,1,4,1,4,1,4,5,4,276,8,4,10,4,12,4,279,9,4,1,4,1,4,1,4,1,4,1,4,5,4,286,8,4,10,4,12,4,289,9,4,1,4,1,4,1,4,5,4,294,8,4,10,4,12,4,297,9,4,1,4,1,4,1,4,1,4,1,4,5,4,304,8,4,10,4,12,4,307,9,4,3,4,309,8,4,1,5,1,5,1,5,1,5,5,5,315,8,5,10,5,12,5,318,9,5,3,5,320,8,5,1,6,1,6,1,6,5,6,325,8,6,10,6,12,6,328,9,6,1,6,1,6,1,7,1,7,1,7,1,7,3,7,336,8,7,1,7,1,7,1,7,1,7,3,7,342,8,7,1,7,1,7,1,7,1,7,3,7,348,8,7,1,7,3,7,351,8,7,1,8,1,8,1,8,3,8,356,8,8,1,8,1,8,1,9,1,9,1,9,1,9,1,9,1,9,1,9,1,9,1,9,3,9,369,8,9,1,10,1,10,1,11,1,11,3,11,375,8,11,1,11,1,11,1,11,3,11,380,8,11,5,11,382,8,11,10,11,12,11,385,9,11,1,12,1,12,1,12,1,12,1,12,1,12,1,12,3,12,394,8,12,1,13,1,13,1,14,3,14,399,8,14,1,14,5,14,402,8,14,10,14,12,14,405,9,14,1,14,5,14,408,8,14,10,14,12,14,411,9,14,1,14,1,14,1,15,5,15,416,8,15,10,15,12,15,419,9,15,1,15,1,15,1,15,1,15,1,16,1,16,3,16,427,8,16,1,16,1,16,1,16,3,16,432,8,16,1,16,1,16,1,17,5,17,437,8,17,10,17,12,17,440,9,17,1,17,1,17,1,17,1,17,3,17,446,8,17,1,17,3,17,449,8,17,1,18,1,18,1,18,1,18,1,18,3,18,456,8,18,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,3,19,466,8,19,1,20,1,20,3,20,470,8,20,1,21,1,21,1,21,3,21,475,8,21,1,21,1,21,3,21,479,8,21,1,21,1,21,3,21,483,8,21,1,21,1,21,1,22,1,22,1,22,1,22,5,22,491,8,22,10,22,12,22,494,9,22,1,22,1,22,1,23,5,23,499,8,23,10,23,12,23,502,9,23,1,23,1,23,1,23,3,23,507,8,23,1,24,1,24,1,24,5,24,512,8,24,10,24,12,24,515,9,24,1,25,1,25,1,25,1,25,3,25,521,8,25,1,25,1,25,3,25,525,8,25,1,25,3,25,528,8,25,1,25,3,25,531,8,25,1,25,1,25,1,26,1,26,1,26,5,26,538,8,26,10,26,12,26,541,9,26,1,27,5,27,544,8,27,10,27,12,27,547,9,27,1,27,1,27,3,27,551,8,27,1,27,3,27,554,8,27,1,28,1,28,5,28,558,8,28,10,28,12,28,561,9,28,1,29,1,29,1,29,3,29,566,8,29,1,29,1,29,3,29,570,8,29,1,29,1,29,1,30,1,30,5,30,576,8,30,10,30,12,30,579,9,30,1,30,1,30,1,31,1,31,5,31,585,8,31,10,31,12,31,588,9,31,1,31,1,31,1,32,1,32,1,32,3,32,595,8,32,1,32,1,32,5,32,599,8,32,10,32,12,32,602,9,32,1,32,3,32,605,8,32,1,33,1,33,1,33,1,33,1,33,1,33,1,33,1,33,1,33,3,33,616,8,33,1,34,1,34,1,34,1,34,1,34,5,34,623,8,34,10,34,12,34,626,9,34,1,34,1,34,3,34,630,8,34,1,34,1,34,1,35,1,35,3,35,636,8,35,1,36,1,36,3,36,640,8,36,1,37,1,37,1,37,1,38,1,38,1,38,1,39,1,39,1,39,1,39,3,39,652,8,39,1,39,1,39,1,40,1,40,1,40,1,40,1,41,5,41,661,8,41,10,41,12,41,664,9,41,1,41,1,41,3,41,668,8,41,1,42,1,42,1,42,1,42,1,42,1,42,1,42,3,42,677,8,42,1,43,1,43,1,43,1,43,5,43,683,8,43,10,43,12,43,686,9,43,1,43,1,43,1,44,1,44,1,44,5,44,693,8,44,10,44,12,44,696,9,44,1,44,1,44,1,44,1,45,5,45,702,8,45,10,45,12,45,705,9,45,1,45,1,45,1,45,5,45,710,8,45,10,45,12,45,713,9,45,1,45,1,45,3,45,717,8,45,1,45,1,45,1,45,1,45,5,45,723,8,45,10,45,12,45,726,9,45,1,45,1,45,3,45,730,8,45,1,45,1,45,1,46,1,46,1,46,1,46,1,46,1,46,3,46,740,8,46,1,47,1,47,1,47,1,48,1,48,1,48,5,48,748,8,48,10,48,12,48,751,9,48,1,49,1,49,1,49,3,49,756,8,49,1,50,1,50,3,50,760,8,50,1,51,1,51,1,51,1,51,5,51,766,8,51,10,51,12,51,769,9,51,1,51,3,51,772,8,51,3,51,774,8,51,1,51,1,51,1,52,1,52,3,52,780,8,52,1,52,1,52,1,52,3,52,785,8,52,5,52,787,8,52,10,52,12,52,790,9,52,1,53,1,53,1,53,1,53,3,53,796,8,53,3,53,798,8,53,1,54,1,54,1,54,5,54,803,8,54,10,54,12,54,806,9,54,1,55,1,55,3,55,810,8,55,1,55,1,55,1,56,1,56,1,56,5,56,817,8,56,10,56,12,56,820,9,56,1,56,1,56,3,56,824,8,56,1,56,3,56,827,8,56,1,57,5,57,830,8,57,10,57,12,57,833,9,57,1,57,1,57,1,57,1,58,5,58,839,8,58,10,58,12,58,842,9,58,1,58,1,58,1,58,1,58,1,59,1,59,1,60,1,60,1,61,1,61,3,61,854,8,61,1,62,1,62,1,63,1,63,1,64,1,64,1,64,1,64,1,64,3,64,865,8,64,1,64,3,64,868,8,64,1,65,1,65,1,65,5,65,873,8,65,10,65,12,65,876,9,65,1,66,1,66,1,66,1,66,1,67,1,67,1,67,3,67,885,8,67,1,68,1,68,1,68,1,68,5,68,891,8,68,10,68,12,68,894,9,68,3,68,896,8,68,1,68,3,68,899,8,68,1,68,1,68,1,69,1,69,1,69,1,69,1,69,1,70,1,70,5,70,910,8,70,10,70,12,70,913,9,70,1,70,1,70,1,71,5,71,918,8,71,10,71,12,71,921,9,71,1,71,1,71,3,71,925,8,71,1,72,1,72,1,72,1,72,1,72,1,72,3,72,933,8,72,1,72,1,72,3,72,937,8,72,1,72,1,72,3,72,941,8,72,1,72,1,72,3,72,945,8,72,3,72,947,8,72,1,73,1,73,3,73,951,8,73,1,74,1,74,1,74,1,74,3,74,957,8,74,1,75,1,75,1,76,1,76,1,76,1,77,1,77,5,77,966,8,77,10,77,12,77,969,9,77,1,77,1,77,1,78,1,78,1,78,1,78,1,78,3,78,978,8,78,1,79,5,79,981,8,79,10,79,12,79,984,9,79,1,79,1,79,1,79,1,80,5,80,990,8,80,10,80,12,80,993,9,80,1,80,1,80,3,80,997,8,80,1,80,3,80,1e3,8,80,1,81,1,81,1,81,1,81,1,81,3,81,1007,8,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,3,81,1016,8,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,4,81,1037,8,81,11,81,12,81,1038,1,81,3,81,1042,8,81,1,81,3,81,1045,8,81,1,81,1,81,1,81,1,81,5,81,1051,8,81,10,81,12,81,1054,9,81,1,81,3,81,1057,8,81,1,81,1,81,1,81,1,81,5,81,1063,8,81,10,81,12,81,1066,9,81,1,81,5,81,1069,8,81,10,81,12,81,1072,9,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,3,81,1082,8,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,3,81,1091,8,81,1,81,1,81,1,81,3,81,1096,8,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,1,81,3,81,1106,8,81,1,82,1,82,1,82,5,82,1111,8,82,10,82,12,82,1114,9,82,1,82,1,82,1,82,1,82,1,82,1,83,1,83,1,83,5,83,1124,8,83,10,83,12,83,1127,9,83,1,84,1,84,1,84,1,85,1,85,1,85,3,85,1135,8,85,1,85,1,85,1,86,1,86,1,86,5,86,1142,8,86,10,86,12,86,1145,9,86,1,87,5,87,1148,8,87,10,87,12,87,1151,9,87,1,87,1,87,1,87,1,87,1,87,1,88,4,88,1159,8,88,11,88,12,88,1160,1,88,4,88,1164,8,88,11,88,12,88,1165,1,89,1,89,1,89,3,89,1171,8,89,1,89,1,89,1,89,3,89,1176,8,89,1,90,1,90,3,90,1180,8,90,1,90,1,90,3,90,1184,8,90,1,90,1,90,3,90,1188,8,90,3,90,1190,8,90,1,91,1,91,3,91,1194,8,91,1,92,5,92,1197,8,92,10,92,12,92,1200,9,92,1,92,1,92,1,92,1,92,1,92,1,93,1,93,1,93,1,93,1,94,1,94,1,94,5,94,1214,8,94,10,94,12,94,1217,9,94,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,3,95,1237,8,95,1,95,1,95,3,95,1241,8,95,1,95,1,95,1,95,3,95,1246,8,95,1,95,1,95,3,95,1250,8,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,3,95,1266,8,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,3,95,1306,8,95,1,95,1,95,1,95,1,95,3,95,1312,8,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,1,95,3,95,1327,8,95,1,95,5,95,1330,8,95,10,95,12,95,1333,9,95,1,96,1,96,1,96,1,96,1,97,1,97,1,97,3,97,1342,8,97,1,97,1,97,1,97,1,97,1,97,5,97,1349,8,97,10,97,12,97,1352,9,97,1,97,3,97,1355,8,97,1,98,1,98,3,98,1359,8,98,1,99,1,99,1,99,1,99,1,99,1,99,1,99,1,99,1,99,1,99,1,99,1,99,1,99,1,99,1,99,1,99,3,99,1377,8,99,3,99,1379,8,99,1,100,1,100,1,100,3,100,1384,8,100,1,100,5,100,1387,8,100,10,100,12,100,1390,9,100,1,100,1,100,3,100,1394,8,100,1,101,1,101,1,101,1,101,1,101,1,101,1,101,3,101,1403,8,101,3,101,1405,8,101,1,102,1,102,3,102,1409,8,102,1,102,1,102,1,102,3,102,1414,8,102,5,102,1416,8,102,10,102,12,102,1419,9,102,1,102,3,102,1422,8,102,1,103,1,103,3,103,1426,8,103,1,103,1,103,1,104,1,104,1,104,1,104,5,104,1434,8,104,10,104,12,104,1437,9,104,1,104,1,104,1,104,1,104,1,104,1,104,1,104,5,104,1446,8,104,10,104,12,104,1449,9,104,1,104,1,104,5,104,1453,8,104,10,104,12,104,1456,9,104,3,104,1458,8,104,1,105,1,105,3,105,1462,8,105,1,106,1,106,1,106,1,107,1,107,1,107,3,107,1470,8,107,1,108,1,108,1,108,3,108,1475,8,108,1,109,1,109,1,109,1,109,1,110,1,110,1,110,5,110,1484,8,110,10,110,12,110,1487,9,110,1,111,3,111,1490,8,111,1,111,1,111,1,111,3,111,1495,8,111,1,111,1,111,5,111,1499,8,111,10,111,12,111,1502,9,111,1,112,1,112,1,112,1,112,5,112,1508,8,112,10,112,12,112,1511,9,112,1,112,1,112,1,113,1,113,1,113,1,113,3,113,1519,8,113,3,113,1521,8,113,1,114,1,114,1,114,1,114,3,114,1527,8,114,1,115,1,115,3,115,1531,8,115,1,115,1,115,1,115,0,1,190,116,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,0,12,6,0,1,1,9,9,11,11,14,14,26,26,33,33,2,0,23,23,46,46,1,0,58,61,1,0,62,63,1,0,90,93,1,0,80,81,2,0,94,95,99,99,1,0,92,93,2,0,78,79,85,86,2,0,84,84,87,87,2,0,77,77,100,110,1,0,90,91,1717,0,235,1,0,0,0,2,238,1,0,0,0,4,258,1,0,0,0,6,267,1,0,0,0,8,308,1,0,0,0,10,319,1,0,0,0,12,321,1,0,0,0,14,350,1,0,0,0,16,352,1,0,0,0,18,368,1,0,0,0,20,370,1,0,0,0,22,374,1,0,0,0,24,393,1,0,0,0,26,395,1,0,0,0,28,398,1,0,0,0,30,417,1,0,0,0,32,424,1,0,0,0,34,448,1,0,0,0,36,455,1,0,0,0,38,465,1,0,0,0,40,469,1,0,0,0,42,471,1,0,0,0,44,486,1,0,0,0,46,500,1,0,0,0,48,508,1,0,0,0,50,516,1,0,0,0,52,534,1,0,0,0,54,545,1,0,0,0,56,555,1,0,0,0,58,562,1,0,0,0,60,573,1,0,0,0,62,582,1,0,0,0,64,604,1,0,0,0,66,615,1,0,0,0,68,617,1,0,0,0,70,635,1,0,0,0,72,639,1,0,0,0,74,641,1,0,0,0,76,644,1,0,0,0,78,647,1,0,0,0,80,655,1,0,0,0,82,667,1,0,0,0,84,676,1,0,0,0,86,678,1,0,0,0,88,689,1,0,0,0,90,703,1,0,0,0,92,739,1,0,0,0,94,741,1,0,0,0,96,744,1,0,0,0,98,752,1,0,0,0,100,759,1,0,0,0,102,761,1,0,0,0,104,777,1,0,0,0,106,797,1,0,0,0,108,799,1,0,0,0,110,807,1,0,0,0,112,826,1,0,0,0,114,831,1,0,0,0,116,840,1,0,0,0,118,847,1,0,0,0,120,849,1,0,0,0,122,853,1,0,0,0,124,855,1,0,0,0,126,857,1,0,0,0,128,859,1,0,0,0,130,869,1,0,0,0,132,877,1,0,0,0,134,884,1,0,0,0,136,886,1,0,0,0,138,902,1,0,0,0,140,907,1,0,0,0,142,924,1,0,0,0,144,946,1,0,0,0,146,950,1,0,0,0,148,952,1,0,0,0,150,958,1,0,0,0,152,960,1,0,0,0,154,963,1,0,0,0,156,977,1,0,0,0,158,982,1,0,0,0,160,999,1,0,0,0,162,1105,1,0,0,0,164,1107,1,0,0,0,166,1120,1,0,0,0,168,1128,1,0,0,0,170,1131,1,0,0,0,172,1138,1,0,0,0,174,1149,1,0,0,0,176,1158,1,0,0,0,178,1175,1,0,0,0,180,1189,1,0,0,0,182,1193,1,0,0,0,184,1198,1,0,0,0,186,1206,1,0,0,0,188,1210,1,0,0,0,190,1249,1,0,0,0,192,1334,1,0,0,0,194,1354,1,0,0,0,196,1358,1,0,0,0,198,1378,1,0,0,0,200,1383,1,0,0,0,202,1404,1,0,0,0,204,1421,1,0,0,0,206,1423,1,0,0,0,208,1429,1,0,0,0,210,1459,1,0,0,0,212,1463,1,0,0,0,214,1469,1,0,0,0,216,1474,1,0,0,0,218,1476,1,0,0,0,220,1480,1,0,0,0,222,1489,1,0,0,0,224,1503,1,0,0,0,226,1520,1,0,0,0,228,1526,1,0,0,0,230,1528,1,0,0,0,232,236,3,4,2,0,233,236,3,2,1,0,234,236,3,6,3,0,235,232,1,0,0,0,235,233,1,0,0,0,235,234,1,0,0,0,236,1,1,0,0,0,237,239,3,30,15,0,238,237,1,0,0,0,238,239,1,0,0,0,239,243,1,0,0,0,240,242,3,32,16,0,241,240,1,0,0,0,242,245,1,0,0,0,243,241,1,0,0,0,243,244,1,0,0,0,244,247,1,0,0,0,245,243,1,0,0,0,246,248,3,34,17,0,247,246,1,0,0,0,248,249,1,0,0,0,249,247,1,0,0,0,249,250,1,0,0,0,250,251,1,0,0,0,251,252,5,0,0,1,252,3,1,0,0,0,253,257,3,32,16,0,254,257,3,156,78,0,255,257,3,34,17,0,256,253,1,0,0,0,256,254,1,0,0,0,256,255,1,0,0,0,257,260,1,0,0,0,258,256,1,0,0,0,258,259,1,0,0,0,259,261,1,0,0,0,260,258,1,0,0,0,261,262,5,0,0,1,262,5,1,0,0,0,263,266,3,32,16,0,264,266,3,64,32,0,265,263,1,0,0,0,265,264,1,0,0,0,266,269,1,0,0,0,267,265,1,0,0,0,267,268,1,0,0,0,268,270,1,0,0,0,269,267,1,0,0,0,270,271,5,0,0,1,271,7,1,0,0,0,272,276,3,32,16,0,273,276,3,64,32,0,274,276,3,156,78,0,275,272,1,0,0,0,275,273,1,0,0,0,275,274,1,0,0,0,276,279,1,0,0,0,277,275,1,0,0,0,277,278,1,0,0,0,278,280,1,0,0,0,279,277,1,0,0,0,280,281,3,156,78,0,281,287,3,64,32,0,282,286,3,32,16,0,283,286,3,64,32,0,284,286,3,156,78,0,285,282,1,0,0,0,285,283,1,0,0,0,285,284,1,0,0,0,286,289,1,0,0,0,287,285,1,0,0,0,287,288,1,0,0,0,288,309,1,0,0,0,289,287,1,0,0,0,290,294,3,32,16,0,291,294,3,64,32,0,292,294,3,156,78,0,293,290,1,0,0,0,293,291,1,0,0,0,293,292,1,0,0,0,294,297,1,0,0,0,295,293,1,0,0,0,295,296,1,0,0,0,296,298,1,0,0,0,297,295,1,0,0,0,298,299,3,64,32,0,299,305,3,156,78,0,300,304,3,32,16,0,301,304,3,64,32,0,302,304,3,156,78,0,303,300,1,0,0,0,303,301,1,0,0,0,303,302,1,0,0,0,304,307,1,0,0,0,305,303,1,0,0,0,305,306,1,0,0,0,306,309,1,0,0,0,307,305,1,0,0,0,308,277,1,0,0,0,308,295,1,0,0,0,309,9,1,0,0,0,310,320,3,12,6,0,311,316,5,115,0,0,312,313,5,72,0,0,313,315,5,73,0,0,314,312,1,0,0,0,315,318,1,0,0,0,316,314,1,0,0,0,316,317,1,0,0,0,317,320,1,0,0,0,318,316,1,0,0,0,319,310,1,0,0,0,319,311,1,0,0,0,320,11,1,0,0,0,321,326,3,18,9,0,322,323,5,72,0,0,323,325,5,73,0,0,324,322,1,0,0,0,325,328,1,0,0,0,326,324,1,0,0,0,326,327,1,0,0,0,327,329,1,0,0,0,328,326,1,0,0,0,329,330,6,6,-1,0,330,13,1,0,0,0,331,351,3,16,8,0,332,333,5,115,0,0,333,335,5,68,0,0,334,336,3,188,94,0,335,334,1,0,0,0,335,336,1,0,0,0,336,337,1,0,0,0,337,351,5,69,0,0,338,339,5,49,0,0,339,341,5,68,0,0,340,342,3,188,94,0,341,340,1,0,0,0,341,342,1,0,0,0,342,343,1,0,0,0,343,351,5,69,0,0,344,345,5,46,0,0,345,347,5,68,0,0,346,348,3,188,94,0,347,346,1,0,0,0,347,348,1,0,0,0,348,349,1,0,0,0,349,351,5,69,0,0,350,331,1,0,0,0,350,332,1,0,0,0,350,338,1,0,0,0,350,344,1,0,0,0,351,15,1,0,0,0,352,353,7,0,0,0,353,355,5,68,0,0,354,356,3,188,94,0,355,354,1,0,0,0,355,356,1,0,0,0,356,357,1,0,0,0,357,358,5,69,0,0,358,17,1,0,0,0,359,369,5,9,0,0,360,369,5,14,0,0,361,369,5,11,0,0,362,369,5,43,0,0,363,369,5,33,0,0,364,369,5,35,0,0,365,369,5,26,0,0,366,369,5,20,0,0,367,369,3,20,10,0,368,359,1,0,0,0,368,360,1,0,0,0,368,361,1,0,0,0,368,362,1,0,0,0,368,363,1,0,0,0,368,364,1,0,0,0,368,365,1,0,0,0,368,366,1,0,0,0,368,367,1,0,0,0,369,19,1,0,0,0,370,371,5,1,0,0,371,21,1,0,0,0,372,375,5,115,0,0,373,375,3,20,10,0,374,372,1,0,0,0,374,373,1,0,0,0,375,383,1,0,0,0,376,379,5,76,0,0,377,380,5,115,0,0,378,380,3,20,10,0,379,377,1,0,0,0,379,378,1,0,0,0,380,382,1,0,0,0,381,376,1,0,0,0,382,385,1,0,0,0,383,381,1,0,0,0,383,384,1,0,0,0,384,23,1,0,0,0,385,383,1,0,0,0,386,394,3,124,62,0,387,394,3,126,63,0,388,394,5,6,0,0,389,394,3,122,61,0,390,394,5,64,0,0,391,394,5,67,0,0,392,394,3,26,13,0,393,386,1,0,0,0,393,387,1,0,0,0,393,388,1,0,0,0,393,389,1,0,0,0,393,390,1,0,0,0,393,391,1,0,0,0,393,392,1,0,0,0,394,25,1,0,0,0,395,396,5,2,0,0,396,27,1,0,0,0,397,399,3,30,15,0,398,397,1,0,0,0,398,399,1,0,0,0,399,403,1,0,0,0,400,402,3,32,16,0,401,400,1,0,0,0,402,405,1,0,0,0,403,401,1,0,0,0,403,404,1,0,0,0,404,409,1,0,0,0,405,403,1,0,0,0,406,408,3,34,17,0,407,406,1,0,0,0,408,411,1,0,0,0,409,407,1,0,0,0,409,410,1,0,0,0,410,412,1,0,0,0,411,409,1,0,0,0,412,413,5,0,0,1,413,29,1,0,0,0,414,416,3,128,64,0,415,414,1,0,0,0,416,419,1,0,0,0,417,415,1,0,0,0,417,418,1,0,0,0,418,420,1,0,0,0,419,417,1,0,0,0,420,421,5,38,0,0,421,422,3,22,11,0,422,423,5,74,0,0,423,31,1,0,0,0,424,426,5,31,0,0,425,427,5,44,0,0,426,425,1,0,0,0,426,427,1,0,0,0,427,428,1,0,0,0,428,431,3,22,11,0,429,430,5,76,0,0,430,432,5,94,0,0,431,429,1,0,0,0,431,432,1,0,0,0,432,433,1,0,0,0,433,434,5,74,0,0,434,33,1,0,0,0,435,437,3,38,19,0,436,435,1,0,0,0,437,440,1,0,0,0,438,436,1,0,0,0,438,439,1,0,0,0,439,445,1,0,0,0,440,438,1,0,0,0,441,446,3,42,21,0,442,446,3,50,25,0,443,446,3,58,29,0,444,446,3,138,69,0,445,441,1,0,0,0,445,442,1,0,0,0,445,443,1,0,0,0,445,444,1,0,0,0,446,449,1,0,0,0,447,449,5,74,0,0,448,438,1,0,0,0,448,447,1,0,0,0,449,35,1,0,0,0,450,456,3,38,19,0,451,456,5,36,0,0,452,456,5,48,0,0,453,456,5,52,0,0,454,456,5,56,0,0,455,450,1,0,0,0,455,451,1,0,0,0,455,452,1,0,0,0,455,453,1,0,0,0,455,454,1,0,0,0,456,37,1,0,0,0,457,466,3,128,64,0,458,466,5,41,0,0,459,466,5,40,0,0,460,466,5,39,0,0,461,466,5,44,0,0,462,466,5,7,0,0,463,466,5,24,0,0,464,466,5,45,0,0,465,457,1,0,0,0,465,458,1,0,0,0,465,459,1,0,0,0,465,460,1,0,0,0,465,461,1,0,0,0,465,462,1,0,0,0,465,463,1,0,0,0,465,464,1,0,0,0,466,39,1,0,0,0,467,470,5,24,0,0,468,470,3,128,64,0,469,467,1,0,0,0,469,468,1,0,0,0,470,41,1,0,0,0,471,472,5,15,0,0,472,474,5,115,0,0,473,475,3,44,22,0,474,473,1,0,0,0,474,475,1,0,0,0,475,478,1,0,0,0,476,477,5,23,0,0,477,479,3,222,111,0,478,476,1,0,0,0,478,479,1,0,0,0,479,482,1,0,0,0,480,481,5,30,0,0,481,483,3,220,110,0,482,480,1,0,0,0,482,483,1,0,0,0,483,484,1,0,0,0,484,485,3,60,30,0,485,43,1,0,0,0,486,487,5,79,0,0,487,492,3,46,23,0,488,489,5,75,0,0,489,491,3,46,23,0,490,488,1,0,0,0,491,494,1,0,0,0,492,490,1,0,0,0,492,493,1,0,0,0,493,495,1,0,0,0,494,492,1,0,0,0,495,496,5,78,0,0,496,45,1,0,0,0,497,499,3,128,64,0,498,497,1,0,0,0,499,502,1,0,0,0,500,498,1,0,0,0,500,501,1,0,0,0,501,503,1,0,0,0,502,500,1,0,0,0,503,506,5,115,0,0,504,505,5,23,0,0,505,507,3,48,24,0,506,504,1,0,0,0,506,507,1,0,0,0,507,47,1,0,0,0,508,513,3,222,111,0,509,510,5,96,0,0,510,512,3,222,111,0,511,509,1,0,0,0,512,515,1,0,0,0,513,511,1,0,0,0,513,514,1,0,0,0,514,49,1,0,0,0,515,513,1,0,0,0,516,517,5,22,0,0,517,520,5,115,0,0,518,519,5,30,0,0,519,521,3,220,110,0,520,518,1,0,0,0,520,521,1,0,0,0,521,522,1,0,0,0,522,524,5,70,0,0,523,525,3,52,26,0,524,523,1,0,0,0,524,525,1,0,0,0,525,527,1,0,0,0,526,528,5,75,0,0,527,526,1,0,0,0,527,528,1,0,0,0,528,530,1,0,0,0,529,531,3,56,28,0,530,529,1,0,0,0,530,531,1,0,0,0,531,532,1,0,0,0,532,533,5,71,0,0,533,51,1,0,0,0,534,539,3,54,27,0,535,536,5,75,0,0,536,538,3,54,27,0,537,535,1,0,0,0,538,541,1,0,0,0,539,537,1,0,0,0,539,540,1,0,0,0,540,53,1,0,0,0,541,539,1,0,0,0,542,544,3,128,64,0,543,542,1,0,0,0,544,547,1,0,0,0,545,543,1,0,0,0,545,546,1,0,0,0,546,548,1,0,0,0,547,545,1,0,0,0,548,550,5,115,0,0,549,551,3,230,115,0,550,549,1,0,0,0,550,551,1,0,0,0,551,553,1,0,0,0,552,554,3,60,30,0,553,552,1,0,0,0,553,554,1,0,0,0,554,55,1,0,0,0,555,559,5,74,0,0,556,558,3,64,32,0,557,556,1,0,0,0,558,561,1,0,0,0,559,557,1,0,0,0,559,560,1,0,0,0,560,57,1,0,0,0,561,559,1,0,0,0,562,563,5,34,0,0,563,565,5,115,0,0,564,566,3,44,22,0,565,564,1,0,0,0,565,566,1,0,0,0,566,569,1,0,0,0,567,568,5,23,0,0,568,570,3,220,110,0,569,567,1,0,0,0,569,570,1,0,0,0,570,571,1,0,0,0,571,572,3,62,31,0,572,59,1,0,0,0,573,577,5,70,0,0,574,576,3,64,32,0,575,574,1,0,0,0,576,579,1,0,0,0,577,575,1,0,0,0,577,578,1,0,0,0,578,580,1,0,0,0,579,577,1,0,0,0,580,581,5,71,0,0,581,61,1,0,0,0,582,586,5,70,0,0,583,585,3,82,41,0,584,583,1,0,0,0,585,588,1,0,0,0,586,584,1,0,0,0,586,587,1,0,0,0,587,589,1,0,0,0,588,586,1,0,0,0,589,590,5,71,0,0,590,63,1,0,0,0,591,605,5,74,0,0,592,605,3,32,16,0,593,595,5,44,0,0,594,593,1,0,0,0,594,595,1,0,0,0,595,596,1,0,0,0,596,605,3,154,77,0,597,599,3,36,18,0,598,597,1,0,0,0,599,602,1,0,0,0,600,598,1,0,0,0,600,601,1,0,0,0,601,603,1,0,0,0,602,600,1,0,0,0,603,605,3,66,33,0,604,591,1,0,0,0,604,592,1,0,0,0,604,594,1,0,0,0,604,600,1,0,0,0,605,65,1,0,0,0,606,616,3,68,34,0,607,616,3,74,37,0,608,616,3,80,40,0,609,616,3,78,39,0,610,616,3,76,38,0,611,616,3,58,29,0,612,616,3,138,69,0,613,616,3,42,21,0,614,616,3,50,25,0,615,606,1,0,0,0,615,607,1,0,0,0,615,608,1,0,0,0,615,609,1,0,0,0,615,610,1,0,0,0,615,611,1,0,0,0,615,612,1,0,0,0,615,613,1,0,0,0,615,614,1,0,0,0,616,67,1,0,0,0,617,618,3,72,36,0,618,619,5,115,0,0,619,624,3,110,55,0,620,621,5,72,0,0,621,623,5,73,0,0,622,620,1,0,0,0,623,626,1,0,0,0,624,622,1,0,0,0,624,625,1,0,0,0,625,629,1,0,0,0,626,624,1,0,0,0,627,628,5,51,0,0,628,630,3,108,54,0,629,627,1,0,0,0,629,630,1,0,0,0,630,631,1,0,0,0,631,632,3,70,35,0,632,69,1,0,0,0,633,636,3,154,77,0,634,636,5,74,0,0,635,633,1,0,0,0,635,634,1,0,0,0,636,71,1,0,0,0,637,640,3,222,111,0,638,640,5,55,0,0,639,637,1,0,0,0,639,638,1,0,0,0,640,73,1,0,0,0,641,642,3,44,22,0,642,643,3,68,34,0,643,75,1,0,0,0,644,645,3,44,22,0,645,646,3,78,39,0,646,77,1,0,0,0,647,648,5,115,0,0,648,651,3,110,55,0,649,650,5,51,0,0,650,652,3,108,54,0,651,649,1,0,0,0,651,652,1,0,0,0,652,653,1,0,0,0,653,654,3,154,77,0,654,79,1,0,0,0,655,656,3,222,111,0,656,657,3,96,48,0,657,658,5,74,0,0,658,81,1,0,0,0,659,661,3,36,18,0,660,659,1,0,0,0,661,664,1,0,0,0,662,660,1,0,0,0,662,663,1,0,0,0,663,665,1,0,0,0,664,662,1,0,0,0,665,668,3,84,42,0,666,668,5,74,0,0,667,662,1,0,0,0,667,666,1,0,0,0,668,83,1,0,0,0,669,677,3,86,43,0,670,677,3,90,45,0,671,677,3,94,47,0,672,677,3,58,29,0,673,677,3,138,69,0,674,677,3,42,21,0,675,677,3,50,25,0,676,669,1,0,0,0,676,670,1,0,0,0,676,671,1,0,0,0,676,672,1,0,0,0,676,673,1,0,0,0,676,674,1,0,0,0,676,675,1,0,0,0,677,85,1,0,0,0,678,679,3,222,111,0,679,684,3,88,44,0,680,681,5,75,0,0,681,683,3,88,44,0,682,680,1,0,0,0,683,686,1,0,0,0,684,682,1,0,0,0,684,685,1,0,0,0,685,687,1,0,0,0,686,684,1,0,0,0,687,688,5,74,0,0,688,87,1,0,0,0,689,694,5,115,0,0,690,691,5,72,0,0,691,693,5,73,0,0,692,690,1,0,0,0,693,696,1,0,0,0,694,692,1,0,0,0,694,695,1,0,0,0,695,697,1,0,0,0,696,694,1,0,0,0,697,698,5,77,0,0,698,699,3,100,50,0,699,89,1,0,0,0,700,702,3,92,46,0,701,700,1,0,0,0,702,705,1,0,0,0,703,701,1,0,0,0,703,704,1,0,0,0,704,716,1,0,0,0,705,703,1,0,0,0,706,717,3,72,36,0,707,711,3,44,22,0,708,710,3,128,64,0,709,708,1,0,0,0,710,713,1,0,0,0,711,709,1,0,0,0,711,712,1,0,0,0,712,714,1,0,0,0,713,711,1,0,0,0,714,715,3,72,36,0,715,717,1,0,0,0,716,706,1,0,0,0,716,707,1,0,0,0,717,718,1,0,0,0,718,719,5,115,0,0,719,724,3,110,55,0,720,721,5,72,0,0,721,723,5,73,0,0,722,720,1,0,0,0,723,726,1,0,0,0,724,722,1,0,0,0,724,725,1,0,0,0,725,729,1,0,0,0,726,724,1,0,0,0,727,728,5,51,0,0,728,730,3,108,54,0,729,727,1,0,0,0,729,730,1,0,0,0,730,731,1,0,0,0,731,732,3,70,35,0,732,91,1,0,0,0,733,740,3,128,64,0,734,740,5,41,0,0,735,740,5,7,0,0,736,740,5,18,0,0,737,740,5,44,0,0,738,740,5,45,0,0,739,733,1,0,0,0,739,734,1,0,0,0,739,735,1,0,0,0,739,736,1,0,0,0,739,737,1,0,0,0,739,738,1,0,0,0,740,93,1,0,0,0,741,742,3,44,22,0,742,743,3,90,45,0,743,95,1,0,0,0,744,749,3,98,49,0,745,746,5,75,0,0,746,748,3,98,49,0,747,745,1,0,0,0,748,751,1,0,0,0,749,747,1,0,0,0,749,750,1,0,0,0,750,97,1,0,0,0,751,749,1,0,0,0,752,755,3,10,5,0,753,754,5,77,0,0,754,756,3,100,50,0,755,753,1,0,0,0,755,756,1,0,0,0,756,99,1,0,0,0,757,760,3,102,51,0,758,760,3,190,95,0,759,757,1,0,0,0,759,758,1,0,0,0,760,101,1,0,0,0,761,773,5,70,0,0,762,767,3,100,50,0,763,764,5,75,0,0,764,766,3,100,50,0,765,763,1,0,0,0,766,769,1,0,0,0,767,765,1,0,0,0,767,768,1,0,0,0,768,771,1,0,0,0,769,767,1,0,0,0,770,772,5,75,0,0,771,770,1,0,0,0,771,772,1,0,0,0,772,774,1,0,0,0,773,762,1,0,0,0,773,774,1,0,0,0,774,775,1,0,0,0,775,776,5,71,0,0,776,103,1,0,0,0,777,779,5,115,0,0,778,780,3,224,112,0,779,778,1,0,0,0,779,780,1,0,0,0,780,788,1,0,0,0,781,782,5,76,0,0,782,784,5,115,0,0,783,785,3,224,112,0,784,783,1,0,0,0,784,785,1,0,0,0,785,787,1,0,0,0,786,781,1,0,0,0,787,790,1,0,0,0,788,786,1,0,0,0,788,789,1,0,0,0,789,105,1,0,0,0,790,788,1,0,0,0,791,798,3,222,111,0,792,795,5,82,0,0,793,794,7,1,0,0,794,796,3,222,111,0,795,793,1,0,0,0,795,796,1,0,0,0,796,798,1,0,0,0,797,791,1,0,0,0,797,792,1,0,0,0,798,107,1,0,0,0,799,804,3,22,11,0,800,801,5,75,0,0,801,803,3,22,11,0,802,800,1,0,0,0,803,806,1,0,0,0,804,802,1,0,0,0,804,805,1,0,0,0,805,109,1,0,0,0,806,804,1,0,0,0,807,809,5,68,0,0,808,810,3,112,56,0,809,808,1,0,0,0,809,810,1,0,0,0,810,811,1,0,0,0,811,812,5,69,0,0,812,111,1,0,0,0,813,818,3,114,57,0,814,815,5,75,0,0,815,817,3,114,57,0,816,814,1,0,0,0,817,820,1,0,0,0,818,816,1,0,0,0,818,819,1,0,0,0,819,823,1,0,0,0,820,818,1,0,0,0,821,822,5,75,0,0,822,824,3,116,58,0,823,821,1,0,0,0,823,824,1,0,0,0,824,827,1,0,0,0,825,827,3,116,58,0,826,813,1,0,0,0,826,825,1,0,0,0,827,113,1,0,0,0,828,830,3,40,20,0,829,828,1,0,0,0,830,833,1,0,0,0,831,829,1,0,0,0,831,832,1,0,0,0,832,834,1,0,0,0,833,831,1,0,0,0,834,835,3,222,111,0,835,836,3,10,5,0,836,115,1,0,0,0,837,839,3,40,20,0,838,837,1,0,0,0,839,842,1,0,0,0,840,838,1,0,0,0,840,841,1,0,0,0,841,843,1,0,0,0,842,840,1,0,0,0,843,844,3,222,111,0,844,845,5,114,0,0,845,846,3,10,5,0,846,117,1,0,0,0,847,848,5,65,0,0,848,119,1,0,0,0,849,850,5,66,0,0,850,121,1,0,0,0,851,854,3,118,59,0,852,854,3,120,60,0,853,851,1,0,0,0,853,852,1,0,0,0,854,123,1,0,0,0,855,856,7,2,0,0,856,125,1,0,0,0,857,858,7,3,0,0,858,127,1,0,0,0,859,860,5,113,0,0,860,867,3,22,11,0,861,864,5,68,0,0,862,865,3,130,65,0,863,865,3,134,67,0,864,862,1,0,0,0,864,863,1,0,0,0,864,865,1,0,0,0,865,866,1,0,0,0,866,868,5,69,0,0,867,861,1,0,0,0,867,868,1,0,0,0,868,129,1,0,0,0,869,874,3,132,66,0,870,871,5,75,0,0,871,873,3,132,66,0,872,870,1,0,0,0,873,876,1,0,0,0,874,872,1,0,0,0,874,875,1,0,0,0,875,131,1,0,0,0,876,874,1,0,0,0,877,878,5,115,0,0,878,879,5,77,0,0,879,880,3,134,67,0,880,133,1,0,0,0,881,885,3,190,95,0,882,885,3,128,64,0,883,885,3,136,68,0,884,881,1,0,0,0,884,882,1,0,0,0,884,883,1,0,0,0,885,135,1,0,0,0,886,895,5,70,0,0,887,892,3,134,67,0,888,889,5,75,0,0,889,891,3,134,67,0,890,888,1,0,0,0,891,894,1,0,0,0,892,890,1,0,0,0,892,893,1,0,0,0,893,896,1,0,0,0,894,892,1,0,0,0,895,887,1,0,0,0,895,896,1,0,0,0,896,898,1,0,0,0,897,899,5,75,0,0,898,897,1,0,0,0,898,899,1,0,0,0,899,900,1,0,0,0,900,901,5,71,0,0,901,137,1,0,0,0,902,903,5,113,0,0,903,904,5,34,0,0,904,905,5,115,0,0,905,906,3,140,70,0,906,139,1,0,0,0,907,911,5,70,0,0,908,910,3,142,71,0,909,908,1,0,0,0,910,913,1,0,0,0,911,909,1,0,0,0,911,912,1,0,0,0,912,914,1,0,0,0,913,911,1,0,0,0,914,915,5,71,0,0,915,141,1,0,0,0,916,918,3,36,18,0,917,916,1,0,0,0,918,921,1,0,0,0,919,917,1,0,0,0,919,920,1,0,0,0,920,922,1,0,0,0,921,919,1,0,0,0,922,925,3,144,72,0,923,925,5,74,0,0,924,919,1,0,0,0,924,923,1,0,0,0,925,143,1,0,0,0,926,927,3,222,111,0,927,928,3,146,73,0,928,929,5,74,0,0,929,947,1,0,0,0,930,932,3,42,21,0,931,933,5,74,0,0,932,931,1,0,0,0,932,933,1,0,0,0,933,947,1,0,0,0,934,936,3,58,29,0,935,937,5,74,0,0,936,935,1,0,0,0,936,937,1,0,0,0,937,947,1,0,0,0,938,940,3,50,25,0,939,941,5,74,0,0,940,939,1,0,0,0,940,941,1,0,0,0,941,947,1,0,0,0,942,944,3,138,69,0,943,945,5,74,0,0,944,943,1,0,0,0,944,945,1,0,0,0,945,947,1,0,0,0,946,926,1,0,0,0,946,930,1,0,0,0,946,934,1,0,0,0,946,938,1,0,0,0,946,942,1,0,0,0,947,145,1,0,0,0,948,951,3,148,74,0,949,951,3,150,75,0,950,948,1,0,0,0,950,949,1,0,0,0,951,147,1,0,0,0,952,953,5,115,0,0,953,954,5,68,0,0,954,956,5,69,0,0,955,957,3,152,76,0,956,955,1,0,0,0,956,957,1,0,0,0,957,149,1,0,0,0,958,959,3,96,48,0,959,151,1,0,0,0,960,961,5,18,0,0,961,962,3,134,67,0,962,153,1,0,0,0,963,967,5,70,0,0,964,966,3,156,78,0,965,964,1,0,0,0,966,969,1,0,0,0,967,965,1,0,0,0,967,968,1,0,0,0,968,970,1,0,0,0,969,967,1,0,0,0,970,971,5,71,0,0,971,155,1,0,0,0,972,973,3,158,79,0,973,974,5,74,0,0,974,978,1,0,0,0,975,978,3,162,81,0,976,978,3,160,80,0,977,972,1,0,0,0,977,975,1,0,0,0,977,976,1,0,0,0,978,157,1,0,0,0,979,981,3,40,20,0,980,979,1,0,0,0,981,984,1,0,0,0,982,980,1,0,0,0,982,983,1,0,0,0,983,985,1,0,0,0,984,982,1,0,0,0,985,986,3,222,111,0,986,987,3,96,48,0,987,159,1,0,0,0,988,990,3,38,19,0,989,988,1,0,0,0,990,993,1,0,0,0,991,989,1,0,0,0,991,992,1,0,0,0,992,996,1,0,0,0,993,991,1,0,0,0,994,997,3,42,21,0,995,997,3,58,29,0,996,994,1,0,0,0,996,995,1,0,0,0,997,1e3,1,0,0,0,998,1e3,5,74,0,0,999,991,1,0,0,0,999,998,1,0,0,0,1e3,161,1,0,0,0,1001,1106,3,154,77,0,1002,1003,5,8,0,0,1003,1006,3,190,95,0,1004,1005,5,83,0,0,1005,1007,3,190,95,0,1006,1004,1,0,0,0,1006,1007,1,0,0,0,1007,1008,1,0,0,0,1008,1009,5,74,0,0,1009,1106,1,0,0,0,1010,1011,5,28,0,0,1011,1012,3,186,93,0,1012,1015,3,162,81,0,1013,1014,5,21,0,0,1014,1016,3,162,81,0,1015,1013,1,0,0,0,1015,1016,1,0,0,0,1016,1106,1,0,0,0,1017,1018,5,27,0,0,1018,1019,5,68,0,0,1019,1020,3,180,90,0,1020,1021,5,69,0,0,1021,1022,3,162,81,0,1022,1106,1,0,0,0,1023,1024,5,57,0,0,1024,1025,3,186,93,0,1025,1026,3,162,81,0,1026,1106,1,0,0,0,1027,1028,5,19,0,0,1028,1029,3,162,81,0,1029,1030,5,57,0,0,1030,1031,3,186,93,0,1031,1032,5,74,0,0,1032,1106,1,0,0,0,1033,1034,5,53,0,0,1034,1044,3,154,77,0,1035,1037,3,164,82,0,1036,1035,1,0,0,0,1037,1038,1,0,0,0,1038,1036,1,0,0,0,1038,1039,1,0,0,0,1039,1041,1,0,0,0,1040,1042,3,168,84,0,1041,1040,1,0,0,0,1041,1042,1,0,0,0,1042,1045,1,0,0,0,1043,1045,3,168,84,0,1044,1036,1,0,0,0,1044,1043,1,0,0,0,1045,1106,1,0,0,0,1046,1047,5,53,0,0,1047,1048,3,170,85,0,1048,1052,3,154,77,0,1049,1051,3,164,82,0,1050,1049,1,0,0,0,1051,1054,1,0,0,0,1052,1050,1,0,0,0,1052,1053,1,0,0,0,1053,1056,1,0,0,0,1054,1052,1,0,0,0,1055,1057,3,168,84,0,1056,1055,1,0,0,0,1056,1057,1,0,0,0,1057,1106,1,0,0,0,1058,1059,5,47,0,0,1059,1060,3,186,93,0,1060,1064,5,70,0,0,1061,1063,3,176,88,0,1062,1061,1,0,0,0,1063,1066,1,0,0,0,1064,1062,1,0,0,0,1064,1065,1,0,0,0,1065,1070,1,0,0,0,1066,1064,1,0,0,0,1067,1069,3,178,89,0,1068,1067,1,0,0,0,1069,1072,1,0,0,0,1070,1068,1,0,0,0,1070,1071,1,0,0,0,1071,1073,1,0,0,0,1072,1070,1,0,0,0,1073,1074,5,71,0,0,1074,1106,1,0,0,0,1075,1076,5,48,0,0,1076,1077,3,186,93,0,1077,1078,3,154,77,0,1078,1106,1,0,0,0,1079,1081,5,42,0,0,1080,1082,3,190,95,0,1081,1080,1,0,0,0,1081,1082,1,0,0,0,1082,1083,1,0,0,0,1083,1106,5,74,0,0,1084,1085,5,50,0,0,1085,1086,3,190,95,0,1086,1087,5,74,0,0,1087,1106,1,0,0,0,1088,1090,5,10,0,0,1089,1091,5,115,0,0,1090,1089,1,0,0,0,1090,1091,1,0,0,0,1091,1092,1,0,0,0,1092,1106,5,74,0,0,1093,1095,5,17,0,0,1094,1096,5,115,0,0,1095,1094,1,0,0,0,1095,1096,1,0,0,0,1096,1097,1,0,0,0,1097,1106,5,74,0,0,1098,1106,5,74,0,0,1099,1100,3,190,95,0,1100,1101,5,74,0,0,1101,1106,1,0,0,0,1102,1103,5,115,0,0,1103,1104,5,83,0,0,1104,1106,3,162,81,0,1105,1001,1,0,0,0,1105,1002,1,0,0,0,1105,1010,1,0,0,0,1105,1017,1,0,0,0,1105,1023,1,0,0,0,1105,1027,1,0,0,0,1105,1033,1,0,0,0,1105,1046,1,0,0,0,1105,1058,1,0,0,0,1105,1075,1,0,0,0,1105,1079,1,0,0,0,1105,1084,1,0,0,0,1105,1088,1,0,0,0,1105,1093,1,0,0,0,1105,1098,1,0,0,0,1105,1099,1,0,0,0,1105,1102,1,0,0,0,1106,163,1,0,0,0,1107,1108,5,13,0,0,1108,1112,5,68,0,0,1109,1111,3,40,20,0,1110,1109,1,0,0,0,1111,1114,1,0,0,0,1112,1110,1,0,0,0,1112,1113,1,0,0,0,1113,1115,1,0,0,0,1114,1112,1,0,0,0,1115,1116,3,166,83,0,1116,1117,5,115,0,0,1117,1118,5,69,0,0,1118,1119,3,154,77,0,1119,165,1,0,0,0,1120,1125,3,22,11,0,1121,1122,5,97,0,0,1122,1124,3,22,11,0,1123,1121,1,0,0,0,1124,1127,1,0,0,0,1125,1123,1,0,0,0,1125,1126,1,0,0,0,1126,167,1,0,0,0,1127,1125,1,0,0,0,1128,1129,5,25,0,0,1129,1130,3,154,77,0,1130,169,1,0,0,0,1131,1132,5,68,0,0,1132,1134,3,172,86,0,1133,1135,5,74,0,0,1134,1133,1,0,0,0,1134,1135,1,0,0,0,1135,1136,1,0,0,0,1136,1137,5,69,0,0,1137,171,1,0,0,0,1138,1143,3,174,87,0,1139,1140,5,74,0,0,1140,1142,3,174,87,0,1141,1139,1,0,0,0,1142,1145,1,0,0,0,1143,1141,1,0,0,0,1143,1144,1,0,0,0,1144,173,1,0,0,0,1145,1143,1,0,0,0,1146,1148,3,40,20,0,1147,1146,1,0,0,0,1148,1151,1,0,0,0,1149,1147,1,0,0,0,1149,1150,1,0,0,0,1150,1152,1,0,0,0,1151,1149,1,0,0,0,1152,1153,3,104,52,0,1153,1154,3,10,5,0,1154,1155,5,77,0,0,1155,1156,3,190,95,0,1156,175,1,0,0,0,1157,1159,3,178,89,0,1158,1157,1,0,0,0,1159,1160,1,0,0,0,1160,1158,1,0,0,0,1160,1161,1,0,0,0,1161,1163,1,0,0,0,1162,1164,3,156,78,0,1163,1162,1,0,0,0,1164,1165,1,0,0,0,1165,1163,1,0,0,0,1165,1166,1,0,0,0,1166,177,1,0,0,0,1167,1170,5,12,0,0,1168,1171,3,190,95,0,1169,1171,5,115,0,0,1170,1168,1,0,0,0,1170,1169,1,0,0,0,1171,1172,1,0,0,0,1172,1176,5,83,0,0,1173,1174,5,18,0,0,1174,1176,5,83,0,0,1175,1167,1,0,0,0,1175,1173,1,0,0,0,1176,179,1,0,0,0,1177,1190,3,184,92,0,1178,1180,3,182,91,0,1179,1178,1,0,0,0,1179,1180,1,0,0,0,1180,1181,1,0,0,0,1181,1183,5,74,0,0,1182,1184,3,190,95,0,1183,1182,1,0,0,0,1183,1184,1,0,0,0,1184,1185,1,0,0,0,1185,1187,5,74,0,0,1186,1188,3,188,94,0,1187,1186,1,0,0,0,1187,1188,1,0,0,0,1188,1190,1,0,0,0,1189,1177,1,0,0,0,1189,1179,1,0,0,0,1190,181,1,0,0,0,1191,1194,3,158,79,0,1192,1194,3,188,94,0,1193,1191,1,0,0,0,1193,1192,1,0,0,0,1194,183,1,0,0,0,1195,1197,3,40,20,0,1196,1195,1,0,0,0,1197,1200,1,0,0,0,1198,1196,1,0,0,0,1198,1199,1,0,0,0,1199,1201,1,0,0,0,1200,1198,1,0,0,0,1201,1202,3,222,111,0,1202,1203,3,10,5,0,1203,1204,5,83,0,0,1204,1205,3,190,95,0,1205,185,1,0,0,0,1206,1207,5,68,0,0,1207,1208,3,190,95,0,1208,1209,5,69,0,0,1209,187,1,0,0,0,1210,1215,3,190,95,0,1211,1212,5,75,0,0,1212,1214,3,190,95,0,1213,1211,1,0,0,0,1214,1217,1,0,0,0,1215,1213,1,0,0,0,1215,1216,1,0,0,0,1216,189,1,0,0,0,1217,1215,1,0,0,0,1218,1219,6,95,-1,0,1219,1250,3,198,99,0,1220,1250,3,14,7,0,1221,1222,5,37,0,0,1222,1250,3,202,101,0,1223,1224,5,68,0,0,1224,1225,3,222,111,0,1225,1226,5,69,0,0,1226,1227,3,190,95,21,1227,1250,1,0,0,0,1228,1229,7,4,0,0,1229,1250,3,190,95,19,1230,1231,7,5,0,0,1231,1250,3,190,95,18,1232,1250,3,192,96,0,1233,1234,3,222,111,0,1234,1240,5,112,0,0,1235,1237,3,224,112,0,1236,1235,1,0,0,0,1236,1237,1,0,0,0,1237,1238,1,0,0,0,1238,1241,5,115,0,0,1239,1241,5,37,0,0,1240,1236,1,0,0,0,1240,1239,1,0,0,0,1241,1250,1,0,0,0,1242,1243,3,200,100,0,1243,1245,5,112,0,0,1244,1246,3,224,112,0,1245,1244,1,0,0,0,1245,1246,1,0,0,0,1246,1247,1,0,0,0,1247,1248,5,37,0,0,1248,1250,1,0,0,0,1249,1218,1,0,0,0,1249,1220,1,0,0,0,1249,1221,1,0,0,0,1249,1223,1,0,0,0,1249,1228,1,0,0,0,1249,1230,1,0,0,0,1249,1232,1,0,0,0,1249,1233,1,0,0,0,1249,1242,1,0,0,0,1250,1331,1,0,0,0,1251,1252,10,17,0,0,1252,1253,7,6,0,0,1253,1330,3,190,95,18,1254,1255,10,16,0,0,1255,1256,7,7,0,0,1256,1330,3,190,95,17,1257,1265,10,15,0,0,1258,1259,5,79,0,0,1259,1266,5,79,0,0,1260,1261,5,78,0,0,1261,1262,5,78,0,0,1262,1266,5,78,0,0,1263,1264,5,78,0,0,1264,1266,5,78,0,0,1265,1258,1,0,0,0,1265,1260,1,0,0,0,1265,1263,1,0,0,0,1266,1267,1,0,0,0,1267,1330,3,190,95,16,1268,1269,10,14,0,0,1269,1270,7,8,0,0,1270,1330,3,190,95,15,1271,1272,10,12,0,0,1272,1273,7,9,0,0,1273,1330,3,190,95,13,1274,1275,10,11,0,0,1275,1276,5,96,0,0,1276,1330,3,190,95,12,1277,1278,10,10,0,0,1278,1279,5,98,0,0,1279,1330,3,190,95,11,1280,1281,10,9,0,0,1281,1282,5,97,0,0,1282,1330,3,190,95,10,1283,1284,10,8,0,0,1284,1285,5,88,0,0,1285,1330,3,190,95,9,1286,1287,10,7,0,0,1287,1288,5,89,0,0,1288,1330,3,190,95,8,1289,1290,10,6,0,0,1290,1291,5,82,0,0,1291,1292,3,190,95,0,1292,1293,5,83,0,0,1293,1294,3,190,95,7,1294,1330,1,0,0,0,1295,1296,10,5,0,0,1296,1297,7,10,0,0,1297,1330,3,190,95,5,1298,1299,10,25,0,0,1299,1311,5,76,0,0,1300,1312,5,115,0,0,1301,1312,3,14,7,0,1302,1312,5,49,0,0,1303,1305,5,37,0,0,1304,1306,3,218,109,0,1305,1304,1,0,0,0,1305,1306,1,0,0,0,1306,1307,1,0,0,0,1307,1312,3,206,103,0,1308,1309,5,46,0,0,1309,1312,3,226,113,0,1310,1312,3,212,106,0,1311,1300,1,0,0,0,1311,1301,1,0,0,0,1311,1302,1,0,0,0,1311,1303,1,0,0,0,1311,1308,1,0,0,0,1311,1310,1,0,0,0,1312,1330,1,0,0,0,1313,1314,10,24,0,0,1314,1315,5,72,0,0,1315,1316,3,190,95,0,1316,1317,5,73,0,0,1317,1330,1,0,0,0,1318,1319,10,20,0,0,1319,1330,7,11,0,0,1320,1321,10,13,0,0,1321,1322,5,32,0,0,1322,1330,3,222,111,0,1323,1324,10,3,0,0,1324,1326,5,112,0,0,1325,1327,3,224,112,0,1326,1325,1,0,0,0,1326,1327,1,0,0,0,1327,1328,1,0,0,0,1328,1330,5,115,0,0,1329,1251,1,0,0,0,1329,1254,1,0,0,0,1329,1257,1,0,0,0,1329,1268,1,0,0,0,1329,1271,1,0,0,0,1329,1274,1,0,0,0,1329,1277,1,0,0,0,1329,1280,1,0,0,0,1329,1283,1,0,0,0,1329,1286,1,0,0,0,1329,1289,1,0,0,0,1329,1295,1,0,0,0,1329,1298,1,0,0,0,1329,1313,1,0,0,0,1329,1318,1,0,0,0,1329,1320,1,0,0,0,1329,1323,1,0,0,0,1330,1333,1,0,0,0,1331,1329,1,0,0,0,1331,1332,1,0,0,0,1332,191,1,0,0,0,1333,1331,1,0,0,0,1334,1335,3,194,97,0,1335,1336,5,111,0,0,1336,1337,3,196,98,0,1337,193,1,0,0,0,1338,1355,5,115,0,0,1339,1341,5,68,0,0,1340,1342,3,112,56,0,1341,1340,1,0,0,0,1341,1342,1,0,0,0,1342,1343,1,0,0,0,1343,1355,5,69,0,0,1344,1345,5,68,0,0,1345,1350,5,115,0,0,1346,1347,5,75,0,0,1347,1349,5,115,0,0,1348,1346,1,0,0,0,1349,1352,1,0,0,0,1350,1348,1,0,0,0,1350,1351,1,0,0,0,1351,1353,1,0,0,0,1352,1350,1,0,0,0,1353,1355,5,69,0,0,1354,1338,1,0,0,0,1354,1339,1,0,0,0,1354,1344,1,0,0,0,1355,195,1,0,0,0,1356,1359,3,190,95,0,1357,1359,3,154,77,0,1358,1356,1,0,0,0,1358,1357,1,0,0,0,1359,197,1,0,0,0,1360,1361,5,68,0,0,1361,1362,3,190,95,0,1362,1363,5,69,0,0,1363,1379,1,0,0,0,1364,1379,5,49,0,0,1365,1379,5,46,0,0,1366,1379,3,24,12,0,1367,1379,5,115,0,0,1368,1369,3,72,36,0,1369,1370,5,76,0,0,1370,1371,5,15,0,0,1371,1379,1,0,0,0,1372,1376,3,218,109,0,1373,1377,3,228,114,0,1374,1375,5,49,0,0,1375,1377,3,230,115,0,1376,1373,1,0,0,0,1376,1374,1,0,0,0,1377,1379,1,0,0,0,1378,1360,1,0,0,0,1378,1364,1,0,0,0,1378,1365,1,0,0,0,1378,1366,1,0,0,0,1378,1367,1,0,0,0,1378,1368,1,0,0,0,1378,1372,1,0,0,0,1379,199,1,0,0,0,1380,1381,3,104,52,0,1381,1382,5,76,0,0,1382,1384,1,0,0,0,1383,1380,1,0,0,0,1383,1384,1,0,0,0,1384,1388,1,0,0,0,1385,1387,3,128,64,0,1386,1385,1,0,0,0,1387,1390,1,0,0,0,1388,1386,1,0,0,0,1388,1389,1,0,0,0,1389,1391,1,0,0,0,1390,1388,1,0,0,0,1391,1393,5,115,0,0,1392,1394,3,224,112,0,1393,1392,1,0,0,0,1393,1394,1,0,0,0,1394,201,1,0,0,0,1395,1396,3,218,109,0,1396,1397,3,204,102,0,1397,1398,3,210,105,0,1398,1405,1,0,0,0,1399,1402,3,204,102,0,1400,1403,3,208,104,0,1401,1403,3,210,105,0,1402,1400,1,0,0,0,1402,1401,1,0,0,0,1403,1405,1,0,0,0,1404,1395,1,0,0,0,1404,1399,1,0,0,0,1405,203,1,0,0,0,1406,1408,5,115,0,0,1407,1409,3,214,107,0,1408,1407,1,0,0,0,1408,1409,1,0,0,0,1409,1417,1,0,0,0,1410,1411,5,76,0,0,1411,1413,5,115,0,0,1412,1414,3,214,107,0,1413,1412,1,0,0,0,1413,1414,1,0,0,0,1414,1416,1,0,0,0,1415,1410,1,0,0,0,1416,1419,1,0,0,0,1417,1415,1,0,0,0,1417,1418,1,0,0,0,1418,1422,1,0,0,0,1419,1417,1,0,0,0,1420,1422,3,18,9,0,1421,1406,1,0,0,0,1421,1420,1,0,0,0,1422,205,1,0,0,0,1423,1425,5,115,0,0,1424,1426,3,216,108,0,1425,1424,1,0,0,0,1425,1426,1,0,0,0,1426,1427,1,0,0,0,1427,1428,3,210,105,0,1428,207,1,0,0,0,1429,1457,5,72,0,0,1430,1435,5,73,0,0,1431,1432,5,72,0,0,1432,1434,5,73,0,0,1433,1431,1,0,0,0,1434,1437,1,0,0,0,1435,1433,1,0,0,0,1435,1436,1,0,0,0,1436,1438,1,0,0,0,1437,1435,1,0,0,0,1438,1458,3,102,51,0,1439,1440,3,190,95,0,1440,1447,5,73,0,0,1441,1442,5,72,0,0,1442,1443,3,190,95,0,1443,1444,5,73,0,0,1444,1446,1,0,0,0,1445,1441,1,0,0,0,1446,1449,1,0,0,0,1447,1445,1,0,0,0,1447,1448,1,0,0,0,1448,1454,1,0,0,0,1449,1447,1,0,0,0,1450,1451,5,72,0,0,1451,1453,5,73,0,0,1452,1450,1,0,0,0,1453,1456,1,0,0,0,1454,1452,1,0,0,0,1454,1455,1,0,0,0,1455,1458,1,0,0,0,1456,1454,1,0,0,0,1457,1430,1,0,0,0,1457,1439,1,0,0,0,1458,209,1,0,0,0,1459,1461,3,230,115,0,1460,1462,3,60,30,0,1461,1460,1,0,0,0,1461,1462,1,0,0,0,1462,211,1,0,0,0,1463,1464,3,218,109,0,1464,1465,3,228,114,0,1465,213,1,0,0,0,1466,1467,5,79,0,0,1467,1470,5,78,0,0,1468,1470,3,224,112,0,1469,1466,1,0,0,0,1469,1468,1,0,0,0,1470,215,1,0,0,0,1471,1472,5,79,0,0,1472,1475,5,78,0,0,1473,1475,3,218,109,0,1474,1471,1,0,0,0,1474,1473,1,0,0,0,1475,217,1,0,0,0,1476,1477,5,79,0,0,1477,1478,3,220,110,0,1478,1479,5,78,0,0,1479,219,1,0,0,0,1480,1485,3,222,111,0,1481,1482,5,75,0,0,1482,1484,3,222,111,0,1483,1481,1,0,0,0,1484,1487,1,0,0,0,1485,1483,1,0,0,0,1485,1486,1,0,0,0,1486,221,1,0,0,0,1487,1485,1,0,0,0,1488,1490,3,128,64,0,1489,1488,1,0,0,0,1489,1490,1,0,0,0,1490,1494,1,0,0,0,1491,1495,3,104,52,0,1492,1495,3,18,9,0,1493,1495,5,54,0,0,1494,1491,1,0,0,0,1494,1492,1,0,0,0,1494,1493,1,0,0,0,1495,1500,1,0,0,0,1496,1497,5,72,0,0,1497,1499,5,73,0,0,1498,1496,1,0,0,0,1499,1502,1,0,0,0,1500,1498,1,0,0,0,1500,1501,1,0,0,0,1501,223,1,0,0,0,1502,1500,1,0,0,0,1503,1504,5,79,0,0,1504,1509,3,106,53,0,1505,1506,5,75,0,0,1506,1508,3,106,53,0,1507,1505,1,0,0,0,1508,1511,1,0,0,0,1509,1507,1,0,0,0,1509,1510,1,0,0,0,1510,1512,1,0,0,0,1511,1509,1,0,0,0,1512,1513,5,78,0,0,1513,225,1,0,0,0,1514,1521,3,230,115,0,1515,1516,5,76,0,0,1516,1518,5,115,0,0,1517,1519,3,230,115,0,1518,1517,1,0,0,0,1518,1519,1,0,0,0,1519,1521,1,0,0,0,1520,1514,1,0,0,0,1520,1515,1,0,0,0,1521,227,1,0,0,0,1522,1523,5,46,0,0,1523,1527,3,226,113,0,1524,1525,5,115,0,0,1525,1527,3,230,115,0,1526,1522,1,0,0,0,1526,1524,1,0,0,0,1527,229,1,0,0,0,1528,1530,5,68,0,0,1529,1531,3,188,94,0,1530,1529,1,0,0,0,1530,1531,1,0,0,0,1531,1532,1,0,0,0,1532,1533,5,69,0,0,1533,231,1,0,0,0,195,235,238,243,249,256,258,265,267,275,277,285,287,293,295,303,305,308,316,319,326,335,341,347,350,355,368,374,379,383,393,398,403,409,417,426,431,438,445,448,455,465,469,474,478,482,492,500,506,513,520,524,527,530,539,545,550,553,559,565,569,577,586,594,600,604,615,624,629,635,639,651,662,667,676,684,694,703,711,716,724,729,739,749,755,759,767,771,773,779,784,788,795,797,804,809,818,823,826,831,840,853,864,867,874,884,892,895,898,911,919,924,932,936,940,944,946,950,956,967,977,982,991,996,999,1006,1015,1038,1041,1044,1052,1056,1064,1070,1081,1090,1095,1105,1112,1125,1134,1143,1149,1160,1165,1170,1175,1179,1183,1187,1189,1193,1198,1215,1236,1240,1245,1249,1265,1305,1311,1326,1329,1331,1341,1350,1354,1358,1376,1378,1383,1388,1393,1402,1404,1408,1413,1417,1421,1425,1435,1447,1454,1457,1461,1469,1474,1485,1489,1494,1500,1509,1518,1520,1526,1530];static __ATN;static get _ATN(){return ProcessingParser.__ATN||(ProcessingParser.__ATN=new We().deserialize(ProcessingParser._serializedATN)),ProcessingParser.__ATN}static DecisionsToDFA=ProcessingParser._ATN.decisionToState.map((ds,index)=>new Qe(ds,index))}class ProcessingSketchContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}staticProcessingSketch(){return this.getTypedRuleContext(StaticProcessingSketchContext,0)}javaProcessingSketch(){return this.getTypedRuleContext(JavaProcessingSketchContext,0)}activeProcessingSketch(){return this.getTypedRuleContext(ActiveProcessingSketchContext,0)}get ruleIndex(){return ProcessingParser.RULE_processingSketch}accept(visitor){return visitor.visitProcessingSketch?visitor.visitProcessingSketch(this):visitor.visitChildren(this)}}class JavaProcessingSketchContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}EOF(){return this.getToken(ProcessingParser.EOF,0)}packageDeclaration(){return this.getTypedRuleContext(PackageDeclarationContext,0)}importDeclaration_list(){return this.getTypedRuleContexts(ImportDeclarationContext)}importDeclaration(i2){return this.getTypedRuleContext(ImportDeclarationContext,i2)}typeDeclaration_list(){return this.getTypedRuleContexts(TypeDeclarationContext)}typeDeclaration(i2){return this.getTypedRuleContext(TypeDeclarationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_javaProcessingSketch}accept(visitor){return visitor.visitJavaProcessingSketch?visitor.visitJavaProcessingSketch(this):visitor.visitChildren(this)}}class StaticProcessingSketchContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}EOF(){return this.getToken(ProcessingParser.EOF,0)}importDeclaration_list(){return this.getTypedRuleContexts(ImportDeclarationContext)}importDeclaration(i2){return this.getTypedRuleContext(ImportDeclarationContext,i2)}blockStatement_list(){return this.getTypedRuleContexts(BlockStatementContext)}blockStatement(i2){return this.getTypedRuleContext(BlockStatementContext,i2)}typeDeclaration_list(){return this.getTypedRuleContexts(TypeDeclarationContext)}typeDeclaration(i2){return this.getTypedRuleContext(TypeDeclarationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_staticProcessingSketch}accept(visitor){return visitor.visitStaticProcessingSketch?visitor.visitStaticProcessingSketch(this):visitor.visitChildren(this)}}class ActiveProcessingSketchContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}EOF(){return this.getToken(ProcessingParser.EOF,0)}importDeclaration_list(){return this.getTypedRuleContexts(ImportDeclarationContext)}importDeclaration(i2){return this.getTypedRuleContext(ImportDeclarationContext,i2)}classBodyDeclaration_list(){return this.getTypedRuleContexts(ClassBodyDeclarationContext)}classBodyDeclaration(i2){return this.getTypedRuleContext(ClassBodyDeclarationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_activeProcessingSketch}accept(visitor){return visitor.visitActiveProcessingSketch?visitor.visitActiveProcessingSketch(this):visitor.visitChildren(this)}}class WarnMixedModesContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}blockStatement_list(){return this.getTypedRuleContexts(BlockStatementContext)}blockStatement(i2){return this.getTypedRuleContext(BlockStatementContext,i2)}classBodyDeclaration_list(){return this.getTypedRuleContexts(ClassBodyDeclarationContext)}classBodyDeclaration(i2){return this.getTypedRuleContext(ClassBodyDeclarationContext,i2)}importDeclaration_list(){return this.getTypedRuleContexts(ImportDeclarationContext)}importDeclaration(i2){return this.getTypedRuleContext(ImportDeclarationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_warnMixedModes}accept(visitor){return visitor.visitWarnMixedModes?visitor.visitWarnMixedModes(this):visitor.visitChildren(this)}}class VariableDeclaratorIdContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}warnTypeAsVariableName(){return this.getTypedRuleContext(WarnTypeAsVariableNameContext,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}LBRACK_list(){return this.getTokens(ProcessingParser.LBRACK)}LBRACK(i2){return this.getToken(ProcessingParser.LBRACK,i2)}RBRACK_list(){return this.getTokens(ProcessingParser.RBRACK)}RBRACK(i2){return this.getToken(ProcessingParser.RBRACK,i2)}get ruleIndex(){return ProcessingParser.RULE_variableDeclaratorId}accept(visitor){return visitor.visitVariableDeclaratorId?visitor.visitVariableDeclaratorId(this):visitor.visitChildren(this)}}class WarnTypeAsVariableNameContext extends Sn{_primitiveType;constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}primitiveType(){return this.getTypedRuleContext(PrimitiveTypeContext,0)}LBRACK_list(){return this.getTokens(ProcessingParser.LBRACK)}LBRACK(i2){return this.getToken(ProcessingParser.LBRACK,i2)}RBRACK_list(){return this.getTokens(ProcessingParser.RBRACK)}RBRACK(i2){return this.getToken(ProcessingParser.RBRACK,i2)}get ruleIndex(){return ProcessingParser.RULE_warnTypeAsVariableName}accept(visitor){return visitor.visitWarnTypeAsVariableName?visitor.visitWarnTypeAsVariableName(this):visitor.visitChildren(this)}}class MethodCallContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}functionWithPrimitiveTypeName(){return this.getTypedRuleContext(FunctionWithPrimitiveTypeNameContext,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}expressionList(){return this.getTypedRuleContext(ExpressionListContext,0)}THIS(){return this.getToken(ProcessingParser.THIS,0)}SUPER(){return this.getToken(ProcessingParser.SUPER,0)}get ruleIndex(){return ProcessingParser.RULE_methodCall}accept(visitor){return visitor.visitMethodCall?visitor.visitMethodCall(this):visitor.visitChildren(this)}}class FunctionWithPrimitiveTypeNameContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}BOOLEAN(){return this.getToken(ProcessingParser.BOOLEAN,0)}BYTE(){return this.getToken(ProcessingParser.BYTE,0)}CHAR(){return this.getToken(ProcessingParser.CHAR,0)}FLOAT(){return this.getToken(ProcessingParser.FLOAT,0)}INT(){return this.getToken(ProcessingParser.INT,0)}expressionList(){return this.getTypedRuleContext(ExpressionListContext,0)}get ruleIndex(){return ProcessingParser.RULE_functionWithPrimitiveTypeName}accept(visitor){return visitor.visitFunctionWithPrimitiveTypeName?visitor.visitFunctionWithPrimitiveTypeName(this):visitor.visitChildren(this)}}class PrimitiveTypeContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}BOOLEAN(){return this.getToken(ProcessingParser.BOOLEAN,0)}CHAR(){return this.getToken(ProcessingParser.CHAR,0)}BYTE(){return this.getToken(ProcessingParser.BYTE,0)}SHORT(){return this.getToken(ProcessingParser.SHORT,0)}INT(){return this.getToken(ProcessingParser.INT,0)}LONG(){return this.getToken(ProcessingParser.LONG,0)}FLOAT(){return this.getToken(ProcessingParser.FLOAT,0)}DOUBLE(){return this.getToken(ProcessingParser.DOUBLE,0)}colorPrimitiveType(){return this.getTypedRuleContext(ColorPrimitiveTypeContext,0)}get ruleIndex(){return ProcessingParser.RULE_primitiveType}accept(visitor){return visitor.visitPrimitiveType?visitor.visitPrimitiveType(this):visitor.visitChildren(this)}}class ColorPrimitiveTypeContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}get ruleIndex(){return ProcessingParser.RULE_colorPrimitiveType}accept(visitor){return visitor.visitColorPrimitiveType?visitor.visitColorPrimitiveType(this):visitor.visitChildren(this)}}class QualifiedNameContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER_list(){return this.getTokens(ProcessingParser.IDENTIFIER)}IDENTIFIER(i2){return this.getToken(ProcessingParser.IDENTIFIER,i2)}colorPrimitiveType_list(){return this.getTypedRuleContexts(ColorPrimitiveTypeContext)}colorPrimitiveType(i2){return this.getTypedRuleContext(ColorPrimitiveTypeContext,i2)}DOT_list(){return this.getTokens(ProcessingParser.DOT)}DOT(i2){return this.getToken(ProcessingParser.DOT,i2)}get ruleIndex(){return ProcessingParser.RULE_qualifiedName}accept(visitor){return visitor.visitQualifiedName?visitor.visitQualifiedName(this):visitor.visitChildren(this)}}class LiteralContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}integerLiteral(){return this.getTypedRuleContext(IntegerLiteralContext,0)}floatLiteral(){return this.getTypedRuleContext(FloatLiteralContext,0)}CHAR_LITERAL(){return this.getToken(ProcessingParser.CHAR_LITERAL,0)}stringLiteral(){return this.getTypedRuleContext(StringLiteralContext,0)}BOOL_LITERAL(){return this.getToken(ProcessingParser.BOOL_LITERAL,0)}NULL_LITERAL(){return this.getToken(ProcessingParser.NULL_LITERAL,0)}hexColorLiteral(){return this.getTypedRuleContext(HexColorLiteralContext,0)}get ruleIndex(){return ProcessingParser.RULE_literal}accept(visitor){return visitor.visitLiteral?visitor.visitLiteral(this):visitor.visitChildren(this)}}class HexColorLiteralContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}HexColorLiteral(){return this.getToken(ProcessingParser.HexColorLiteral,0)}get ruleIndex(){return ProcessingParser.RULE_hexColorLiteral}accept(visitor){return visitor.visitHexColorLiteral?visitor.visitHexColorLiteral(this):visitor.visitChildren(this)}}class CompilationUnitContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}EOF(){return this.getToken(ProcessingParser.EOF,0)}packageDeclaration(){return this.getTypedRuleContext(PackageDeclarationContext,0)}importDeclaration_list(){return this.getTypedRuleContexts(ImportDeclarationContext)}importDeclaration(i2){return this.getTypedRuleContext(ImportDeclarationContext,i2)}typeDeclaration_list(){return this.getTypedRuleContexts(TypeDeclarationContext)}typeDeclaration(i2){return this.getTypedRuleContext(TypeDeclarationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_compilationUnit}accept(visitor){return visitor.visitCompilationUnit?visitor.visitCompilationUnit(this):visitor.visitChildren(this)}}class PackageDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}PACKAGE(){return this.getToken(ProcessingParser.PACKAGE,0)}qualifiedName(){return this.getTypedRuleContext(QualifiedNameContext,0)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}annotation_list(){return this.getTypedRuleContexts(AnnotationContext)}annotation(i2){return this.getTypedRuleContext(AnnotationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_packageDeclaration}accept(visitor){return visitor.visitPackageDeclaration?visitor.visitPackageDeclaration(this):visitor.visitChildren(this)}}class ImportDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IMPORT(){return this.getToken(ProcessingParser.IMPORT,0)}qualifiedName(){return this.getTypedRuleContext(QualifiedNameContext,0)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}STATIC(){return this.getToken(ProcessingParser.STATIC,0)}DOT(){return this.getToken(ProcessingParser.DOT,0)}MUL(){return this.getToken(ProcessingParser.MUL,0)}get ruleIndex(){return ProcessingParser.RULE_importDeclaration}accept(visitor){return visitor.visitImportDeclaration?visitor.visitImportDeclaration(this):visitor.visitChildren(this)}}class TypeDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}classDeclaration(){return this.getTypedRuleContext(ClassDeclarationContext,0)}enumDeclaration(){return this.getTypedRuleContext(EnumDeclarationContext,0)}interfaceDeclaration(){return this.getTypedRuleContext(InterfaceDeclarationContext,0)}annotationTypeDeclaration(){return this.getTypedRuleContext(AnnotationTypeDeclarationContext,0)}classOrInterfaceModifier_list(){return this.getTypedRuleContexts(ClassOrInterfaceModifierContext)}classOrInterfaceModifier(i2){return this.getTypedRuleContext(ClassOrInterfaceModifierContext,i2)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}get ruleIndex(){return ProcessingParser.RULE_typeDeclaration}accept(visitor){return visitor.visitTypeDeclaration?visitor.visitTypeDeclaration(this):visitor.visitChildren(this)}}class ModifierContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}classOrInterfaceModifier(){return this.getTypedRuleContext(ClassOrInterfaceModifierContext,0)}NATIVE(){return this.getToken(ProcessingParser.NATIVE,0)}SYNCHRONIZED(){return this.getToken(ProcessingParser.SYNCHRONIZED,0)}TRANSIENT(){return this.getToken(ProcessingParser.TRANSIENT,0)}VOLATILE(){return this.getToken(ProcessingParser.VOLATILE,0)}get ruleIndex(){return ProcessingParser.RULE_modifier}accept(visitor){return visitor.visitModifier?visitor.visitModifier(this):visitor.visitChildren(this)}}class ClassOrInterfaceModifierContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}annotation(){return this.getTypedRuleContext(AnnotationContext,0)}PUBLIC(){return this.getToken(ProcessingParser.PUBLIC,0)}PROTECTED(){return this.getToken(ProcessingParser.PROTECTED,0)}PRIVATE(){return this.getToken(ProcessingParser.PRIVATE,0)}STATIC(){return this.getToken(ProcessingParser.STATIC,0)}ABSTRACT(){return this.getToken(ProcessingParser.ABSTRACT,0)}FINAL(){return this.getToken(ProcessingParser.FINAL,0)}STRICTFP(){return this.getToken(ProcessingParser.STRICTFP,0)}get ruleIndex(){return ProcessingParser.RULE_classOrInterfaceModifier}accept(visitor){return visitor.visitClassOrInterfaceModifier?visitor.visitClassOrInterfaceModifier(this):visitor.visitChildren(this)}}class VariableModifierContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}FINAL(){return this.getToken(ProcessingParser.FINAL,0)}annotation(){return this.getTypedRuleContext(AnnotationContext,0)}get ruleIndex(){return ProcessingParser.RULE_variableModifier}accept(visitor){return visitor.visitVariableModifier?visitor.visitVariableModifier(this):visitor.visitChildren(this)}}class ClassDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}CLASS(){return this.getToken(ProcessingParser.CLASS,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}classBody(){return this.getTypedRuleContext(ClassBodyContext,0)}typeParameters(){return this.getTypedRuleContext(TypeParametersContext,0)}EXTENDS(){return this.getToken(ProcessingParser.EXTENDS,0)}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}IMPLEMENTS(){return this.getToken(ProcessingParser.IMPLEMENTS,0)}typeList(){return this.getTypedRuleContext(TypeListContext,0)}get ruleIndex(){return ProcessingParser.RULE_classDeclaration}accept(visitor){return visitor.visitClassDeclaration?visitor.visitClassDeclaration(this):visitor.visitChildren(this)}}class TypeParametersContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LT(){return this.getToken(ProcessingParser.LT,0)}typeParameter_list(){return this.getTypedRuleContexts(TypeParameterContext)}typeParameter(i2){return this.getTypedRuleContext(TypeParameterContext,i2)}GT(){return this.getToken(ProcessingParser.GT,0)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_typeParameters}accept(visitor){return visitor.visitTypeParameters?visitor.visitTypeParameters(this):visitor.visitChildren(this)}}class TypeParameterContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}annotation_list(){return this.getTypedRuleContexts(AnnotationContext)}annotation(i2){return this.getTypedRuleContext(AnnotationContext,i2)}EXTENDS(){return this.getToken(ProcessingParser.EXTENDS,0)}typeBound(){return this.getTypedRuleContext(TypeBoundContext,0)}get ruleIndex(){return ProcessingParser.RULE_typeParameter}accept(visitor){return visitor.visitTypeParameter?visitor.visitTypeParameter(this):visitor.visitChildren(this)}}class TypeBoundContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType_list(){return this.getTypedRuleContexts(TypeTypeContext)}typeType(i2){return this.getTypedRuleContext(TypeTypeContext,i2)}BITAND_list(){return this.getTokens(ProcessingParser.BITAND)}BITAND(i2){return this.getToken(ProcessingParser.BITAND,i2)}get ruleIndex(){return ProcessingParser.RULE_typeBound}accept(visitor){return visitor.visitTypeBound?visitor.visitTypeBound(this):visitor.visitChildren(this)}}class EnumDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}ENUM(){return this.getToken(ProcessingParser.ENUM,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}LBRACE(){return this.getToken(ProcessingParser.LBRACE,0)}RBRACE(){return this.getToken(ProcessingParser.RBRACE,0)}IMPLEMENTS(){return this.getToken(ProcessingParser.IMPLEMENTS,0)}typeList(){return this.getTypedRuleContext(TypeListContext,0)}enumConstants(){return this.getTypedRuleContext(EnumConstantsContext,0)}COMMA(){return this.getToken(ProcessingParser.COMMA,0)}enumBodyDeclarations(){return this.getTypedRuleContext(EnumBodyDeclarationsContext,0)}get ruleIndex(){return ProcessingParser.RULE_enumDeclaration}accept(visitor){return visitor.visitEnumDeclaration?visitor.visitEnumDeclaration(this):visitor.visitChildren(this)}}class EnumConstantsContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}enumConstant_list(){return this.getTypedRuleContexts(EnumConstantContext)}enumConstant(i2){return this.getTypedRuleContext(EnumConstantContext,i2)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_enumConstants}accept(visitor){return visitor.visitEnumConstants?visitor.visitEnumConstants(this):visitor.visitChildren(this)}}class EnumConstantContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}annotation_list(){return this.getTypedRuleContexts(AnnotationContext)}annotation(i2){return this.getTypedRuleContext(AnnotationContext,i2)}arguments(){return this.getTypedRuleContext(ArgumentsContext,0)}classBody(){return this.getTypedRuleContext(ClassBodyContext,0)}get ruleIndex(){return ProcessingParser.RULE_enumConstant}accept(visitor){return visitor.visitEnumConstant?visitor.visitEnumConstant(this):visitor.visitChildren(this)}}class EnumBodyDeclarationsContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}classBodyDeclaration_list(){return this.getTypedRuleContexts(ClassBodyDeclarationContext)}classBodyDeclaration(i2){return this.getTypedRuleContext(ClassBodyDeclarationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_enumBodyDeclarations}accept(visitor){return visitor.visitEnumBodyDeclarations?visitor.visitEnumBodyDeclarations(this):visitor.visitChildren(this)}}class InterfaceDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}INTERFACE(){return this.getToken(ProcessingParser.INTERFACE,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}interfaceBody(){return this.getTypedRuleContext(InterfaceBodyContext,0)}typeParameters(){return this.getTypedRuleContext(TypeParametersContext,0)}EXTENDS(){return this.getToken(ProcessingParser.EXTENDS,0)}typeList(){return this.getTypedRuleContext(TypeListContext,0)}get ruleIndex(){return ProcessingParser.RULE_interfaceDeclaration}accept(visitor){return visitor.visitInterfaceDeclaration?visitor.visitInterfaceDeclaration(this):visitor.visitChildren(this)}}class ClassBodyContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LBRACE(){return this.getToken(ProcessingParser.LBRACE,0)}RBRACE(){return this.getToken(ProcessingParser.RBRACE,0)}classBodyDeclaration_list(){return this.getTypedRuleContexts(ClassBodyDeclarationContext)}classBodyDeclaration(i2){return this.getTypedRuleContext(ClassBodyDeclarationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_classBody}accept(visitor){return visitor.visitClassBody?visitor.visitClassBody(this):visitor.visitChildren(this)}}class InterfaceBodyContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LBRACE(){return this.getToken(ProcessingParser.LBRACE,0)}RBRACE(){return this.getToken(ProcessingParser.RBRACE,0)}interfaceBodyDeclaration_list(){return this.getTypedRuleContexts(InterfaceBodyDeclarationContext)}interfaceBodyDeclaration(i2){return this.getTypedRuleContext(InterfaceBodyDeclarationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_interfaceBody}accept(visitor){return visitor.visitInterfaceBody?visitor.visitInterfaceBody(this):visitor.visitChildren(this)}}class ClassBodyDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}importDeclaration(){return this.getTypedRuleContext(ImportDeclarationContext,0)}block(){return this.getTypedRuleContext(BlockContext,0)}STATIC(){return this.getToken(ProcessingParser.STATIC,0)}memberDeclaration(){return this.getTypedRuleContext(MemberDeclarationContext,0)}modifier_list(){return this.getTypedRuleContexts(ModifierContext)}modifier(i2){return this.getTypedRuleContext(ModifierContext,i2)}get ruleIndex(){return ProcessingParser.RULE_classBodyDeclaration}accept(visitor){return visitor.visitClassBodyDeclaration?visitor.visitClassBodyDeclaration(this):visitor.visitChildren(this)}}class MemberDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}methodDeclaration(){return this.getTypedRuleContext(MethodDeclarationContext,0)}genericMethodDeclaration(){return this.getTypedRuleContext(GenericMethodDeclarationContext,0)}fieldDeclaration(){return this.getTypedRuleContext(FieldDeclarationContext,0)}constructorDeclaration(){return this.getTypedRuleContext(ConstructorDeclarationContext,0)}genericConstructorDeclaration(){return this.getTypedRuleContext(GenericConstructorDeclarationContext,0)}interfaceDeclaration(){return this.getTypedRuleContext(InterfaceDeclarationContext,0)}annotationTypeDeclaration(){return this.getTypedRuleContext(AnnotationTypeDeclarationContext,0)}classDeclaration(){return this.getTypedRuleContext(ClassDeclarationContext,0)}enumDeclaration(){return this.getTypedRuleContext(EnumDeclarationContext,0)}get ruleIndex(){return ProcessingParser.RULE_memberDeclaration}accept(visitor){return visitor.visitMemberDeclaration?visitor.visitMemberDeclaration(this):visitor.visitChildren(this)}}class MethodDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeTypeOrVoid(){return this.getTypedRuleContext(TypeTypeOrVoidContext,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}formalParameters(){return this.getTypedRuleContext(FormalParametersContext,0)}methodBody(){return this.getTypedRuleContext(MethodBodyContext,0)}LBRACK_list(){return this.getTokens(ProcessingParser.LBRACK)}LBRACK(i2){return this.getToken(ProcessingParser.LBRACK,i2)}RBRACK_list(){return this.getTokens(ProcessingParser.RBRACK)}RBRACK(i2){return this.getToken(ProcessingParser.RBRACK,i2)}THROWS(){return this.getToken(ProcessingParser.THROWS,0)}qualifiedNameList(){return this.getTypedRuleContext(QualifiedNameListContext,0)}get ruleIndex(){return ProcessingParser.RULE_methodDeclaration}accept(visitor){return visitor.visitMethodDeclaration?visitor.visitMethodDeclaration(this):visitor.visitChildren(this)}}class MethodBodyContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}block(){return this.getTypedRuleContext(BlockContext,0)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}get ruleIndex(){return ProcessingParser.RULE_methodBody}accept(visitor){return visitor.visitMethodBody?visitor.visitMethodBody(this):visitor.visitChildren(this)}}class TypeTypeOrVoidContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}VOID(){return this.getToken(ProcessingParser.VOID,0)}get ruleIndex(){return ProcessingParser.RULE_typeTypeOrVoid}accept(visitor){return visitor.visitTypeTypeOrVoid?visitor.visitTypeTypeOrVoid(this):visitor.visitChildren(this)}}class GenericMethodDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeParameters(){return this.getTypedRuleContext(TypeParametersContext,0)}methodDeclaration(){return this.getTypedRuleContext(MethodDeclarationContext,0)}get ruleIndex(){return ProcessingParser.RULE_genericMethodDeclaration}accept(visitor){return visitor.visitGenericMethodDeclaration?visitor.visitGenericMethodDeclaration(this):visitor.visitChildren(this)}}class GenericConstructorDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeParameters(){return this.getTypedRuleContext(TypeParametersContext,0)}constructorDeclaration(){return this.getTypedRuleContext(ConstructorDeclarationContext,0)}get ruleIndex(){return ProcessingParser.RULE_genericConstructorDeclaration}accept(visitor){return visitor.visitGenericConstructorDeclaration?visitor.visitGenericConstructorDeclaration(this):visitor.visitChildren(this)}}class ConstructorDeclarationContext extends Sn{_constructorBody;constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}formalParameters(){return this.getTypedRuleContext(FormalParametersContext,0)}block(){return this.getTypedRuleContext(BlockContext,0)}THROWS(){return this.getToken(ProcessingParser.THROWS,0)}qualifiedNameList(){return this.getTypedRuleContext(QualifiedNameListContext,0)}get ruleIndex(){return ProcessingParser.RULE_constructorDeclaration}accept(visitor){return visitor.visitConstructorDeclaration?visitor.visitConstructorDeclaration(this):visitor.visitChildren(this)}}class FieldDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}variableDeclarators(){return this.getTypedRuleContext(VariableDeclaratorsContext,0)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}get ruleIndex(){return ProcessingParser.RULE_fieldDeclaration}accept(visitor){return visitor.visitFieldDeclaration?visitor.visitFieldDeclaration(this):visitor.visitChildren(this)}}class InterfaceBodyDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}interfaceMemberDeclaration(){return this.getTypedRuleContext(InterfaceMemberDeclarationContext,0)}modifier_list(){return this.getTypedRuleContexts(ModifierContext)}modifier(i2){return this.getTypedRuleContext(ModifierContext,i2)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}get ruleIndex(){return ProcessingParser.RULE_interfaceBodyDeclaration}accept(visitor){return visitor.visitInterfaceBodyDeclaration?visitor.visitInterfaceBodyDeclaration(this):visitor.visitChildren(this)}}class InterfaceMemberDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}constDeclaration(){return this.getTypedRuleContext(ConstDeclarationContext,0)}interfaceMethodDeclaration(){return this.getTypedRuleContext(InterfaceMethodDeclarationContext,0)}genericInterfaceMethodDeclaration(){return this.getTypedRuleContext(GenericInterfaceMethodDeclarationContext,0)}interfaceDeclaration(){return this.getTypedRuleContext(InterfaceDeclarationContext,0)}annotationTypeDeclaration(){return this.getTypedRuleContext(AnnotationTypeDeclarationContext,0)}classDeclaration(){return this.getTypedRuleContext(ClassDeclarationContext,0)}enumDeclaration(){return this.getTypedRuleContext(EnumDeclarationContext,0)}get ruleIndex(){return ProcessingParser.RULE_interfaceMemberDeclaration}accept(visitor){return visitor.visitInterfaceMemberDeclaration?visitor.visitInterfaceMemberDeclaration(this):visitor.visitChildren(this)}}class ConstDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}constantDeclarator_list(){return this.getTypedRuleContexts(ConstantDeclaratorContext)}constantDeclarator(i2){return this.getTypedRuleContext(ConstantDeclaratorContext,i2)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_constDeclaration}accept(visitor){return visitor.visitConstDeclaration?visitor.visitConstDeclaration(this):visitor.visitChildren(this)}}class ConstantDeclaratorContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}ASSIGN(){return this.getToken(ProcessingParser.ASSIGN,0)}variableInitializer(){return this.getTypedRuleContext(VariableInitializerContext,0)}LBRACK_list(){return this.getTokens(ProcessingParser.LBRACK)}LBRACK(i2){return this.getToken(ProcessingParser.LBRACK,i2)}RBRACK_list(){return this.getTokens(ProcessingParser.RBRACK)}RBRACK(i2){return this.getToken(ProcessingParser.RBRACK,i2)}get ruleIndex(){return ProcessingParser.RULE_constantDeclarator}accept(visitor){return visitor.visitConstantDeclarator?visitor.visitConstantDeclarator(this):visitor.visitChildren(this)}}class InterfaceMethodDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}formalParameters(){return this.getTypedRuleContext(FormalParametersContext,0)}methodBody(){return this.getTypedRuleContext(MethodBodyContext,0)}typeTypeOrVoid(){return this.getTypedRuleContext(TypeTypeOrVoidContext,0)}typeParameters(){return this.getTypedRuleContext(TypeParametersContext,0)}interfaceMethodModifier_list(){return this.getTypedRuleContexts(InterfaceMethodModifierContext)}interfaceMethodModifier(i2){return this.getTypedRuleContext(InterfaceMethodModifierContext,i2)}LBRACK_list(){return this.getTokens(ProcessingParser.LBRACK)}LBRACK(i2){return this.getToken(ProcessingParser.LBRACK,i2)}RBRACK_list(){return this.getTokens(ProcessingParser.RBRACK)}RBRACK(i2){return this.getToken(ProcessingParser.RBRACK,i2)}THROWS(){return this.getToken(ProcessingParser.THROWS,0)}qualifiedNameList(){return this.getTypedRuleContext(QualifiedNameListContext,0)}annotation_list(){return this.getTypedRuleContexts(AnnotationContext)}annotation(i2){return this.getTypedRuleContext(AnnotationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_interfaceMethodDeclaration}accept(visitor){return visitor.visitInterfaceMethodDeclaration?visitor.visitInterfaceMethodDeclaration(this):visitor.visitChildren(this)}}class InterfaceMethodModifierContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}annotation(){return this.getTypedRuleContext(AnnotationContext,0)}PUBLIC(){return this.getToken(ProcessingParser.PUBLIC,0)}ABSTRACT(){return this.getToken(ProcessingParser.ABSTRACT,0)}DEFAULT(){return this.getToken(ProcessingParser.DEFAULT,0)}STATIC(){return this.getToken(ProcessingParser.STATIC,0)}STRICTFP(){return this.getToken(ProcessingParser.STRICTFP,0)}get ruleIndex(){return ProcessingParser.RULE_interfaceMethodModifier}accept(visitor){return visitor.visitInterfaceMethodModifier?visitor.visitInterfaceMethodModifier(this):visitor.visitChildren(this)}}class GenericInterfaceMethodDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeParameters(){return this.getTypedRuleContext(TypeParametersContext,0)}interfaceMethodDeclaration(){return this.getTypedRuleContext(InterfaceMethodDeclarationContext,0)}get ruleIndex(){return ProcessingParser.RULE_genericInterfaceMethodDeclaration}accept(visitor){return visitor.visitGenericInterfaceMethodDeclaration?visitor.visitGenericInterfaceMethodDeclaration(this):visitor.visitChildren(this)}}class VariableDeclaratorsContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}variableDeclarator_list(){return this.getTypedRuleContexts(VariableDeclaratorContext)}variableDeclarator(i2){return this.getTypedRuleContext(VariableDeclaratorContext,i2)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_variableDeclarators}accept(visitor){return visitor.visitVariableDeclarators?visitor.visitVariableDeclarators(this):visitor.visitChildren(this)}}class VariableDeclaratorContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}variableDeclaratorId(){return this.getTypedRuleContext(VariableDeclaratorIdContext,0)}ASSIGN(){return this.getToken(ProcessingParser.ASSIGN,0)}variableInitializer(){return this.getTypedRuleContext(VariableInitializerContext,0)}get ruleIndex(){return ProcessingParser.RULE_variableDeclarator}accept(visitor){return visitor.visitVariableDeclarator?visitor.visitVariableDeclarator(this):visitor.visitChildren(this)}}class VariableInitializerContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}arrayInitializer(){return this.getTypedRuleContext(ArrayInitializerContext,0)}expression(){return this.getTypedRuleContext(ExpressionContext,0)}get ruleIndex(){return ProcessingParser.RULE_variableInitializer}accept(visitor){return visitor.visitVariableInitializer?visitor.visitVariableInitializer(this):visitor.visitChildren(this)}}class ArrayInitializerContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LBRACE(){return this.getToken(ProcessingParser.LBRACE,0)}RBRACE(){return this.getToken(ProcessingParser.RBRACE,0)}variableInitializer_list(){return this.getTypedRuleContexts(VariableInitializerContext)}variableInitializer(i2){return this.getTypedRuleContext(VariableInitializerContext,i2)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_arrayInitializer}accept(visitor){return visitor.visitArrayInitializer?visitor.visitArrayInitializer(this):visitor.visitChildren(this)}}class ClassOrInterfaceTypeContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER_list(){return this.getTokens(ProcessingParser.IDENTIFIER)}IDENTIFIER(i2){return this.getToken(ProcessingParser.IDENTIFIER,i2)}typeArguments_list(){return this.getTypedRuleContexts(TypeArgumentsContext)}typeArguments(i2){return this.getTypedRuleContext(TypeArgumentsContext,i2)}DOT_list(){return this.getTokens(ProcessingParser.DOT)}DOT(i2){return this.getToken(ProcessingParser.DOT,i2)}get ruleIndex(){return ProcessingParser.RULE_classOrInterfaceType}accept(visitor){return visitor.visitClassOrInterfaceType?visitor.visitClassOrInterfaceType(this):visitor.visitChildren(this)}}class TypeArgumentContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}QUESTION(){return this.getToken(ProcessingParser.QUESTION,0)}EXTENDS(){return this.getToken(ProcessingParser.EXTENDS,0)}SUPER(){return this.getToken(ProcessingParser.SUPER,0)}get ruleIndex(){return ProcessingParser.RULE_typeArgument}accept(visitor){return visitor.visitTypeArgument?visitor.visitTypeArgument(this):visitor.visitChildren(this)}}class QualifiedNameListContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}qualifiedName_list(){return this.getTypedRuleContexts(QualifiedNameContext)}qualifiedName(i2){return this.getTypedRuleContext(QualifiedNameContext,i2)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_qualifiedNameList}accept(visitor){return visitor.visitQualifiedNameList?visitor.visitQualifiedNameList(this):visitor.visitChildren(this)}}class FormalParametersContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}formalParameterList(){return this.getTypedRuleContext(FormalParameterListContext,0)}get ruleIndex(){return ProcessingParser.RULE_formalParameters}accept(visitor){return visitor.visitFormalParameters?visitor.visitFormalParameters(this):visitor.visitChildren(this)}}class FormalParameterListContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}formalParameter_list(){return this.getTypedRuleContexts(FormalParameterContext)}formalParameter(i2){return this.getTypedRuleContext(FormalParameterContext,i2)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}lastFormalParameter(){return this.getTypedRuleContext(LastFormalParameterContext,0)}get ruleIndex(){return ProcessingParser.RULE_formalParameterList}accept(visitor){return visitor.visitFormalParameterList?visitor.visitFormalParameterList(this):visitor.visitChildren(this)}}class FormalParameterContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}variableDeclaratorId(){return this.getTypedRuleContext(VariableDeclaratorIdContext,0)}variableModifier_list(){return this.getTypedRuleContexts(VariableModifierContext)}variableModifier(i2){return this.getTypedRuleContext(VariableModifierContext,i2)}get ruleIndex(){return ProcessingParser.RULE_formalParameter}accept(visitor){return visitor.visitFormalParameter?visitor.visitFormalParameter(this):visitor.visitChildren(this)}}class LastFormalParameterContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}ELLIPSIS(){return this.getToken(ProcessingParser.ELLIPSIS,0)}variableDeclaratorId(){return this.getTypedRuleContext(VariableDeclaratorIdContext,0)}variableModifier_list(){return this.getTypedRuleContexts(VariableModifierContext)}variableModifier(i2){return this.getTypedRuleContext(VariableModifierContext,i2)}get ruleIndex(){return ProcessingParser.RULE_lastFormalParameter}accept(visitor){return visitor.visitLastFormalParameter?visitor.visitLastFormalParameter(this):visitor.visitChildren(this)}}class BaseStringLiteralContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}STRING_LITERAL(){return this.getToken(ProcessingParser.STRING_LITERAL,0)}get ruleIndex(){return ProcessingParser.RULE_baseStringLiteral}accept(visitor){return visitor.visitBaseStringLiteral?visitor.visitBaseStringLiteral(this):visitor.visitChildren(this)}}class MultilineStringLiteralContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}MULTI_STRING_LIT(){return this.getToken(ProcessingParser.MULTI_STRING_LIT,0)}get ruleIndex(){return ProcessingParser.RULE_multilineStringLiteral}accept(visitor){return visitor.visitMultilineStringLiteral?visitor.visitMultilineStringLiteral(this):visitor.visitChildren(this)}}class StringLiteralContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}baseStringLiteral(){return this.getTypedRuleContext(BaseStringLiteralContext,0)}multilineStringLiteral(){return this.getTypedRuleContext(MultilineStringLiteralContext,0)}get ruleIndex(){return ProcessingParser.RULE_stringLiteral}accept(visitor){return visitor.visitStringLiteral?visitor.visitStringLiteral(this):visitor.visitChildren(this)}}class IntegerLiteralContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}DECIMAL_LITERAL(){return this.getToken(ProcessingParser.DECIMAL_LITERAL,0)}HEX_LITERAL(){return this.getToken(ProcessingParser.HEX_LITERAL,0)}OCT_LITERAL(){return this.getToken(ProcessingParser.OCT_LITERAL,0)}BINARY_LITERAL(){return this.getToken(ProcessingParser.BINARY_LITERAL,0)}get ruleIndex(){return ProcessingParser.RULE_integerLiteral}accept(visitor){return visitor.visitIntegerLiteral?visitor.visitIntegerLiteral(this):visitor.visitChildren(this)}}class FloatLiteralContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}FLOAT_LITERAL(){return this.getToken(ProcessingParser.FLOAT_LITERAL,0)}HEX_FLOAT_LITERAL(){return this.getToken(ProcessingParser.HEX_FLOAT_LITERAL,0)}get ruleIndex(){return ProcessingParser.RULE_floatLiteral}accept(visitor){return visitor.visitFloatLiteral?visitor.visitFloatLiteral(this):visitor.visitChildren(this)}}class AnnotationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}AT(){return this.getToken(ProcessingParser.AT,0)}qualifiedName(){return this.getTypedRuleContext(QualifiedNameContext,0)}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}elementValuePairs(){return this.getTypedRuleContext(ElementValuePairsContext,0)}elementValue(){return this.getTypedRuleContext(ElementValueContext,0)}get ruleIndex(){return ProcessingParser.RULE_annotation}accept(visitor){return visitor.visitAnnotation?visitor.visitAnnotation(this):visitor.visitChildren(this)}}class ElementValuePairsContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}elementValuePair_list(){return this.getTypedRuleContexts(ElementValuePairContext)}elementValuePair(i2){return this.getTypedRuleContext(ElementValuePairContext,i2)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_elementValuePairs}accept(visitor){return visitor.visitElementValuePairs?visitor.visitElementValuePairs(this):visitor.visitChildren(this)}}class ElementValuePairContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}ASSIGN(){return this.getToken(ProcessingParser.ASSIGN,0)}elementValue(){return this.getTypedRuleContext(ElementValueContext,0)}get ruleIndex(){return ProcessingParser.RULE_elementValuePair}accept(visitor){return visitor.visitElementValuePair?visitor.visitElementValuePair(this):visitor.visitChildren(this)}}class ElementValueContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}expression(){return this.getTypedRuleContext(ExpressionContext,0)}annotation(){return this.getTypedRuleContext(AnnotationContext,0)}elementValueArrayInitializer(){return this.getTypedRuleContext(ElementValueArrayInitializerContext,0)}get ruleIndex(){return ProcessingParser.RULE_elementValue}accept(visitor){return visitor.visitElementValue?visitor.visitElementValue(this):visitor.visitChildren(this)}}class ElementValueArrayInitializerContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LBRACE(){return this.getToken(ProcessingParser.LBRACE,0)}RBRACE(){return this.getToken(ProcessingParser.RBRACE,0)}elementValue_list(){return this.getTypedRuleContexts(ElementValueContext)}elementValue(i2){return this.getTypedRuleContext(ElementValueContext,i2)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_elementValueArrayInitializer}accept(visitor){return visitor.visitElementValueArrayInitializer?visitor.visitElementValueArrayInitializer(this):visitor.visitChildren(this)}}class AnnotationTypeDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}AT(){return this.getToken(ProcessingParser.AT,0)}INTERFACE(){return this.getToken(ProcessingParser.INTERFACE,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}annotationTypeBody(){return this.getTypedRuleContext(AnnotationTypeBodyContext,0)}get ruleIndex(){return ProcessingParser.RULE_annotationTypeDeclaration}accept(visitor){return visitor.visitAnnotationTypeDeclaration?visitor.visitAnnotationTypeDeclaration(this):visitor.visitChildren(this)}}class AnnotationTypeBodyContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LBRACE(){return this.getToken(ProcessingParser.LBRACE,0)}RBRACE(){return this.getToken(ProcessingParser.RBRACE,0)}annotationTypeElementDeclaration_list(){return this.getTypedRuleContexts(AnnotationTypeElementDeclarationContext)}annotationTypeElementDeclaration(i2){return this.getTypedRuleContext(AnnotationTypeElementDeclarationContext,i2)}get ruleIndex(){return ProcessingParser.RULE_annotationTypeBody}accept(visitor){return visitor.visitAnnotationTypeBody?visitor.visitAnnotationTypeBody(this):visitor.visitChildren(this)}}class AnnotationTypeElementDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}annotationTypeElementRest(){return this.getTypedRuleContext(AnnotationTypeElementRestContext,0)}modifier_list(){return this.getTypedRuleContexts(ModifierContext)}modifier(i2){return this.getTypedRuleContext(ModifierContext,i2)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}get ruleIndex(){return ProcessingParser.RULE_annotationTypeElementDeclaration}accept(visitor){return visitor.visitAnnotationTypeElementDeclaration?visitor.visitAnnotationTypeElementDeclaration(this):visitor.visitChildren(this)}}class AnnotationTypeElementRestContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}annotationMethodOrConstantRest(){return this.getTypedRuleContext(AnnotationMethodOrConstantRestContext,0)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}classDeclaration(){return this.getTypedRuleContext(ClassDeclarationContext,0)}interfaceDeclaration(){return this.getTypedRuleContext(InterfaceDeclarationContext,0)}enumDeclaration(){return this.getTypedRuleContext(EnumDeclarationContext,0)}annotationTypeDeclaration(){return this.getTypedRuleContext(AnnotationTypeDeclarationContext,0)}get ruleIndex(){return ProcessingParser.RULE_annotationTypeElementRest}accept(visitor){return visitor.visitAnnotationTypeElementRest?visitor.visitAnnotationTypeElementRest(this):visitor.visitChildren(this)}}class AnnotationMethodOrConstantRestContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}annotationMethodRest(){return this.getTypedRuleContext(AnnotationMethodRestContext,0)}annotationConstantRest(){return this.getTypedRuleContext(AnnotationConstantRestContext,0)}get ruleIndex(){return ProcessingParser.RULE_annotationMethodOrConstantRest}accept(visitor){return visitor.visitAnnotationMethodOrConstantRest?visitor.visitAnnotationMethodOrConstantRest(this):visitor.visitChildren(this)}}class AnnotationMethodRestContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}defaultValue(){return this.getTypedRuleContext(DefaultValueContext,0)}get ruleIndex(){return ProcessingParser.RULE_annotationMethodRest}accept(visitor){return visitor.visitAnnotationMethodRest?visitor.visitAnnotationMethodRest(this):visitor.visitChildren(this)}}class AnnotationConstantRestContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}variableDeclarators(){return this.getTypedRuleContext(VariableDeclaratorsContext,0)}get ruleIndex(){return ProcessingParser.RULE_annotationConstantRest}accept(visitor){return visitor.visitAnnotationConstantRest?visitor.visitAnnotationConstantRest(this):visitor.visitChildren(this)}}class DefaultValueContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}DEFAULT(){return this.getToken(ProcessingParser.DEFAULT,0)}elementValue(){return this.getTypedRuleContext(ElementValueContext,0)}get ruleIndex(){return ProcessingParser.RULE_defaultValue}accept(visitor){return visitor.visitDefaultValue?visitor.visitDefaultValue(this):visitor.visitChildren(this)}}class BlockContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LBRACE(){return this.getToken(ProcessingParser.LBRACE,0)}RBRACE(){return this.getToken(ProcessingParser.RBRACE,0)}blockStatement_list(){return this.getTypedRuleContexts(BlockStatementContext)}blockStatement(i2){return this.getTypedRuleContext(BlockStatementContext,i2)}get ruleIndex(){return ProcessingParser.RULE_block}accept(visitor){return visitor.visitBlock?visitor.visitBlock(this):visitor.visitChildren(this)}}class BlockStatementContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}localVariableDeclaration(){return this.getTypedRuleContext(LocalVariableDeclarationContext,0)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}statement(){return this.getTypedRuleContext(StatementContext,0)}localTypeDeclaration(){return this.getTypedRuleContext(LocalTypeDeclarationContext,0)}get ruleIndex(){return ProcessingParser.RULE_blockStatement}accept(visitor){return visitor.visitBlockStatement?visitor.visitBlockStatement(this):visitor.visitChildren(this)}}class LocalVariableDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}variableDeclarators(){return this.getTypedRuleContext(VariableDeclaratorsContext,0)}variableModifier_list(){return this.getTypedRuleContexts(VariableModifierContext)}variableModifier(i2){return this.getTypedRuleContext(VariableModifierContext,i2)}get ruleIndex(){return ProcessingParser.RULE_localVariableDeclaration}accept(visitor){return visitor.visitLocalVariableDeclaration?visitor.visitLocalVariableDeclaration(this):visitor.visitChildren(this)}}class LocalTypeDeclarationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}classDeclaration(){return this.getTypedRuleContext(ClassDeclarationContext,0)}interfaceDeclaration(){return this.getTypedRuleContext(InterfaceDeclarationContext,0)}classOrInterfaceModifier_list(){return this.getTypedRuleContexts(ClassOrInterfaceModifierContext)}classOrInterfaceModifier(i2){return this.getTypedRuleContext(ClassOrInterfaceModifierContext,i2)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}get ruleIndex(){return ProcessingParser.RULE_localTypeDeclaration}accept(visitor){return visitor.visitLocalTypeDeclaration?visitor.visitLocalTypeDeclaration(this):visitor.visitChildren(this)}}class StatementContext extends Sn{_blockLabel;_statementExpression;_identifierLabel;constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}block(){return this.getTypedRuleContext(BlockContext,0)}ASSERT(){return this.getToken(ProcessingParser.ASSERT,0)}expression_list(){return this.getTypedRuleContexts(ExpressionContext)}expression(i2){return this.getTypedRuleContext(ExpressionContext,i2)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}COLON(){return this.getToken(ProcessingParser.COLON,0)}IF(){return this.getToken(ProcessingParser.IF,0)}parExpression(){return this.getTypedRuleContext(ParExpressionContext,0)}statement_list(){return this.getTypedRuleContexts(StatementContext)}statement(i2){return this.getTypedRuleContext(StatementContext,i2)}ELSE(){return this.getToken(ProcessingParser.ELSE,0)}FOR(){return this.getToken(ProcessingParser.FOR,0)}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}forControl(){return this.getTypedRuleContext(ForControlContext,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}WHILE(){return this.getToken(ProcessingParser.WHILE,0)}DO(){return this.getToken(ProcessingParser.DO,0)}TRY(){return this.getToken(ProcessingParser.TRY,0)}finallyBlock(){return this.getTypedRuleContext(FinallyBlockContext,0)}catchClause_list(){return this.getTypedRuleContexts(CatchClauseContext)}catchClause(i2){return this.getTypedRuleContext(CatchClauseContext,i2)}resourceSpecification(){return this.getTypedRuleContext(ResourceSpecificationContext,0)}SWITCH(){return this.getToken(ProcessingParser.SWITCH,0)}LBRACE(){return this.getToken(ProcessingParser.LBRACE,0)}RBRACE(){return this.getToken(ProcessingParser.RBRACE,0)}switchBlockStatementGroup_list(){return this.getTypedRuleContexts(SwitchBlockStatementGroupContext)}switchBlockStatementGroup(i2){return this.getTypedRuleContext(SwitchBlockStatementGroupContext,i2)}switchLabel_list(){return this.getTypedRuleContexts(SwitchLabelContext)}switchLabel(i2){return this.getTypedRuleContext(SwitchLabelContext,i2)}SYNCHRONIZED(){return this.getToken(ProcessingParser.SYNCHRONIZED,0)}RETURN(){return this.getToken(ProcessingParser.RETURN,0)}THROW(){return this.getToken(ProcessingParser.THROW,0)}BREAK(){return this.getToken(ProcessingParser.BREAK,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}CONTINUE(){return this.getToken(ProcessingParser.CONTINUE,0)}get ruleIndex(){return ProcessingParser.RULE_statement}accept(visitor){return visitor.visitStatement?visitor.visitStatement(this):visitor.visitChildren(this)}}class CatchClauseContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}CATCH(){return this.getToken(ProcessingParser.CATCH,0)}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}catchType(){return this.getTypedRuleContext(CatchTypeContext,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}block(){return this.getTypedRuleContext(BlockContext,0)}variableModifier_list(){return this.getTypedRuleContexts(VariableModifierContext)}variableModifier(i2){return this.getTypedRuleContext(VariableModifierContext,i2)}get ruleIndex(){return ProcessingParser.RULE_catchClause}accept(visitor){return visitor.visitCatchClause?visitor.visitCatchClause(this):visitor.visitChildren(this)}}class CatchTypeContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}qualifiedName_list(){return this.getTypedRuleContexts(QualifiedNameContext)}qualifiedName(i2){return this.getTypedRuleContext(QualifiedNameContext,i2)}BITOR_list(){return this.getTokens(ProcessingParser.BITOR)}BITOR(i2){return this.getToken(ProcessingParser.BITOR,i2)}get ruleIndex(){return ProcessingParser.RULE_catchType}accept(visitor){return visitor.visitCatchType?visitor.visitCatchType(this):visitor.visitChildren(this)}}class FinallyBlockContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}FINALLY(){return this.getToken(ProcessingParser.FINALLY,0)}block(){return this.getTypedRuleContext(BlockContext,0)}get ruleIndex(){return ProcessingParser.RULE_finallyBlock}accept(visitor){return visitor.visitFinallyBlock?visitor.visitFinallyBlock(this):visitor.visitChildren(this)}}class ResourceSpecificationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}resources(){return this.getTypedRuleContext(ResourcesContext,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}SEMI(){return this.getToken(ProcessingParser.SEMI,0)}get ruleIndex(){return ProcessingParser.RULE_resourceSpecification}accept(visitor){return visitor.visitResourceSpecification?visitor.visitResourceSpecification(this):visitor.visitChildren(this)}}class ResourcesContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}resource_list(){return this.getTypedRuleContexts(ResourceContext)}resource(i2){return this.getTypedRuleContext(ResourceContext,i2)}SEMI_list(){return this.getTokens(ProcessingParser.SEMI)}SEMI(i2){return this.getToken(ProcessingParser.SEMI,i2)}get ruleIndex(){return ProcessingParser.RULE_resources}accept(visitor){return visitor.visitResources?visitor.visitResources(this):visitor.visitChildren(this)}}class ResourceContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}classOrInterfaceType(){return this.getTypedRuleContext(ClassOrInterfaceTypeContext,0)}variableDeclaratorId(){return this.getTypedRuleContext(VariableDeclaratorIdContext,0)}ASSIGN(){return this.getToken(ProcessingParser.ASSIGN,0)}expression(){return this.getTypedRuleContext(ExpressionContext,0)}variableModifier_list(){return this.getTypedRuleContexts(VariableModifierContext)}variableModifier(i2){return this.getTypedRuleContext(VariableModifierContext,i2)}get ruleIndex(){return ProcessingParser.RULE_resource}accept(visitor){return visitor.visitResource?visitor.visitResource(this):visitor.visitChildren(this)}}class SwitchBlockStatementGroupContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}switchLabel_list(){return this.getTypedRuleContexts(SwitchLabelContext)}switchLabel(i2){return this.getTypedRuleContext(SwitchLabelContext,i2)}blockStatement_list(){return this.getTypedRuleContexts(BlockStatementContext)}blockStatement(i2){return this.getTypedRuleContext(BlockStatementContext,i2)}get ruleIndex(){return ProcessingParser.RULE_switchBlockStatementGroup}accept(visitor){return visitor.visitSwitchBlockStatementGroup?visitor.visitSwitchBlockStatementGroup(this):visitor.visitChildren(this)}}class SwitchLabelContext extends Sn{_constantExpression;_enumConstantName;constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}CASE(){return this.getToken(ProcessingParser.CASE,0)}COLON(){return this.getToken(ProcessingParser.COLON,0)}expression(){return this.getTypedRuleContext(ExpressionContext,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}DEFAULT(){return this.getToken(ProcessingParser.DEFAULT,0)}get ruleIndex(){return ProcessingParser.RULE_switchLabel}accept(visitor){return visitor.visitSwitchLabel?visitor.visitSwitchLabel(this):visitor.visitChildren(this)}}class ForControlContext extends Sn{_forUpdate;constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}enhancedForControl(){return this.getTypedRuleContext(EnhancedForControlContext,0)}SEMI_list(){return this.getTokens(ProcessingParser.SEMI)}SEMI(i2){return this.getToken(ProcessingParser.SEMI,i2)}forInit(){return this.getTypedRuleContext(ForInitContext,0)}expression(){return this.getTypedRuleContext(ExpressionContext,0)}expressionList(){return this.getTypedRuleContext(ExpressionListContext,0)}get ruleIndex(){return ProcessingParser.RULE_forControl}accept(visitor){return visitor.visitForControl?visitor.visitForControl(this):visitor.visitChildren(this)}}class ForInitContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}localVariableDeclaration(){return this.getTypedRuleContext(LocalVariableDeclarationContext,0)}expressionList(){return this.getTypedRuleContext(ExpressionListContext,0)}get ruleIndex(){return ProcessingParser.RULE_forInit}accept(visitor){return visitor.visitForInit?visitor.visitForInit(this):visitor.visitChildren(this)}}class EnhancedForControlContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}variableDeclaratorId(){return this.getTypedRuleContext(VariableDeclaratorIdContext,0)}COLON(){return this.getToken(ProcessingParser.COLON,0)}expression(){return this.getTypedRuleContext(ExpressionContext,0)}variableModifier_list(){return this.getTypedRuleContexts(VariableModifierContext)}variableModifier(i2){return this.getTypedRuleContext(VariableModifierContext,i2)}get ruleIndex(){return ProcessingParser.RULE_enhancedForControl}accept(visitor){return visitor.visitEnhancedForControl?visitor.visitEnhancedForControl(this):visitor.visitChildren(this)}}class ParExpressionContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}expression(){return this.getTypedRuleContext(ExpressionContext,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}get ruleIndex(){return ProcessingParser.RULE_parExpression}accept(visitor){return visitor.visitParExpression?visitor.visitParExpression(this):visitor.visitChildren(this)}}class ExpressionListContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}expression_list(){return this.getTypedRuleContexts(ExpressionContext)}expression(i2){return this.getTypedRuleContext(ExpressionContext,i2)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_expressionList}accept(visitor){return visitor.visitExpressionList?visitor.visitExpressionList(this):visitor.visitChildren(this)}}class ExpressionContext extends Sn{_prefix;_bop;_postfix;constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}primary(){return this.getTypedRuleContext(PrimaryContext,0)}methodCall(){return this.getTypedRuleContext(MethodCallContext,0)}NEW(){return this.getToken(ProcessingParser.NEW,0)}creator(){return this.getTypedRuleContext(CreatorContext,0)}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}typeType(){return this.getTypedRuleContext(TypeTypeContext,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}expression_list(){return this.getTypedRuleContexts(ExpressionContext)}expression(i2){return this.getTypedRuleContext(ExpressionContext,i2)}ADD(){return this.getToken(ProcessingParser.ADD,0)}SUB(){return this.getToken(ProcessingParser.SUB,0)}INC(){return this.getToken(ProcessingParser.INC,0)}DEC(){return this.getToken(ProcessingParser.DEC,0)}TILDE(){return this.getToken(ProcessingParser.TILDE,0)}BANG(){return this.getToken(ProcessingParser.BANG,0)}lambdaExpression(){return this.getTypedRuleContext(LambdaExpressionContext,0)}COLONCOLON(){return this.getToken(ProcessingParser.COLONCOLON,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}typeArguments(){return this.getTypedRuleContext(TypeArgumentsContext,0)}classType(){return this.getTypedRuleContext(ClassTypeContext,0)}MUL(){return this.getToken(ProcessingParser.MUL,0)}DIV(){return this.getToken(ProcessingParser.DIV,0)}MOD(){return this.getToken(ProcessingParser.MOD,0)}LT_list(){return this.getTokens(ProcessingParser.LT)}LT(i2){return this.getToken(ProcessingParser.LT,i2)}GT_list(){return this.getTokens(ProcessingParser.GT)}GT(i2){return this.getToken(ProcessingParser.GT,i2)}LE(){return this.getToken(ProcessingParser.LE,0)}GE(){return this.getToken(ProcessingParser.GE,0)}EQUAL(){return this.getToken(ProcessingParser.EQUAL,0)}NOTEQUAL(){return this.getToken(ProcessingParser.NOTEQUAL,0)}BITAND(){return this.getToken(ProcessingParser.BITAND,0)}CARET(){return this.getToken(ProcessingParser.CARET,0)}BITOR(){return this.getToken(ProcessingParser.BITOR,0)}AND(){return this.getToken(ProcessingParser.AND,0)}OR(){return this.getToken(ProcessingParser.OR,0)}COLON(){return this.getToken(ProcessingParser.COLON,0)}QUESTION(){return this.getToken(ProcessingParser.QUESTION,0)}ASSIGN(){return this.getToken(ProcessingParser.ASSIGN,0)}ADD_ASSIGN(){return this.getToken(ProcessingParser.ADD_ASSIGN,0)}SUB_ASSIGN(){return this.getToken(ProcessingParser.SUB_ASSIGN,0)}MUL_ASSIGN(){return this.getToken(ProcessingParser.MUL_ASSIGN,0)}DIV_ASSIGN(){return this.getToken(ProcessingParser.DIV_ASSIGN,0)}AND_ASSIGN(){return this.getToken(ProcessingParser.AND_ASSIGN,0)}OR_ASSIGN(){return this.getToken(ProcessingParser.OR_ASSIGN,0)}XOR_ASSIGN(){return this.getToken(ProcessingParser.XOR_ASSIGN,0)}RSHIFT_ASSIGN(){return this.getToken(ProcessingParser.RSHIFT_ASSIGN,0)}URSHIFT_ASSIGN(){return this.getToken(ProcessingParser.URSHIFT_ASSIGN,0)}LSHIFT_ASSIGN(){return this.getToken(ProcessingParser.LSHIFT_ASSIGN,0)}MOD_ASSIGN(){return this.getToken(ProcessingParser.MOD_ASSIGN,0)}DOT(){return this.getToken(ProcessingParser.DOT,0)}THIS(){return this.getToken(ProcessingParser.THIS,0)}innerCreator(){return this.getTypedRuleContext(InnerCreatorContext,0)}SUPER(){return this.getToken(ProcessingParser.SUPER,0)}superSuffix(){return this.getTypedRuleContext(SuperSuffixContext,0)}explicitGenericInvocation(){return this.getTypedRuleContext(ExplicitGenericInvocationContext,0)}nonWildcardTypeArguments(){return this.getTypedRuleContext(NonWildcardTypeArgumentsContext,0)}LBRACK(){return this.getToken(ProcessingParser.LBRACK,0)}RBRACK(){return this.getToken(ProcessingParser.RBRACK,0)}INSTANCEOF(){return this.getToken(ProcessingParser.INSTANCEOF,0)}get ruleIndex(){return ProcessingParser.RULE_expression}accept(visitor){return visitor.visitExpression?visitor.visitExpression(this):visitor.visitChildren(this)}}class LambdaExpressionContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}lambdaParameters(){return this.getTypedRuleContext(LambdaParametersContext,0)}ARROW(){return this.getToken(ProcessingParser.ARROW,0)}lambdaBody(){return this.getTypedRuleContext(LambdaBodyContext,0)}get ruleIndex(){return ProcessingParser.RULE_lambdaExpression}accept(visitor){return visitor.visitLambdaExpression?visitor.visitLambdaExpression(this):visitor.visitChildren(this)}}class LambdaParametersContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER_list(){return this.getTokens(ProcessingParser.IDENTIFIER)}IDENTIFIER(i2){return this.getToken(ProcessingParser.IDENTIFIER,i2)}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}formalParameterList(){return this.getTypedRuleContext(FormalParameterListContext,0)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_lambdaParameters}accept(visitor){return visitor.visitLambdaParameters?visitor.visitLambdaParameters(this):visitor.visitChildren(this)}}class LambdaBodyContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}expression(){return this.getTypedRuleContext(ExpressionContext,0)}block(){return this.getTypedRuleContext(BlockContext,0)}get ruleIndex(){return ProcessingParser.RULE_lambdaBody}accept(visitor){return visitor.visitLambdaBody?visitor.visitLambdaBody(this):visitor.visitChildren(this)}}class PrimaryContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}expression(){return this.getTypedRuleContext(ExpressionContext,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}THIS(){return this.getToken(ProcessingParser.THIS,0)}SUPER(){return this.getToken(ProcessingParser.SUPER,0)}literal(){return this.getTypedRuleContext(LiteralContext,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}typeTypeOrVoid(){return this.getTypedRuleContext(TypeTypeOrVoidContext,0)}DOT(){return this.getToken(ProcessingParser.DOT,0)}CLASS(){return this.getToken(ProcessingParser.CLASS,0)}nonWildcardTypeArguments(){return this.getTypedRuleContext(NonWildcardTypeArgumentsContext,0)}explicitGenericInvocationSuffix(){return this.getTypedRuleContext(ExplicitGenericInvocationSuffixContext,0)}arguments(){return this.getTypedRuleContext(ArgumentsContext,0)}get ruleIndex(){return ProcessingParser.RULE_primary}accept(visitor){return visitor.visitPrimary?visitor.visitPrimary(this):visitor.visitChildren(this)}}class ClassTypeContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}classOrInterfaceType(){return this.getTypedRuleContext(ClassOrInterfaceTypeContext,0)}DOT(){return this.getToken(ProcessingParser.DOT,0)}annotation_list(){return this.getTypedRuleContexts(AnnotationContext)}annotation(i2){return this.getTypedRuleContext(AnnotationContext,i2)}typeArguments(){return this.getTypedRuleContext(TypeArgumentsContext,0)}get ruleIndex(){return ProcessingParser.RULE_classType}accept(visitor){return visitor.visitClassType?visitor.visitClassType(this):visitor.visitChildren(this)}}class CreatorContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}nonWildcardTypeArguments(){return this.getTypedRuleContext(NonWildcardTypeArgumentsContext,0)}createdName(){return this.getTypedRuleContext(CreatedNameContext,0)}classCreatorRest(){return this.getTypedRuleContext(ClassCreatorRestContext,0)}arrayCreatorRest(){return this.getTypedRuleContext(ArrayCreatorRestContext,0)}get ruleIndex(){return ProcessingParser.RULE_creator}accept(visitor){return visitor.visitCreator?visitor.visitCreator(this):visitor.visitChildren(this)}}class CreatedNameContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER_list(){return this.getTokens(ProcessingParser.IDENTIFIER)}IDENTIFIER(i2){return this.getToken(ProcessingParser.IDENTIFIER,i2)}typeArgumentsOrDiamond_list(){return this.getTypedRuleContexts(TypeArgumentsOrDiamondContext)}typeArgumentsOrDiamond(i2){return this.getTypedRuleContext(TypeArgumentsOrDiamondContext,i2)}DOT_list(){return this.getTokens(ProcessingParser.DOT)}DOT(i2){return this.getToken(ProcessingParser.DOT,i2)}primitiveType(){return this.getTypedRuleContext(PrimitiveTypeContext,0)}get ruleIndex(){return ProcessingParser.RULE_createdName}accept(visitor){return visitor.visitCreatedName?visitor.visitCreatedName(this):visitor.visitChildren(this)}}class InnerCreatorContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}classCreatorRest(){return this.getTypedRuleContext(ClassCreatorRestContext,0)}nonWildcardTypeArgumentsOrDiamond(){return this.getTypedRuleContext(NonWildcardTypeArgumentsOrDiamondContext,0)}get ruleIndex(){return ProcessingParser.RULE_innerCreator}accept(visitor){return visitor.visitInnerCreator?visitor.visitInnerCreator(this):visitor.visitChildren(this)}}class ArrayCreatorRestContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LBRACK_list(){return this.getTokens(ProcessingParser.LBRACK)}LBRACK(i2){return this.getToken(ProcessingParser.LBRACK,i2)}RBRACK_list(){return this.getTokens(ProcessingParser.RBRACK)}RBRACK(i2){return this.getToken(ProcessingParser.RBRACK,i2)}arrayInitializer(){return this.getTypedRuleContext(ArrayInitializerContext,0)}expression_list(){return this.getTypedRuleContexts(ExpressionContext)}expression(i2){return this.getTypedRuleContext(ExpressionContext,i2)}get ruleIndex(){return ProcessingParser.RULE_arrayCreatorRest}accept(visitor){return visitor.visitArrayCreatorRest?visitor.visitArrayCreatorRest(this):visitor.visitChildren(this)}}class ClassCreatorRestContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}arguments(){return this.getTypedRuleContext(ArgumentsContext,0)}classBody(){return this.getTypedRuleContext(ClassBodyContext,0)}get ruleIndex(){return ProcessingParser.RULE_classCreatorRest}accept(visitor){return visitor.visitClassCreatorRest?visitor.visitClassCreatorRest(this):visitor.visitChildren(this)}}class ExplicitGenericInvocationContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}nonWildcardTypeArguments(){return this.getTypedRuleContext(NonWildcardTypeArgumentsContext,0)}explicitGenericInvocationSuffix(){return this.getTypedRuleContext(ExplicitGenericInvocationSuffixContext,0)}get ruleIndex(){return ProcessingParser.RULE_explicitGenericInvocation}accept(visitor){return visitor.visitExplicitGenericInvocation?visitor.visitExplicitGenericInvocation(this):visitor.visitChildren(this)}}class TypeArgumentsOrDiamondContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LT(){return this.getToken(ProcessingParser.LT,0)}GT(){return this.getToken(ProcessingParser.GT,0)}typeArguments(){return this.getTypedRuleContext(TypeArgumentsContext,0)}get ruleIndex(){return ProcessingParser.RULE_typeArgumentsOrDiamond}accept(visitor){return visitor.visitTypeArgumentsOrDiamond?visitor.visitTypeArgumentsOrDiamond(this):visitor.visitChildren(this)}}class NonWildcardTypeArgumentsOrDiamondContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LT(){return this.getToken(ProcessingParser.LT,0)}GT(){return this.getToken(ProcessingParser.GT,0)}nonWildcardTypeArguments(){return this.getTypedRuleContext(NonWildcardTypeArgumentsContext,0)}get ruleIndex(){return ProcessingParser.RULE_nonWildcardTypeArgumentsOrDiamond}accept(visitor){return visitor.visitNonWildcardTypeArgumentsOrDiamond?visitor.visitNonWildcardTypeArgumentsOrDiamond(this):visitor.visitChildren(this)}}class NonWildcardTypeArgumentsContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LT(){return this.getToken(ProcessingParser.LT,0)}typeList(){return this.getTypedRuleContext(TypeListContext,0)}GT(){return this.getToken(ProcessingParser.GT,0)}get ruleIndex(){return ProcessingParser.RULE_nonWildcardTypeArguments}accept(visitor){return visitor.visitNonWildcardTypeArguments?visitor.visitNonWildcardTypeArguments(this):visitor.visitChildren(this)}}class TypeListContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}typeType_list(){return this.getTypedRuleContexts(TypeTypeContext)}typeType(i2){return this.getTypedRuleContext(TypeTypeContext,i2)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_typeList}accept(visitor){return visitor.visitTypeList?visitor.visitTypeList(this):visitor.visitChildren(this)}}class TypeTypeContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}classOrInterfaceType(){return this.getTypedRuleContext(ClassOrInterfaceTypeContext,0)}primitiveType(){return this.getTypedRuleContext(PrimitiveTypeContext,0)}VAR(){return this.getToken(ProcessingParser.VAR,0)}annotation(){return this.getTypedRuleContext(AnnotationContext,0)}LBRACK_list(){return this.getTokens(ProcessingParser.LBRACK)}LBRACK(i2){return this.getToken(ProcessingParser.LBRACK,i2)}RBRACK_list(){return this.getTokens(ProcessingParser.RBRACK)}RBRACK(i2){return this.getToken(ProcessingParser.RBRACK,i2)}get ruleIndex(){return ProcessingParser.RULE_typeType}accept(visitor){return visitor.visitTypeType?visitor.visitTypeType(this):visitor.visitChildren(this)}}class TypeArgumentsContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LT(){return this.getToken(ProcessingParser.LT,0)}typeArgument_list(){return this.getTypedRuleContexts(TypeArgumentContext)}typeArgument(i2){return this.getTypedRuleContext(TypeArgumentContext,i2)}GT(){return this.getToken(ProcessingParser.GT,0)}COMMA_list(){return this.getTokens(ProcessingParser.COMMA)}COMMA(i2){return this.getToken(ProcessingParser.COMMA,i2)}get ruleIndex(){return ProcessingParser.RULE_typeArguments}accept(visitor){return visitor.visitTypeArguments?visitor.visitTypeArguments(this):visitor.visitChildren(this)}}class SuperSuffixContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}arguments(){return this.getTypedRuleContext(ArgumentsContext,0)}DOT(){return this.getToken(ProcessingParser.DOT,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}get ruleIndex(){return ProcessingParser.RULE_superSuffix}accept(visitor){return visitor.visitSuperSuffix?visitor.visitSuperSuffix(this):visitor.visitChildren(this)}}class ExplicitGenericInvocationSuffixContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}SUPER(){return this.getToken(ProcessingParser.SUPER,0)}superSuffix(){return this.getTypedRuleContext(SuperSuffixContext,0)}IDENTIFIER(){return this.getToken(ProcessingParser.IDENTIFIER,0)}arguments(){return this.getTypedRuleContext(ArgumentsContext,0)}get ruleIndex(){return ProcessingParser.RULE_explicitGenericInvocationSuffix}accept(visitor){return visitor.visitExplicitGenericInvocationSuffix?visitor.visitExplicitGenericInvocationSuffix(this):visitor.visitChildren(this)}}class ArgumentsContext extends Sn{constructor(parser,parent,invokingState){super(parent,invokingState),this.parser=parser}LPAREN(){return this.getToken(ProcessingParser.LPAREN,0)}RPAREN(){return this.getToken(ProcessingParser.RPAREN,0)}expressionList(){return this.getTypedRuleContext(ExpressionListContext,0)}get ruleIndex(){return ProcessingParser.RULE_arguments}accept(visitor){return visitor.visitArguments?visitor.visitArguments(this):visitor.visitChildren(this)}}class PConstants{X=0;Y=1;Z=2;JAVA2D="processing.awt.PGraphicsJava2D";P2D="processing.opengl.PGraphics2D";P3D="processing.opengl.PGraphics3D";OPENGL=this.P3D;FX2D="processing.javafx.PGraphicsFX2D";PDF="processing.pdf.PGraphicsPDF";SVG="processing.svg.PGraphicsSVG";DXF="processing.dxf.RawDXF";OTHER=0;WINDOWS=1;MACOS=2;LINUX=3;MACOSX=2;platformNames=["other","windows","macos","linux"];EPSILON=1e-4;MAX_FLOAT=Number.MAX_VALUE;MIN_FLOAT=-Number.MAX_VALUE;MAX_INT=Number.MAX_SAFE_INTEGER;MIN_INT=Number.MIN_SAFE_INTEGER;VERTEX=0;BEZIER_VERTEX=1;QUADRATIC_VERTEX=2;CURVE_VERTEX=3;BREAK=4;QUAD_BEZIER_VERTEX=2;PI=Math.PI;HALF_PI=Math.PI/2;THIRD_PI=Math.PI/3;QUARTER_PI=Math.PI/4;TWO_PI=2*Math.PI;TAU=2*Math.PI;DEG_TO_RAD=this.PI/180;RAD_TO_DEG=180/this.PI;WHITESPACE=` 	
\r\f`;RGB=1;ARGB=2;HSB=3;ALPHA=4;TIFF=0;TARGA=1;JPEG=2;GIF=3;BLUR=11;GRAY=12;INVERT=13;OPAQUE=14;POSTERIZE=15;THRESHOLD=16;ERODE=17;DILATE=18;REPLACE=0;BLEND=1;ADD=2;SUBTRACT=4;LIGHTEST=8;DARKEST=16;DIFFERENCE=32;EXCLUSION=64;MULTIPLY=128;SCREEN=256;OVERLAY=512;HARD_LIGHT=1024;SOFT_LIGHT=2048;DODGE=4096;BURN=8192;CHATTER=0;COMPLAINT=1;PROBLEM=2;PROJECTION=0;MODELVIEW=1;CUSTOM=0;ORTHOGRAPHIC=2;PERSPECTIVE=3;GROUP=0;POINT=2;POINTS=3;LINE=4;LINES=5;LINE_STRIP=50;LINE_LOOP=51;TRIANGLE=8;TRIANGLES=9;TRIANGLE_STRIP=10;TRIANGLE_FAN=11;QUAD=16;QUADS=17;QUAD_STRIP=18;POLYGON=20;PATH=21;RECT=30;ELLIPSE=31;ARC=32;SPHERE=40;BOX=41;OPEN=1;CLOSE=2;CORNER=0;CORNERS=1;RADIUS=2;CENTER=3;DIAMETER=3;CHORD=2;PIE=3;BASELINE=0;TOP=101;BOTTOM=102;NORMAL=1;IMAGE=2;CLAMP=0;REPEAT=1;MODEL=4;SHAPE=5;SQUARE=1;ROUND=2;PROJECT=4;MITER=8;BEVEL=32;AMBIENT=0;DIRECTIONAL=1;SPOT=3;BACKSPACE=8;TAB=9;ENTER=10;RETURN=13;ESC=27;DELETE=127;CODED=65535;UP=38;DOWN=40;LEFT=37;RIGHT=39;ALT=18;CONTROL=17;SHIFT=16;PORTRAIT=1;LANDSCAPE=2;SPAN=0;ARROW="default";CROSS="crosshair";HAND="grab";MOVE="move";TEXT="text";WAIT="progress";ENABLE_NATIVE_FONTS=1;DISABLE_NATIVE_FONTS=-1;DISABLE_DEPTH_TEST=2;ENABLE_DEPTH_TEST=-2;ENABLE_DEPTH_SORT=3;DISABLE_DEPTH_SORT=-3;DISABLE_OPENGL_ERRORS=4;ENABLE_OPENGL_ERRORS=-4;DISABLE_DEPTH_MASK=5;ENABLE_DEPTH_MASK=-5;DISABLE_OPTIMIZED_STROKE=6;ENABLE_OPTIMIZED_STROKE=-6;ENABLE_STROKE_PERSPECTIVE=7;DISABLE_STROKE_PERSPECTIVE=-7;DISABLE_TEXTURE_MIPMAPS=8;ENABLE_TEXTURE_MIPMAPS=-8;ENABLE_STROKE_PURE=9;DISABLE_STROKE_PURE=-9;ENABLE_BUFFER_READING=10;DISABLE_BUFFER_READING=-10;DISABLE_KEY_REPEAT=11;ENABLE_KEY_REPEAT=-11;DISABLE_ASYNC_SAVEFRAME=12;ENABLE_ASYNC_SAVEFRAME=-12;HINT_COUNT=13}class PImage extends PConstants{texture=null;sprite=null;width=0;height=0;async load_from_arraybuffer(buffer){const blob=new Blob([buffer],{type:"image/png"});await this.load_from_blob(blob)}async load_from_blob(blob){const bmp=await createImageBitmap(blob);this.texture=Texture.from(bmp),this.texture.noFrame=!1,this.width=this.texture.frame.width,this.height=this.texture.frame.height,this.sprite=new Sprite(this.texture)}}class PGraphics extends PImage{renderer;constructor(renderer){super(),this.renderer=renderer}async init(width,height){await this.renderer.init(width,height),this.width=this.renderer.app.screen.width,this.height=this.renderer.app.screen.height}background(...color){const _color=convert_color(color);this.renderer.background(_color[0],_color[1],_color[2],_color[3])}fill(...color){const _color=convert_color(color);this.renderer.fill(_color[0],_color[1],_color[2],_color[3])}noFill(){this.renderer.noFill()}stroke(...color){const _color=convert_color(color);this.renderer.stroke(_color[0],_color[1],_color[2],_color[3])}noStroke(){this.renderer.noStroke()}strokeWeight(weight){this.renderer.strokeWeight(weight)}rectMode(mode){this.renderer.rectMode(mode)}textAlign(align){this.renderer.textAlign(align)}textSize(size){this.renderer.textSize(size)}rect(x2,y2,width,height){this.renderer.rect(x2,y2,width,height)}ellipse(x2,y2,width,height){this.renderer.ellipse(x2,y2,width,height)}arc(x2,y2,width,height,start,stop){this.renderer.arc(x2,y2,width,height,start,stop)}triangle(x1,y1,x2,y2,x3,y3){this.renderer.triangle(x1,y1,x2,y2,x3,y3)}line(x1,y1,x2,y2){this.renderer.line(x1,y1,x2,y2)}text(text,x2,y2,w2,h2){this.renderer.text(text,x2,y2,w2,h2)}image(image,x2,y2,w2,h2){this.renderer.image(image,x2,y2,w2,h2)}translate(x2,y2){this.renderer.translate(x2,y2)}__begin__(){this.renderer.__begin__()}__end__(){this.renderer.__end__()}__stop__(){this.renderer.__stop__()}}function convert_color(color){if(color.length==1)color=[color[0],color[0],color[0],1];else if(color.length==2)color=[color[0],color[0],color[0],color[1]/255];else if(color.length==3)color=[color[0],color[1],color[2],1];else if(color.length==4)color=[color[0],color[1],color[2],color[3]/255];else throw new Error("Invalid color length: "+color.length);return[color[0]??0,color[1]??0,color[2]??0,color[3]??1]}class PSurface{MIN_WINDOW_WIDTH=128;MIN_WINDOW_HEIGHT=128;applet;constructor(applet){this.applet=applet}setCursor(...args){this.applet.g.renderer.setCursor(...args)}showCursor(){this.applet.g.renderer.showCursor()}hideCursor(){this.applet.g.renderer.hideCursor()}}class JSONArray{json;constructor(json){this.json=json}static parse(str){return new JSONArray(JSON.parse(str))}isNull(index){return this.json[index]==null}toString(){return JSON.stringify(this.json)}getJSONArray(index,init2){return this.json[index]==null?init2:new JSONArray(this.json[index])}setJSONArray(index,val){return val!=null&&(this.json[index]=val),this}getJSONObject(index){return new JSONObject(this.json[index])}setJSONObject(index,val){return val!=null&&(this.json[index]=val),this}getInt(index,init2){return this.json[index]==null?init2:Number(this.json[index])}setInt(index,val){return val!=null&&(this.json[index]=val),this}toIntArray(){let arr=[];for(let i2 in this.json)arr.push(Number(i2));return arr}getFloat(index,init2){return this.json[index]==null?init2:Number(this.json[index])}setFloat(index,val){return val!=null&&(this.json[index]=val),this}toFloatArray(){let arr=[];for(let i2 in this.json)arr.push(Number(i2));return arr}getString(index,init2){return this.json[index]==null?init2:String(this.json[index])}setString(index,val){return val!=null&&(this.json[index]=val),this}toStringArray(){let arr=[];for(let i2 in this.json)arr.push(i2);return arr}getBoolean(index,init2){return this.json[index]==null?init2:!!this.json[index]}setBoolean(index,val){return val!=null&&(this.json[index]=val),this}toBooleanArray(){let arr=[];for(let i2 in this.json)arr.push(!!i2);return arr}size(){return this.json==null?0:Object.keys(this.json).length}append(val){return this.json.push(val),this}remove(index){delete this.json[index]}}class JSONObject{json;constructor(source){this.json=source}static parse(str){return new JSONObject(JSON.parse(str))}hasKey(str){return this.json[str]!=null}isNull(str){return this.json[str]==null}toString(){return JSON.stringify(this.json)}getInt(name,init2){return this.json[name]==null?init2:Number(this.json[name])}setInt(name,val){return val!=null&&(this.json[name]=val),this}getFloat(name,init2){return this.json[name]==null?init2:Number(this.json[name])}setFloat(name,val){return val!=null&&(this.json[name]=val),this}getString(name,init2){return this.json[name]==null?init2:String(this.json[name])}setString(name,val){return val!=null&&(this.json[name]=val),this}getBoolean(name,init2){return this.json[name]==null?init2:!!this.json[name]}setBoolean(name,val){return val!=null&&(this.json[name]=val),this}getJSONObject(name){return new JSONObject(this.json[name])}setJSONObject(name,val){return val!=null&&(this.json[name]=val.json),this}getJSONArray(name){return new JSONArray(this.json[name])}setJSONArray(name,val){return val!=null&&(this.json[name]=val.json),this}keys(){return Object.keys(this.json)}remove(name){delete this.json[name]}}let base_uri="";function set_base_uri(uri){base_uri=uri}const date=new Date;class PApplet extends PConstants{g;surface=new PSurface(this);__io__=null;__fullscreen__=!1;__log_listener__=()=>{};__exit_code__=0;max_size={width:0,height:0};width=0;height=0;mouseX=0;mouseY=0;mousePressed=!1;mouseButton=0;key="";keyCode=0;keyPressed=!1;__frameRate__=60;frameRate=60;frameCount=0;__initialized__=!1;constructor(renderer){super(),renderer!=null&&(this.max_size=renderer.getMaximumSize(),this.__io__=renderer.__io__),this.g=new PGraphics(renderer)}__set_preload__(buffer){this.__io__&&(this.__io__.preload=buffer)}async settings(){}async setup(){}async draw(){}async size(width,height){if(this.__initialized__){console.warn("size() or fullScreen() can only be called once");return}await this.g.init(width,height),this.width=this.g.width,this.height=this.g.height,this.__initialized__=!0}async fullScreen(mode){if(this.__initialized__){console.warn("size() or fullScreen() can only be called once");return}this.width=this.max_size.width,this.height=this.max_size.height,this.__fullscreen__=!0,await this.g.init(this.width,this.height),this.__initialized__=!0}getSurface(){return this.surface}_frameRate(framerate){this.__frameRate__=framerate}background(...color){this.g.background(...color)}fill(...color){this.g.fill(...color)}noFill(){this.g.noFill()}stroke(...color){this.g.stroke(...color)}noStroke(){this.g.noStroke()}strokeWeight(weight){this.g.strokeWeight(weight)}rectMode(mode){this.g.rectMode(mode)}textAlign(align){this.g.textAlign(align)}textSize(size){this.g.textSize(size)}rect(x2,y2,width,height){this.g.rect(x2,y2,width,height)}ellipse(x2,y2,width,height){this.g.ellipse(x2,y2,width,height)}arc(x2,y2,width,height,start,stop){this.g.arc(x2,y2,width,height,start,stop)}triangle(x1,y1,x2,y2,x3,y3){this.g.triangle(x1,y1,x2,y2,x3,y3)}line(x1,y1,x2,y2){this.g.line(x1,y1,x2,y2)}text(text,x2,y2,w2,h2){this.g.text(text,x2,y2,w2,h2)}image(image,x2,y2,w2,h2){this.g.image(image,x2,y2,w2,h2)}translate(x2,y2){this.g.translate(x2,y2)}_keyPressed(e2){}_keyReleased(e2){}_mousePressed(e2){}_mouseReleased(e2){}_mouseMoved(e2){}_mouseWheel(e2){}_windowResized(){}year(){return date.getFullYear()}month(){return date.getMonth()+1}day(){return date.getDate()}hour(){return date.getHours()}minute(){return date.getMinutes()}second(){return date.getSeconds()}millis(){return date.getMilliseconds()}radians(degrees){return degrees*(Math.PI/180)}degrees(radians){return radians*(180/Math.PI)}constrain(x2,min,max){return x2<min?min:x2>max?max:x2}random(min,max){return max==null&&(max=min,min=0),Math.random()*(max-min)+min}abs(x2){return Math.abs(x2)}floor(x2){return Math.floor(x2)}noise(x2,y2=0,z2=0){const X2=Math.floor(x2)&255,Y2=Math.floor(y2)&255,Z2=Math.floor(z2)&255;x2-=Math.floor(x2),y2-=Math.floor(y2),z2-=Math.floor(z2);const u2=this.fade(x2),v2=this.fade(y2),w2=this.fade(z2),A2=this.permutation[X2]+Y2,AA=this.permutation[A2]+Z2,AB=this.permutation[A2+1]+Z2,B2=this.permutation[X2+1]+Y2,BA=this.permutation[B2]+Z2,BB=this.permutation[B2+1]+Z2;return this.lerp(this.lerp(this.lerp(this.grad(this.permutation[AA],x2,y2,z2),this.grad(this.permutation[BA],x2-1,y2,z2),u2),this.lerp(this.grad(this.permutation[AB],x2,y2-1,z2),this.grad(this.permutation[BB],x2-1,y2-1,z2),u2),v2),this.lerp(this.lerp(this.grad(this.permutation[AA+1],x2,y2,z2-1),this.grad(this.permutation[BA+1],x2-1,y2,z2-1),u2),this.lerp(this.grad(this.permutation[AB+1],x2,y2-1,z2-1),this.grad(this.permutation[BB+1],x2-1,y2-1,z2-1),u2),v2),w2)}int(x2){return Math.floor(x2)}float(x2){return x2}str(x2){return x2.toString()}split(str,splitter){return str.split(splitter)}println(...args){this.__log_listener__(args)}loadStrings(path2){const result=this.__io__.load_as_string(path2);return result!=null?result.split(`
`):(console.warn(`loadStrings: ${path2} not found`),null)}saveStrings(path2,data){this.__io__?.save_string(path2,data.join(`
`))}loadImage(path2){const img=new PImage,result=this.__io__.load_as_blob(path2,`image/${path2.split(".").pop()?.toLowerCase()??"png"}`);return result!=null?(img.load_from_blob(result),img):null}loadJSONObject(path2){const result=this.__io__.load_as_string(base_uri+path2);return result!=null?JSONObject.parse(result):null}saveJSONObject(path2,data){this.__io__?.save_string(path2,data.toString())}loadJSONArray(path2){const result=this.__io__.load_as_string(base_uri+path2);return result!=null?JSONArray.parse(result):null}saveJSONArray(path2,data){this.__io__?.save_string(path2,data.toString())}exit(){this.__exit_code__=1}__begin__(){this.g.__begin__()}__end__(){return this.g.__end__(),this.__exit_code__}__stop__(){this.g.background(255),this.g.__stop__()}fade(t2){return t2*t2*t2*(t2*(t2*6-15)+10)}lerp(a2,b2,t2){return a2+t2*(b2-a2)}grad(hash,x2,y2,z2){const h2=hash&15,u2=h2<8?x2:y2,v2=h2<4?y2:h2===12||h2===14?x2:z2;return((h2&1)===0?u2:-u2)+((h2&2)===0?v2:-v2)}permutation=(()=>{const p2=new Uint8Array(512),perm=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];for(let i2=0;i2<256;i2++)p2[256+i2]=p2[i2]=perm[i2];return p2})()}class ProcessingVisitor extends pn{visitProcessingSketch;visitJavaProcessingSketch;visitStaticProcessingSketch;visitActiveProcessingSketch;visitWarnMixedModes;visitVariableDeclaratorId;visitWarnTypeAsVariableName;visitMethodCall;visitFunctionWithPrimitiveTypeName;visitPrimitiveType;visitColorPrimitiveType;visitQualifiedName;visitLiteral;visitHexColorLiteral;visitCompilationUnit;visitPackageDeclaration;visitImportDeclaration;visitTypeDeclaration;visitModifier;visitClassOrInterfaceModifier;visitVariableModifier;visitClassDeclaration;visitTypeParameters;visitTypeParameter;visitTypeBound;visitEnumDeclaration;visitEnumConstants;visitEnumConstant;visitEnumBodyDeclarations;visitInterfaceDeclaration;visitClassBody;visitInterfaceBody;visitClassBodyDeclaration;visitMemberDeclaration;visitMethodDeclaration;visitMethodBody;visitTypeTypeOrVoid;visitGenericMethodDeclaration;visitGenericConstructorDeclaration;visitConstructorDeclaration;visitFieldDeclaration;visitInterfaceBodyDeclaration;visitInterfaceMemberDeclaration;visitConstDeclaration;visitConstantDeclarator;visitInterfaceMethodDeclaration;visitInterfaceMethodModifier;visitGenericInterfaceMethodDeclaration;visitVariableDeclarators;visitVariableDeclarator;visitVariableInitializer;visitArrayInitializer;visitClassOrInterfaceType;visitTypeArgument;visitQualifiedNameList;visitFormalParameters;visitFormalParameterList;visitFormalParameter;visitLastFormalParameter;visitBaseStringLiteral;visitMultilineStringLiteral;visitStringLiteral;visitIntegerLiteral;visitFloatLiteral;visitAnnotation;visitElementValuePairs;visitElementValuePair;visitElementValue;visitElementValueArrayInitializer;visitAnnotationTypeDeclaration;visitAnnotationTypeBody;visitAnnotationTypeElementDeclaration;visitAnnotationTypeElementRest;visitAnnotationMethodOrConstantRest;visitAnnotationMethodRest;visitAnnotationConstantRest;visitDefaultValue;visitBlock;visitBlockStatement;visitLocalVariableDeclaration;visitLocalTypeDeclaration;visitStatement;visitCatchClause;visitCatchType;visitFinallyBlock;visitResourceSpecification;visitResources;visitResource;visitSwitchBlockStatementGroup;visitSwitchLabel;visitForControl;visitForInit;visitEnhancedForControl;visitParExpression;visitExpressionList;visitExpression;visitLambdaExpression;visitLambdaParameters;visitLambdaBody;visitPrimary;visitClassType;visitCreator;visitCreatedName;visitInnerCreator;visitArrayCreatorRest;visitClassCreatorRest;visitExplicitGenericInvocation;visitTypeArgumentsOrDiamond;visitNonWildcardTypeArgumentsOrDiamond;visitNonWildcardTypeArguments;visitTypeList;visitTypeType;visitTypeArguments;visitSuperSuffix;visitExplicitGenericInvocationSuffix;visitArguments}class Transpiler extends ProcessingVisitor{main_sketch;constructor(main_sketch){super(),this.main_sketch=main_sketch}visit=ctx=>ctx.accept(this);visitChildren=ctx=>ctx.children.map(child=>"children"in child?this.visit(child):child.getText()).join("");visitProcessingSketch=ctx=>this.visit(ctx.children[0]);visitVariableInitializer=ctx=>this.visit(ctx.getChild(0));visitArrayInitializer=ctx=>{const child_count=ctx.getChildCount();let result="";for(let i2=0;i2<child_count;i2++){const child=ctx.getChild(i2);child instanceof VariableInitializerContext&&(result+=(result!=""?",":"")+this.visit(child))}return`[${result}]`};visitFormalParameter=ctx=>ctx.variableDeclaratorId().IDENTIFIER().getText();visitExpression=ctx=>{let result="";const child_count=ctx.getChildCount();for(let i2=0;i2<child_count;i2++){const child=ctx.getChild(i2);if(child instanceof ExpressionContext)result+=this.visit(child);else if(child instanceof CreatorContext)result+=this.visit(child);else if(child instanceof PrimaryContext){const has_bracket=child.LPAREN()!=null&&child.RPAREN()!=null;if(has_bracket&&(result+="("),child.expression()!=null)result+=this.visit(child.expression());else{const primary=child.getText(),hex=!!(child.literal()?.hexColorLiteral()??!1);result+=hex?primary.replace("#","0x"):primary}has_bracket&&(result+=")")}else child instanceof MethodCallContext?result+=this.visit(child):result+=child.getText()+(child.getText()==="new"?" ":"")}return result.replace("System.out.println","console.log")};visitCreator=ctx=>{const child_count=ctx.getChildCount();let result="";for(let i2=0;i2<child_count;i2++){const child=ctx.getChild(i2);if(child instanceof CreatedNameContext){const _child_count=child.getChildCount();for(let j2=0;j2<_child_count;j2++){const _child=child.getChild(j2);_child instanceof TypeArgumentsOrDiamondContext?result+=(j2!=1?".":"")+this.visit(_child):result+=_child.getText()}}else if(child instanceof ClassCreatorRestContext){const expression_list=child.arguments().expressionList();result+=`(${expression_list!=null?this.visit(expression_list):""})`}else result+=child.getText()}return result};visitTypeArgumentsOrDiamond=()=>"";visitTypeArguments=()=>"";visitTypeList=ctx=>ctx.typeType_list().map(t2=>this.visit(t2)).join(",");visitTypeType=ctx=>ctx.classOrInterfaceType()?`${ctx.classOrInterfaceType().IDENTIFIER_list().map(i2=>i2.getText()).join(".")}`:ctx.getText()}let class_data=new Map;const async_list=["settings","setup","draw"];class MemberAnalyzer extends Transpiler{class_names=[];arg_list=[];constructor(main_sketch){super(main_sketch),class_data=new Map}visitActiveProcessingSketch=ctx=>(this.class_names.push(this.main_sketch),class_data.set(this.main_sketch,{field:[],method:[],constructor:[],class:["PApplet"],interface:[]}),this.visitChildren(ctx),this.class_names.pop(),this.mergeByHierarchy(),"");visitClassDeclaration=ctx=>{const className=ctx.IDENTIFIER().getText();return this.class_names.push(className),class_data.set(className,{field:[],method:[],constructor:[],class:[],interface:[]}),ctx.typeType()!=null&&class_data.get(className).class.push(this.visit(ctx.typeType())),ctx.typeList()?.typeType_list().forEach(t2=>{class_data.get(className).interface.push(this.visit(t2))}),this.visit(ctx.classBody()),this.class_names.pop(),""};visitInterfaceDeclaration=ctx=>{const interfaceName=ctx.IDENTIFIER().getText();return this.class_names.push(interfaceName),class_data.set(interfaceName,{field:[],method:[],constructor:[],class:[],interface:[]}),ctx.typeList()?.typeType_list().forEach(t2=>{class_data.get(interfaceName).interface.push(this.visit(t2))}),this.visit(ctx.interfaceBody()),this.class_names.pop(),""};visitConstructorDeclaration=ctx=>{const data=class_data.get(get_last(this.class_names)),class_name=ctx.IDENTIFIER().getText();return this.arg_list=[],this.visit(ctx.formalParameters()),data.constructor.push({name:class_name,type:class_name,async:!1,override:!1,extended:!1,args:structuredClone(this.arg_list),body:ctx._constructorBody}),""};visitMethodDeclaration=ctx=>{const data=class_data.get(get_last(this.class_names)),method_name=ctx.IDENTIFIER().getText();this.arg_list=[],this.visit(ctx.formalParameters());let is_async=get_last(this.class_names)===_main_sketch&&async_list.includes(method_name);return data.method.push({name:method_name,type:ctx.typeTypeOrVoid().getText(),async:is_async,override:!1,extended:!1,args:structuredClone(this.arg_list),body:ctx.methodBody().block()??null}),""};visitInterfaceMethodDeclaration=ctx=>{const data=class_data.get(get_last(this.class_names)),method_name=ctx.IDENTIFIER().getText();return this.arg_list=[],this.visit(ctx.formalParameters()),data.method.push({name:method_name,type:ctx.typeTypeOrVoid().getText(),async:!1,override:!1,extended:!1,args:structuredClone(this.arg_list),body:ctx.methodBody().block()??null}),""};visitFormalParameter=ctx=>{const name=ctx.variableDeclaratorId().getText(),type=ctx.typeType().getText();return this.arg_list.push({name,type}),""};visitLastFormalParameter=ctx=>{const name=ctx.variableDeclaratorId().getText(),type=ctx.typeType().getText();return this.arg_list.push({name,type:type+"[]"}),""};current_type="";visitFieldDeclaration=ctx=>{const is_array=ctx.typeType().LBRACK_list().length>0&&ctx.typeType().RBRACK_list().length>0,is_bool=!is_array&&ctx.typeType().primitiveType()!=null&&ctx.typeType().primitiveType().BOOLEAN()!=null,is_num=!is_array&&ctx.typeType().primitiveType()!=null&&!is_bool;return this.current_type=(is_bool?"!":is_num?"@":"")+ctx.typeType().getText(),this.visitChildren(ctx),""};visitVariableDeclarator=ctx=>{const name=ctx.variableDeclaratorId().IDENTIFIER().getText();return class_data.get(get_last(this.class_names)).field.push({name,init:ctx.variableInitializer(),type:this.current_type,extended:!1}),""};visitConstDeclaration=ctx=>(this.current_type=ctx.typeType().getText(),this.visitChildren(ctx),"");visitConstantDeclarator=ctx=>{const name=ctx.IDENTIFIER().getText();return class_data.get(get_last(this.class_names)).field.push({name,init:ctx.variableInitializer(),type:this.current_type,extended:!1}),""};mergeByHierarchy(){const unmerged=new Map(class_data),merged=[];let pre_unmerged=unmerged.size;do pre_unmerged=unmerged.size,unmerged.forEach((v2,k2)=>{const class_resolved=v2.class.length==0||merged.includes(v2.class[0]),interface_resolved=v2.interface.length==0||intersect(v2.interface,merged);class_resolved&&interface_resolved&&(this.merge(k2),unmerged.delete(k2),merged.push(k2))});while(pre_unmerged!=unmerged.size)}merge(className){class_data.set(className,mergeExtendedData(class_data.get(className),class_data))}}function mergeExtendedData(data,source){return data.class.forEach(c2=>{const field_names=data.field.map(f2=>f2.name),method_names=data.method.map(m2=>m2.name),parent=source.get(c2);parent?.field.forEach(f2=>{f2.name in field_names||data.field.push({name:f2.name,init:f2.init,type:f2.type,extended:!0})}),parent?.method.forEach(m2=>{if(!(m2.name in method_names))data.method.push({name:m2.name,type:m2.type,async:m2.async,override:m2.override,extended:!0,args:m2.args,body:m2.body});else{const target=data.method.find(_m=>_m.name==m2.name);target!=null&&(target.override=!0)}})}),data.interface.forEach(i2=>{const field_names=data.field.map(f2=>f2.name),method_names=data.method.map(m2=>m2.name),parent=source.get(i2);parent?.field.forEach(f2=>{f2.name in field_names||data.field.push(f2)}),parent?.method.forEach(m2=>{if(!(m2.name in method_names))data.method.push(m2);else{const target=data.method.find(_m=>_m.name==m2.name);target!=null&&(target.override=!0)}})}),data}function intersect(a2,b2){let contains=!1;return a2.forEach(e2=>{b2.includes(e2)&&(contains=!0)}),contains}const replace_list$1=[{before:"keyPressed",after:"_keyPressed"},{before:"keyReleased",after:"_keyReleased"},{before:"keyTyped",after:"_keyTyped"},{before:"mousePressed",after:"_mousePressed"},{before:"mouseReleased",after:"_mouseReleased"},{before:"mouseClicked",after:"_mouseClicked"},{before:"mouseMoved",after:"_mouseMoved"},{before:"mouseDragged",after:"_mouseDragged"},{before:"mouseWheel",after:"_mouseWheel"}],overloaded_functions=["frameRate"];class ReferenceSolver extends Transpiler{solved_class_data=new Map;vatiable_list=[];current_class="";constructor(){super("")}solve(class_data2){return class_data2.forEach((v2,k2)=>{if(this.solved_class_data.set(k2,{field:[],method:[],constructor:[],class:v2.class,interface:v2.interface}),this.current_class=k2,this.vatiable_list=[[]],v2.field.forEach(f2=>{this.solved_class_data.get(k2)?.field.push({name:f2.name,init:f2.init!=null?this.visit(f2.init):f2.type.startsWith("!")?"false":f2.type.startsWith("@")?"0":"null",type:f2.type.replace("!","").replace("@",""),extended:f2.extended})}),v2.constructor.forEach(c2=>{this.vatiable_list=[[...c2.args.map(a2=>a2.name)]];const base=`${this.solved_class_data.get(k2).field.filter(f2=>!f2.extended).map(f2=>`this.${f2.name}=${f2.init}`).join(";")+(this.solved_class_data.get(k2).field.length>0?";":"")}${c2.body!=null?this.visit(c2.body).slice(1,-1):""}`;this.solved_class_data.get(k2)?.constructor.push({name:c2.name,type:c2.type,async:c2.async,override:c2.override,extended:c2.extended,args:c2.args,body:base})}),v2.method.forEach(m2=>{this.vatiable_list=[[...m2.args.map(a2=>a2.name)]],this.solved_class_data.get(k2)?.method.push({name:m2.name,type:m2.type,async:m2.async,override:m2.override,extended:m2.extended,args:m2.args,body:m2.body!=null?this.visit(m2.body).slice(1,-1):""})}),k2==_main_sketch){this.solved_class_data.get(k2).constructor.push({name:k2,type:k2,async:!1,override:!0,extended:!1,args:[],body:"super(arguments[0]);"});const setup=this.solved_class_data.get(k2).method.find(m2=>m2.name=="setup");if(setup){let match=setup.body.match(/__applet__.size\(\d+,\d+(?:,(?:P2D|P3D))?\);/);if(match||(match=setup.body.match(/__applet__.fullScreen\((?:P2D|P3D|\d+)?\);/)),match){let idx=match.index+match[0].length;setup.body=[setup.body.slice(0,idx),this.solved_class_data.get(k2).field.filter(f2=>!f2.extended).map(f2=>`this.${f2.name}=${f2.init}`).join(";")+(this.solved_class_data.get(k2).field.length>0?";":""),setup.body.slice(idx)].join("")}}v2.method.forEach((m2,i2)=>{replace_list$1.forEach(replace=>{m2.name==replace.before&&(this.solved_class_data.get(k2).method[i2].name=replace.after)})})}}),this.solved_class_data}visitMethodDeclaration=ctx=>{const method_name=ctx.IDENTIFIER().getText(),arg_list=this.visit(ctx.formalParameters());return`function ${method_name}${arg_list}${this.visit(ctx.methodBody())}`};visitLocalVariableDeclaration=ctx=>`let ${this.visit(ctx.variableDeclarators())}`;visitStatement=ctx=>{this.vatiable_list.push([]);let result="";switch(ctx.getChild(0).getText()){case"return":result=`return${ctx.expression(0)!=null?` ${this.visit(ctx.expression(0))}`:""};`;break;default:result=this.visitChildren(ctx);break}return this.vatiable_list.pop(),result};visitVariableDeclaratorId=ctx=>(this.vatiable_list[this.vatiable_list.length-1].push(ctx.IDENTIFIER().getText()),ctx.IDENTIFIER().getText());visitEnhancedForControl=ctx=>`let ${this.visit(ctx.variableDeclaratorId())} of ${this.visit(ctx.expression())}`;visitVariableInitializer=ctx=>this.visitChildren(ctx);visitArrayInitializer=ctx=>`[${ctx.variableInitializer_list().map(v2=>this.visit(v2)).join(",")}]`;visitExpression=ctx=>this.visitChildren(ctx).replace("System.out.println","console.log");visitLambdaExpression=ctx=>{this.vatiable_list.push([ctx.lambdaParameters().IDENTIFIER_list().map(i2=>i2.getText()).join(",")]);const result=`FunctionalInterface.get(${this.visit(ctx.lambdaParameters())}=>${this.visit(ctx.lambdaBody())})`;return this.vatiable_list.pop(),result};visitMethodCall=ctx=>{if(ctx.IDENTIFIER()!=null){const{is_member,is_applet_member}=isMemberMethod(class_data,this.current_class,ctx.IDENTIFIER().getText()),is_overloaded=!is_member&&is_applet_member&&overloaded_functions.includes(ctx.IDENTIFIER().getText());return(is_member?"this.":is_applet_member?"__applet__.":"")+(is_overloaded?"_":"")+ctx.IDENTIFIER()+`(${ctx.expressionList()!=null?this.visit(ctx.expressionList()):""})`}else if(ctx.functionWithPrimitiveTypeName()!=null){const _ctx=ctx.functionWithPrimitiveTypeName();return`__applet__.${_ctx.getChild(0).getText()}(${_ctx.expressionList()!=null?this.visit(_ctx.expressionList()):""})`}return this.visitChildren(ctx)};visitPrimary=ctx=>{if(ctx.IDENTIFIER()!=null){const{is_member,is_applet_member}=isMemberVariable(class_data,this.current_class,this.vatiable_list,ctx.IDENTIFIER().getText());return(is_member?"this.":is_applet_member?"__applet__.":"")+ctx.IDENTIFIER().getText()}return this.visitChildren(ctx)};visitLiteral=ctx=>ctx.hexColorLiteral()!=null?ctx.getText().replace("#","0x"):ctx.getText();visitCreator=ctx=>{if(ctx.arrayCreatorRest()!=null){const _ctx=ctx.arrayCreatorRest();if(_ctx.arrayInitializer()!=null)return this.visit(_ctx.arrayInitializer());let creator="";return _ctx.expression_list().forEach(e2=>{creator+=` Array(${this.visit(e2)}).fill().map(_=>`}),ctx.createdName().primitiveType()!=null?ctx.createdName().getText()=="boolean"?creator+="false":creator+="0":creator+="null",creator+=new Array(_ctx.expression_list().length).fill(")").join(""),creator}else if(ctx.classCreatorRest()!=null&&ctx.classCreatorRest().classBody()!=null)return" "+this.visit(ctx.classCreatorRest());return" "+this.visitChildren(ctx)};visitClassCreatorRest=ctx=>{if(ctx.classBody()!=null){const inner_name="anonymous",parent=ctx.parentCtx,name=parent instanceof CreatorContext?get_last(parent.createdName().IDENTIFIER_list()).getText():ctx.IDENTIFIER().getText(),methods=ctx.classBody().classBodyDeclaration_list().filter(c2=>c2.memberDeclaration()!=null).map(m2=>m2.memberDeclaration()).filter(c2=>c2.methodDeclaration()!=null).map(m2=>m2.methodDeclaration());return`(function(){function ${inner_name}(){};${inner_name}.prototype=new ${name}();${methods.map(m2=>`${inner_name}.prototype.${m2.IDENTIFIER().getText()}=${this.visit(m2).replace(` ${m2.IDENTIFIER().getText()}`,"")};`).join("")}return ${inner_name};}())${this.visit(ctx.arguments())}`}else return this.visitChildren(ctx)};visitNonWildcardTypeArguments=()=>"";visitNonWildcardTypeArgumentsOrDiamond=()=>"";visitTypeArgumentsOrDiamond=()=>"";visitDefaultValue=ctx=>ctx.getText()}function isMemberVariable(class_data2,class_name,variable_data,primary){let is_local=!1;variable_data.forEach(vd=>{vd.forEach(v2=>{v2===primary&&(is_local=!0)})});let is_member=!1;class_data2.get(class_name)?.field.forEach(field=>{primary===field.name&&(is_member=!0)});let is_applet_member=primary in applet_instance;return class_data2.get(_main_sketch)?.field.forEach(field=>{primary===field.name&&(is_applet_member=!0)}),is_member=!is_local&&is_member,is_applet_member=!is_local&&is_applet_member,{is_member,is_applet_member}}function isMemberMethod(class_data2,class_name,name){let is_member=!1;class_data2.get(class_name)?.method.forEach(method=>{name===method.name&&(is_member=!0)}),class_name===_main_sketch&&(is_member=!1);let is_applet_member=name in applet_instance;return class_data2.get(_main_sketch)?.method.forEach(method=>{name===method.name&&(is_applet_member=!0)}),{is_member,is_applet_member}}const replace_list=[];class Converter{convert(solved_class_data){let result="";solved_class_data.forEach((v2,k2)=>{result+=`class ${k2}${v2.class.length>0?` extends ${v2.class[0]}`:""}{
`,result+=getSafeConstructor(v2.constructor)+`
`,result+=getSafeMethod(v2.method)+`
}`});const used_fn=new Set,regx=/__applet__.(\w+)\(/g;let match;for(;(match=regx.exec(result))!=null;)used_fn.add(match[1]);return used_fn.forEach(fn=>{let instance;(instance=applet_instance[fn])!=null&&instance.constructor.name==="AsyncFunction"&&(result=result.replaceAll(`__applet__.${fn}`,`await __applet__.${fn}`))}),replace_list.forEach(replace=>{result=result.replace(replace.before,replace.after)}),result+=`
const __applet__=new ${_main_sketch}(__renderer__);
return __applet__;`,result}}function getType(type){return type.includes("[]")?type.replace("[]","").replace(" ","")+"[]":type.includes("<")?type.replace(/<.*?>/,"").replace(" ",""):type.replace(" ","").replace(/int|float|long|double|byte|short|color/,"Number").replace("char","String")}function getSafeMethod(method_data){const unique_method=new Map;method_data.filter(m2=>!m2.extended).forEach(m2=>{unique_method.has(m2.name)?unique_method.get(m2.name).push(m2):unique_method.set(m2.name,[m2])});const method_list=[];return unique_method.forEach((v2,k2)=>{if(v2.length==1){const method=`${v2[0].async?"async ":""}${k2}(${v2[0].args.map(a2=>a2.name).join(",")}){
${v2[0].body}}
`;method_list.push(method)}else{let method=`${v2[0].async?"async ":""}${k2}(...args){
`;v2.forEach(m2=>{method+=`if(args.length==${m2.args.length}${m2.args.map((v22,i2)=>v22.type.includes("[]")?`&&Array.isArray(args[${i2}])`:`&&args[${i2}] instanceof ${getType(v22.type)}`)}){
${m2.body==""&&m2.override?`super.${k2}(args);
`:m2.body}}else `}),method=method.slice(0,-5)+`}
`,method_list.push(method)}}),method_list.join(`
`)}function getSafeConstructor(constructor_data){let constructor_list="";if(constructor_data.length==0)constructor_list=`constructor(){}
`;else if(constructor_data.length==1)constructor_list=`constructor(${constructor_data[0].args.map(a2=>a2.name).join(",")}){
${constructor_data[0].body}}
`;else{let constructor=`constructor(...args){
`;constructor_data.forEach(m2=>{constructor+=`if(args.length==${m2.args.length}${m2.args.map((v2,i2)=>v2.type.includes("[]")?`&&Array.isArray(args[${i2}])`:`&&args[${i2}] instanceof ${getType(v2.type)}`)}){
${m2.args.map((v2,i2)=>`const ${v2.name}=args[${i2}];
`)}${m2.body}}else `}),constructor=constructor.slice(0,-5)+`}
`,constructor_list=constructor}return constructor_list}let applet_instance,_main_sketch="";function transpile(sketch_content,main_sketch){_main_sketch=main_sketch,applet_instance=new PApplet(null),performance.clearMarks(),performance.clearMeasures(),performance.mark("analyze_member()");const class_data2=analyze_member(sketch_content);performance.mark("solve_reference()");const solved_class_data=solve_reference(class_data2);performance.mark("convert()");const converted_class_data=convert(solved_class_data);return performance.mark("end"),performance.measure("function analyze_member()","analyze_member()","solve_reference()"),performance.measure("analyze : new_instance","new_instance","read_stream"),performance.measure("analyze : read_stream","read_stream","parse_tree"),performance.measure("analyze : parse_tree","parse_tree","visit"),performance.measure("analyze : visit","visit","end_analyze"),performance.measure("function solve_reference()","solve_reference()","convert()"),performance.measure("function convert()","convert()","end"),performance.getEntriesByType("measure").forEach(e2=>console.log(`${e2.name} takes ${e2.duration}ms`)),converted_class_data}function analyze_member(sketch_content){performance.mark("new_instance");const member_analyzer=new MemberAnalyzer(_main_sketch);performance.mark("read_stream");const parser=new ProcessingParser(new Ze(new ProcessingLexer(Xe.fromString(sketch_content))));performance.mark("parse_tree");const tree=parser.processingSketch();return performance.mark("visit"),member_analyzer.visit(tree),performance.mark("end_analyze"),class_data}function solve_reference(class_data2){return new ReferenceSolver().solve(class_data2)}function convert(solved_class_data){return new Converter().convert(solved_class_data)}function get_last(a2){if(a2.length!=0)return a2[a2.length-1]}class Cursor{static CUSTOM_CURSOR=-1;static DEFAULT_CURSOR=0;static CROSSHAIR_CURSOR=1;static TEXT_CURSOR=2;static WAIT_CURSOR=3;static SW_RESIZE_CURSOR=4;static SE_RESIZE_CURSOR=5;static NW_RESIZE_CURSOR=6;static NE_RESIZE_CURSOR=7;static N_RESIZE_CURSOR=8;static S_RESIZE_CURSOR=9;static W_RESIZE_CURSOR=10;static E_RESIZE_CURSOR=11;static HAND_CURSOR=12;static MOVE_CURSOR=13;type;constructor(type){this.type=type}getType(){return this.type}}class ArrayList{items;constructor(){this.items=[]}add(item){this.items.push(item)}get(index){return this.items[index]}size(){return this.items.length}clear(){this.items=[]}remove(arg){if(typeof arg=="number")arg>=0&&arg<this.items.length&&this.items.splice(arg,1);else{const index=this.items.indexOf(arg);index!==-1&&this.items.splice(index,1)}}[Symbol.iterator](){let index=0;const items=this.items;return{next(){return index<items.length?{value:items[index++],done:!1}:{done:!0}}}}}class Runnable{run(){}}class Consumer{accept(v2){}andThen(v2){this.accept(v2)}}class Supplier{get(){}}let Function$1=class Function2{apply(v2){}andThen(after){const result=new Function2;return result.apply=v2=>after.apply(this.apply(v2)),result}compose(before){const result=new Function2;return result.apply=v2=>this.apply(before.apply(v2)),result}};class FunctionalInterface{static get(f2){return new(function(){function result(){}return result.prototype=new Function$1,result.prototype.get=f2,result.prototype.test=f2,result.prototype.accept=f2,result.prototype.apply=f2,result.prototype.call=f2,result.prototype.run=f2,result}())}}let Event$1=class{static SHIFT=1;static CTRL=2;static META=4;static ALT=8;static KEY=1;static MOUSE=2;static TOUCH=3};class KeyEvent{key;keyCode;modifiers;static PRESS=1;static RELEASE=2;static TYPE=3;constructor(key,keyCode,modifiers){this.modifiers=modifiers,this.key=key,this.keyCode=keyCode}getKeyCode(){return this.keyCode}getKey(){return this.key}}class MouseEvent extends Event$1{x;y;button;count;constructor(x2,y2,button,count2){super(),this.x=x2,this.y=y2,this.button=button,this.count=count2}getX(){return this.x}getY(){return this.y}getButton(){return this.button}getCount(){return this.count}}class PVector{x;y;z=0;constructor(x2=0,y2=0,z2=0){this.x=x2,this.y=y2,this.z=z2}add(...args){if(args.length==1&&args[0].constructor.name==="PVector"){const v2=args[0];this.x+=v2.x,this.y+=v2.y,this.z+=v2.z}else if(args.length>=2&&args.length<=3&&args[0].constructor.name==="Number"&&args[1].constructor.name==="Number"&&(args[2]??args[1]).constructor.name==="Number"){const{x:x2,y:y2,z:z2}={x:args[0],y:args[1],z:args[2]??0};this.x+=x2,this.y+=y2,this.z+=z2}return this}sub(...args){if(args.length==1&&args[0].constructor.name==="PVector"){const v2=args[0];this.x-=v2.x,this.y-=v2.y,this.z-=v2.z}else if(args.length>=2&&args.length<=3&&args[0].constructor.name==="Number"&&args[1].constructor.name==="Number"&&(args[2]??args[1]).constructor.name==="Number"){const{x:x2,y:y2,z:z2}={x:args[0],y:args[1],z:args[2]??0};this.x-=x2,this.y-=y2,this.z-=z2}return this}mult(scalar){return this.x*=scalar,this.y*=scalar,this.z*=scalar,this}div(scalar){if(scalar===0)throw new Error("Division by zero");return this.x/=scalar,this.y/=scalar,this.z/=scalar,this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){const mag=this.mag();return mag===0?new PVector(0,0):(this.x/=mag,this.y/=mag,this.z/=mag,this)}copy(){return new PVector(this.x,this.y,this.z)}set(...args){if(args.length==1&&args[0].constructor.name==="PVector"){const v2=args[0];this.x=v2.x,this.y=v2.y,this.z=v2.z}else if(args.length>=2&&args.length<=3&&args[0].constructor.name==="Number"&&args[1].constructor.name==="Number"&&(args[2]??args[1]).constructor.name==="Number"){const{x:x2,y:y2,z:z2}={x:args[0],y:args[1],z:args[2]??0};this.x=x2,this.y=y2,this.z=z2}return this}}class IOBase{base_path;preload=null;constructor(base_path){this.base_path=base_path}toBlob(src,mime){const len=src.length,bytes=new Uint8Array(len);for(let i2=0;i2<len;i2++)bytes[i2]=src.charCodeAt(i2)&255;return new Blob([bytes],{type:mime})}readBlob(blob){const xhr=new XMLHttpRequest,url=URL.createObjectURL(blob);return xhr.overrideMimeType("text/plain; charset=x-user-defined"),xhr.open("GET",url,!1),xhr.send(),xhr.response}save_blob(name,data){window.localStorage.setItem(name,this.readBlob(data))}save_string(name,data){window.localStorage.setItem(name,data)}load_buffer_as_blob(name,mime){if(this.preload==null)return null;const result=this.preload.filter(p2=>p2.path==name);return result.length>0?new Blob([result[0].content],{type:mime}):null}load_buffer_as_string(name){if(this.preload==null)return null;const result=this.preload.filter(p2=>p2.path==name);return result.length>0?new TextDecoder("utf-8").decode(result[0].content):null}load_as_blob(name,mime){let result;return(result=this.toBlob(window.localStorage.getItem(name),mime))!=null||(result=this.load_buffer_as_blob(name,mime))!=null||(result=this.toBlob(this.request(name),mime))!=null?result:null}load_as_string(name){let result;return(result=window.localStorage.getItem(name))!=null||(result=this.load_buffer_as_string(name))!=null||(result=this.request(name))!=null?result:null}}class XHRIO extends IOBase{request(path2){const xhr=new XMLHttpRequest;if(xhr.open("GET",this.base_path+path2,!1),xhr.overrideMimeType("text/plain; charset=x-user-defined"),xhr.send(),xhr.status>=200&&xhr.status<300)return xhr.responseText;throw new Error(`XHRIO request failed: ${xhr.status} ${xhr.statusText}`)}}class Renderer{app=null;graphics=null;text_container=null;target_element=null;text_style=null;stroke_style=null;font_size=12;font_family="Arial";text_align="left";rect_mode=0;ellipse_mode=0;fill_enabled=!0;stroke_enabled=!0;fill_color=0;stroke_color=0;current_cursor="default";initialized=!1;async init(width,height){if(this.initialized){console.warn("Renderer already initialized");return}this.initialized=!0,this.app=new Application,this.graphics=new Graphics,this.text_container=new Container,width===0&&height===0&&(width=this.getMaximumSize().width,height=this.getMaximumSize().height),await this.app.init({width,height,backgroundColor:"#dddddd",clearBeforeRender:!1,preserveDrawingBuffer:!0,antialias:!0,canvas:this.canvas}),this.app.renderer.resize(width,height),this.app.stage.addChild(this.graphics),this.app.stage.addChild(this.text_container),this.text_style=new TextStyle({fontFamily:this.font_family,fontSize:this.font_size,fill:"#000000",align:"left"}),this.stroke_style={width:1,color:0,cap:"round",join:"round",miterLimit:10}}background(r2,g2,b2,a2){const mat=this.graphics?.getTransform().clone();this.graphics?.clear(),this.text_container?.removeChildren(0,this.text_container.children.length),this.app.renderer!=null&&(this.app.renderer.background.color={r:r2,g:g2,b:b2,a:a2}),this.graphics?.rect(0,0,innerWidth,innerHeight),this.graphics?.fill({color:{r:r2,g:g2,b:b2,a:a2}}),this.graphics?.stroke({color:0,alpha:0}),this.graphics?.setTransform(mat)}fill(r2,g2,b2,a2){this.fill_enabled=!0,this.fill_color={r:r2,g:g2,b:b2,a:a2}}noFill(){this.fill_enabled=!1}stroke(r2,g2,b2,a2){this.stroke_enabled=!0,this.stroke_color={r:r2,g:g2,b:b2,a:a2}}noStroke(){this.stroke_enabled=!1}strokeWeight(weight){this.stroke_style.width=weight,this.graphics?.setStrokeStyle(this.stroke_style)}rectMode(mode){this.rect_mode=mode}textAlign(align){switch(align){case 37:this.text_align="left";break;case 3:this.text_align="center";break;case 39:this.text_align="right";break;default:console.warn("Unknown text mode: "+align);break}this.text_style.align=this.text_align}textSize(size){this.text_style.fontSize=size}rect(x2,y2,width,height){switch(this.rect_mode){case 0:break;case 1:x2-=width/2,y2-=height/2;break;case 2:x2-=width/2,y2-=height/2,width*=2,height*=2;break;case 3:x2-=width/2,y2-=height/2;break;case 4:x2-=width/2,y2-=height/2,width*=2,height*=2;break;default:console.warn("Unknown rect mode: "+this.rect_mode);break}this.graphics?.rect(x2,y2,width,height),this.graphics?.fill(this.fill_enabled?{color:this.fill_color}:{color:0,alpha:0}),this.graphics?.stroke(this.stroke_enabled?{color:this.stroke_color}:{color:0,alpha:0})}ellipse(x2,y2,width,height){this.graphics?.ellipse(x2,y2,width*.5,height*.5),this.graphics?.fill(this.fill_enabled?{color:this.fill_color}:{color:0,alpha:0}),this.graphics?.stroke(this.stroke_enabled?{color:this.stroke_color}:{color:0,alpha:0})}arc(x2,y2,width,height,start,stop){const mat=this.graphics?.getTransform().clone();this.graphics?.translateTransform(x2,y2),this.graphics?.scaleTransform(1,height/width),this.graphics?.moveTo(width*.5*Math.cos(start),width*.5*Math.sin(start)),this.graphics?.arc(0,0,width*.5,start,stop),this.graphics?.setTransform(mat),this.graphics?.fill(this.fill_enabled?{color:this.fill_color}:{color:0,alpha:0}),this.graphics?.stroke(this.stroke_enabled?{color:this.stroke_color}:{color:0,alpha:0})}triangle(x1,y1,x2,y2,x3,y3){this.graphics?.moveTo(x1,y1),this.graphics?.lineTo(x2,y2),this.graphics?.lineTo(x3,y3),this.graphics?.lineTo(x1,y1),this.graphics?.fill(this.fill_enabled?{color:this.fill_color}:{color:0,alpha:0}),this.graphics?.stroke(this.stroke_enabled?{color:this.stroke_color}:{color:0,alpha:0})}line(x1,y1,x2,y2){this.graphics?.moveTo(x1,y1),this.graphics?.lineTo(x2,y2),this.graphics?.moveTo(0,0),this.graphics?.stroke(this.stroke_enabled?{color:this.stroke_color}:{color:0,alpha:0})}text(text,x2,y2,w2,h2){if(!this.text_style)return;this.text_style.fill=this.fill_color,w2?(this.text_style.breakWords=!0,this.text_style.wordWrap=!0,this.text_style.wordWrapWidth=w2):(this.text_style.breakWords=!1,this.text_style.wordWrap=!1,this.text_style.wordWrapWidth=0);const text_obj=new Text({text,style:this.text_style.clone()}),pos=(this.graphics?.getTransform().clone()).apply({x:x2,y:y2-this.text_style.fontSize*.75});text_obj.x=pos.x,text_obj.y=pos.y,w2&&h2&&(text_obj.width=w2,text_obj.height=h2),this.text_container.addChild(text_obj)}image(image,x2,y2,w2,h2){image.texture!=null&&this.graphics?.texture(image.texture,16777215,x2,y2,w2,h2)}translate(x2,y2){this.graphics?.translateTransform(x2,y2)}setCursor(...args){if(args.length==1&&args[0].constructor.name=="Number"){const kind=args[0];let name="auto";switch(kind){case-1:break;case 0:name="default";break;case 1:name="crosshair";break;case 2:name="text";break;case 3:name="wait";break;case 4:name="sw-resize";break;case 5:name="se-resize";break;case 6:name="nw-resize";break;case 7:name="ne-resize";break;case 8:name="n-resize";break;case 9:name="s-resize";break;case 10:name="w-resize";break;case 11:name="e-resize";break;case 12:name="grab";break;case 13:name="move";break}this.current_cursor=name,this.setCursorStyle(name)}else if(args.length==3&&args[0].constructor.name=="PImage"&&args[1].constructor.name=="Number"&&args[2].constructor.name=="Number"){const{image,hotspotX,hotspotY}={image:args[0],hotspotX:args[1],hotspotY:args[2]};this.setCursorStyle({image,x:hotspotX,y:hotspotY}),console.log(image)}}showCursor(){this.setCursorStyle(this.current_cursor)}hideCursor(){this.setCursorStyle("none")}async invoke(name,...args){this[name]?await this[name](...args):console.warn("Unknown method: "+name)}__begin__(){this.graphics?.clear(),this.text_container?.removeChildren(0,this.text_container.children.length)}__end__(){return 0}__stop__(){}}class DefaultRenderer extends Renderer{__io__;canvas;max_size={width:0,height:0};constructor(canvas,base_path,max_size){super(),this.canvas=canvas,this.__io__=new XHRIO(base_path),max_size&&(this.max_size=max_size)}setCursorStyle(arg){typeof arg=="string"&&(this.canvas.style.cursor=arg)}getMaximumSize(){return this.max_size}}class Runner{pre_count=-1;initiated=!1;scaling={x:1,y:1};log_listeners=[];convert_button(button){switch(button){case 0:button=37;break;case 1:button=3;break;case 2:button=39;break}return button}sign(x2){return x2<0?-1:x2>0?1:0}convert_mouse(x2,y2){const rect=this.manager.target_element.getBoundingClientRect();return{x:(x2-rect.left)*this.scaling.x,y:(y2-rect.top)*this.scaling.y}}get_maximum_size(){const rect=this.manager.target_element.getBoundingClientRect();return{width:rect.width,height:rect.height}}}class DefaultRunner extends Runner{pre_count=-1;initiated=!1;manager;renderer=null;event_queue;content_display=!0;applet=null;last_time=0;loop_count=0;arg_classes=[{name:"PApplet",type:PApplet},{name:"PVector",type:PVector},{name:"ArrayList",type:ArrayList},{name:"Cursor",type:Cursor},{name:"Runnable",type:Runnable},{name:"Consumer",type:Consumer},{name:"Supplier",type:Supplier},{name:"Function",type:Function$1},{name:"FunctionalInterface",type:FunctionalInterface}];constructor(manager2){super(),this.manager=manager2,this.event_queue=[]}async init(sketch){this.event_queue=[],this.renderer=new DefaultRenderer(this.manager.target_element,this.manager.base_uri,this.get_maximum_size()),this.applet=new globalThis.Function("__renderer__",...this.arg_classes.map(c2=>c2.name),sketch)(this.renderer,...this.arg_classes.map(c2=>c2.type)),this.applet.width=this.manager.target_element.clientWidth,this.applet.height=this.manager.target_element.clientHeight,this.applet.__log_listener__=args=>{this.log_listeners.forEach(l2=>l2(args))},this.manager.sketch_resources_promise!=null&&this.applet.__set_preload__((await this.manager.sketch_resources_promise).map(r2=>({path:r2.path,content:new Uint8Array(r2.content).buffer}))),set_base_uri(this.manager.base_uri),this.initiated=!0,await this.applet.settings(),await this.applet.setup(),this.set_scaling(),this.loop()}loop(){const self2=this,ID=setInterval(async function(){const now=performance.now(),deltaTime=now-self2.last_time;self2.last_time=now,self2.applet.frameRate=1e3/deltaTime,self2.applet?.__begin__(),await self2.applet.draw();const code=self2.applet?.__end__();for((code!=0||!self2.initiated)&&(clearInterval(ID),self2.applet?.__stop__(),console.log(`Sketch finished with exit code ${code}.`)),self2.applet.frameCount++,self2.loop_count++;self2.event_queue.length>0;){const event=self2.event_queue.shift();let mouse;switch(event.name){case"_mousePressed":self2.applet.mousePressed=!0,mouse=self2.convert_mouse(event.event.x,event.event.y),self2.applet.mouseX=mouse.x,self2.applet.mouseY=mouse.y,self2.applet.mouseButton=event.event.button,self2.applet._mousePressed(event.event);break;case"_mouseReleased":self2.applet.mousePressed=!1,mouse=self2.convert_mouse(event.event.x,event.event.y),self2.applet.mouseX=mouse.x,self2.applet.mouseY=mouse.y,self2.applet.mouseButton=event.event.button,self2.applet._mouseReleased(event.event);break;case"_mouseMoved":mouse=self2.convert_mouse(event.event.x,event.event.y),self2.applet.mouseX=mouse.x,self2.applet.mouseY=mouse.y,self2.applet._mouseMoved(event.event);break;case"_keyPressed":self2.applet.keyPressed=!0,self2.applet.key=event.event.key,self2.applet.keyCode=event.event.keyCode,self2.applet._keyPressed(event.event);break;case"_keyReleased":self2.applet.keyPressed=!1,self2.applet._keyReleased(event.event);break;case"_mouseWheel":self2.applet._mouseWheel(event.event);break;case"_windowResized":self2.applet._windowResized();break;default:console.error("Unknown event name: "+event.name)}}},this.content_display?1e3/this.applet.__frameRate__:1e3)}stop(){this.initiated&&(this.initiated=!1)}on_focus(){this.content_display=!0}on_blur(){this.content_display=!1}on_pointermove(e2){this.event_queue.push({name:"_mouseMoved",event:new MouseEvent(e2.clientX,e2.clientY,this.convert_button(e2.button),0)})}on_pointerdown(e2){this.event_queue.push({name:"_mousePressed",event:new MouseEvent(e2.clientX,e2.clientY,this.convert_button(e2.button),0)})}on_pointerup(e2){this.event_queue.push({name:"_mouseReleased",event:new MouseEvent(e2.clientX,e2.clientY,this.convert_button(e2.button),0)})}on_keydown(e2){const modifiers=e2.getModifierState("Shift")?1:0;this.event_queue.push({name:"_keyPressed",event:new KeyEvent(e2.key,e2.keyCode,modifiers)}),e2.key==="Tab"&&e2.preventDefault()}on_keyup(e2){const modifiers=e2.getModifierState("Shift")?1:0;this.event_queue.push({name:"_keyReleased",event:new KeyEvent(e2.key,e2.keyCode,modifiers)})}on_wheel(e2){this.event_queue.push({name:"_mouseWheel",event:new MouseEvent(e2.clientX,e2.clientY,this.convert_button(e2.button),this.sign(e2.deltaY))})}on_resize(){this.event_queue.push({name:"_windowResized",event:new Event$1})}on_contextmenu;set_scaling(){if(!this.applet)return;const rect=this.manager.target_element.getBoundingClientRect();this.scaling={x:this.applet.width/rect.width,y:this.applet.height/rect.height}}get_applet_size(){return this.applet?this.applet.__fullscreen__?{w:0,h:0}:{w:this.applet.width,h:this.applet.height}:{w:0,h:0}}addEventListener(type,listener){switch(type){case"log":this.log_listeners.push(listener);break}}}class SketchManager{runner;settings={frameRate:60,thread:"main",keep_aspect_ratio:!1};target_element=null;sketch_resources_promise=null;base_uri="";constructor(settings){switch(settings&&(this.settings=settings),this.settings.thread){case"main":this.runner=new DefaultRunner(this);break;default:this.runner=new DefaultRunner(this);break}}mountPApplet(target){this.target_element=target,window.addEventListener("focus",()=>{this.runner.on_focus()}),window.addEventListener("blur",()=>{this.runner.on_blur()}),this.initEvent(target)}async loadSketch(sketch_path){this.base_uri=new URL(typeof sketch_path=="string"?sketch_path:sketch_path.base_uri,document.baseURI).href;const sketch_property=typeof sketch_path=="string"?await(await fetch(new URL(sketch_path+"sketch.properties",document.baseURI))).text():"",main_sketch=typeof sketch_path=="string"?sketch_property.match(/\n*(?<!#\s*)main\s*=\s*(.+\.pde)/)[1]:sketch_path.main_sketch,sketch_names=typeof sketch_path=="string"?sketch_property.match(/\n*(?<!#\s*)sketches\s*=((\s*\w+.pde)+)/)[1].split(/[\s,]+/).map(s2=>s2.trim()):sketch_path.sketches,sketch_resources=typeof sketch_path=="string"?sketch_property.match(/\n*(?<!#\s*)resources\s*=[\s,]*(([\w\.]+[,\s]+)*)/)[1].split(/[\s,]+/).map(s2=>s2.trim()):sketch_path.resources??[];this.sketch_resources_promise=Promise.all(sketch_resources.map(async resource=>({path:resource,content:await fetch(new URL(sketch_path+resource,document.baseURI)).then(res=>res.arrayBuffer())})));const sketch_content=await Promise.all(sketch_names.map(async name=>({name,content:await fetch(new URL(sketch_path+name,document.baseURI)).then(res=>res.text())})));return{main:main_sketch,content:sketch_content}}loadSketchString(sketch,name,resources){return this.sketch_resources_promise=Promise.all((resources??[]).map(async resource=>({path:resource,content:await fetch(new URL(resource,document.baseURI)).then(res=>res.arrayBuffer())}))),{main:name,content:[{name,content:sketch}]}}initEvent(target_element){target_element.addEventListener("pointermove",e2=>{this.runner.on_pointermove&&this.runner.on_pointermove(e2)}),target_element.addEventListener("pointerdown",e2=>{this.runner.on_pointerdown&&this.runner.on_pointerdown(e2)}),target_element.addEventListener("pointerup",e2=>{this.runner.on_pointerup&&this.runner.on_pointerup(e2)}),window.addEventListener("keydown",e2=>{this.runner.on_keydown&&this.runner.on_keydown(e2)}),window.addEventListener("keyup",e2=>{this.runner.on_keyup&&this.runner.on_keyup(e2)}),target_element.addEventListener("wheel",e2=>{this.runner.on_wheel&&this.runner.on_wheel(e2)},{passive:!0}),target_element.addEventListener("contextmenu",e2=>{this.runner.on_contextmenu&&this.runner.on_contextmenu(e2)})}transpileSketch(sketch_data){return transpile(sketch_data.content.map(s2=>s2.content).join(`
`),sketch_data.main.replace(".pde",""))}async runTranspiledSketch(sketch){this.stopSketch(),console.log(sketch),await this.runner.init(sketch),this.settings.keep_aspect_ratio&&this.setAspectRatio()}async runSketch(sketch_data){if(this.target_element==null){console.error("target_element is not set. Please call mountPApplet() before runSketch()");return}const sketch=this.transpileSketch(sketch_data);await this.runTranspiledSketch(sketch)}stopSketch(){this.runner.stop()}resize(){this.runner.on_resize&&this.runner.on_resize(),this.runner.set_scaling(),this.settings.keep_aspect_ratio&&this.setAspectRatio()}setAspectRatio(){const rect=this.target_element.getBoundingClientRect(),size=this.runner.get_applet_size();if(!(size.w==0&&size.h==0)){if(this.runner.scaling.x<this.runner.scaling.y){const scale=rect.height/size.h;this.target_element.style.width=`${size.w*scale}px`}else if(this.runner.scaling.y<this.runner.scaling.x){const scale=rect.width/size.w;this.target_element.style.height=`${size.h*scale}px`}this.runner.set_scaling()}}addEventListener(type,listener){this.runner.addEventListener(type,listener)}}const manager=new SketchManager({keep_aspect_ratio:!0});manager.mountPApplet(document.getElementById("sketch-canvas"));const sampleSelect=document.getElementById("sample-select"),codeEditor=document.getElementById("code-editor"),highlighting=document.getElementById("highlighting"),highlightingCode=highlighting.querySelector("code"),runButton=document.getElementById("run-button"),stopButton=document.getElementById("stop-button"),sketchCanvas=document.getElementById("sketch-canvas"),tabsContainer=document.getElementById("tabs-container"),uploadBox=document.getElementById("upload-box"),addTabButton=document.getElementById("add-tab-button"),showUploadUiButton=document.getElementById("show-upload-ui-button"),uploadUi=document.getElementById("upload-ui"),fileInput=document.getElementById("file-input"),fileList=document.getElementById("file-list"),mainSketchSelect=document.getElementById("main-sketch-select"),uploadButton=document.getElementById("upload-button"),windowModeButton=document.getElementById("window-mode-button"),boxModeButton=document.getElementById("box-mode-button"),canvasWindow=document.getElementById("canvas-window"),windowTitleBar=canvasWindow.querySelector(".window-title-bar"),windowResizeHandle=canvasWindow.querySelector(".window-resize-handle"),clearConsoleButton=document.getElementById("clear-console-button");let tabs=[],currentTabId=null,nextTabId=0,isRunning=!1,uploadedFiles=[],isWindowMode=!1,windowPos={x:100,y:100},windowSize={w:500,h:500};const samples={circle:{name:"",code:`void setup() {
  size(400, 400);
  background(220);
}

void draw() {
  ellipse(200, 200, 100, 100);
}`},"interactive-lines":{name:"",code:`void setup() {
  size(400, 400);
  background(0);
  stroke(255, 100);
}

void draw() {
  line(mouseX, mouseY, 200, 200);
}`},"bouncing-ball":{name:"",code:`float x = 200;
float y = 200;
float xspeed = 3;
float yspeed = 4;

void setup() {
  size(400, 400);
  background(50);
}

void draw() {
  background(50, 50);
  
  noStroke();
  fill(255, 100, 100);
  ellipse(x, y, 30, 30);

  x += xspeed;
  y += yspeed;

  if (x > width - 15 || x < 15) {
    xspeed *= -1;
  }
  if (y > height - 15 || y < 15) {
    yspeed *= -1;
  }
}`}};function applySyntaxHighlighting(code){const keywords="\\b(function|let|const|var|if|else|for|while|return|new|true|false)\\b",p5functions="\\b(setup|draw|size|background|fill|noFill|stroke|noStroke|ellipse|rect|line|point|text|mouseX|mouseY|width|height)\\b",numbers="\\b-?\\d+(\\.\\d+)?\\b",strings=`("|').*?("|')`,comments="\\/\\/.*";let highlightedCode=escapeHtml(code);highlightedCode=highlightedCode.replace(new RegExp(comments,"g"),match=>`<span class="token-comment">${match}</span>`),highlightedCode=highlightedCode.replace(new RegExp(keywords,"g"),match=>`<span class="token-keyword">${match}</span>`),highlightedCode=highlightedCode.replace(new RegExp(p5functions,"g"),match=>`<span class="token-function">${match}</span>`),highlightedCode=highlightedCode.replace(new RegExp(strings,"g"),match=>`<span class="token-string">${match}</span>`),highlightedCode=highlightedCode.replace(new RegExp(numbers,"g"),match=>`<span class="token-number">${match}</span>`),highlightingCode.innerHTML=highlightedCode}function escapeHtml(text){return text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function updateEditorContent(content){codeEditor.value=content,applySyntaxHighlighting(content)}function renderTabs(){for(;tabsContainer.firstChild&&tabsContainer.firstChild!==addTabButton;)tabsContainer.removeChild(tabsContainer.firstChild);tabs.forEach(tab=>{const tabEl=document.createElement("div");tabEl.className=`tab ${tab.id===currentTabId?"active":""}`,tabEl.dataset.tabId=String(tab.id);const nameEl=document.createElement("span");nameEl.className="tab-name",nameEl.textContent=tab.name,nameEl.setAttribute("contenteditable","false"),nameEl.addEventListener("dblclick",()=>{nameEl.setAttribute("contenteditable","true"),nameEl.focus()}),nameEl.addEventListener("blur",()=>{nameEl.setAttribute("contenteditable","false"),tab.name=nameEl.textContent}),nameEl.addEventListener("keydown",e2=>{e2.key==="Enter"&&(e2.preventDefault(),nameEl.blur())});const closeEl=document.createElement("button");closeEl.className="close-tab",closeEl.innerHTML="&times;",closeEl.title="",tabEl.appendChild(nameEl),tabEl.appendChild(closeEl),tabsContainer.insertBefore(tabEl,addTabButton)})}function switchTab(id){if(id===currentTabId)return;const tabToActivate=tabs.find(t2=>t2.id===id);tabToActivate&&(currentTabId=id,updateEditorContent(tabToActivate.code),renderTabs())}function addTab(name=`Untitled-${tabs.length+1}`,code=`// New sketch

void setup() {
  size(400, 400);
}

void draw() {
  background(220);
}`){const newTab={id:nextTabId++,name,code};tabs.push(newTab),switchTab(newTab.id)}function closeTab(id){const tabIndex=tabs.findIndex(t2=>t2.id===id);if(tabIndex>-1){if(tabs.splice(tabIndex,1),tabs.length===0)addTab();else if(currentTabId===id){const newActiveIndex=Math.max(0,tabIndex-1);switchTab(tabs[newActiveIndex].id)}renderTabs()}}function clearTab(){tabs.forEach(t2=>{closeTab(t2.id)})}function getActiveTab(){return tabs.find(t2=>t2.id===currentTabId)}function updateControlState(){runButton.disabled=isRunning,stopButton.disabled=!isRunning,sketchCanvas.classList.toggle("running",isRunning)}function initializeSampleSelector(){Object.keys(samples).forEach(key=>{const option=document.createElement("option");option.value=key,option.textContent=samples[key].name,sampleSelect.appendChild(option)})}function handleFileSelect(event){const files=event.target.files;if(files.length===0)return;uploadedFiles=[],mainSketchSelect.innerHTML="<option>...</option>";const filePromises=Array.from(files).map(file=>new Promise((resolve,reject)=>{const reader=new FileReader;reader.onload=e2=>resolve({name:file.name,content:e2.target.result}),reader.onerror=e2=>reject(e2),reader.readAsText(file)}));Promise.all(filePromises).then(results=>{uploadedFiles=results,fileList.textContent=`${results.length}: ${results.map(f2=>f2.name).join(", ")}`,results.forEach(file=>{const option=document.createElement("option");option.value=file.name,option.textContent=file.name,mainSketchSelect.appendChild(option)}),mainSketchSelect.disabled=!1}).catch(error=>{console.error("Error reading files:",error),fileList.textContent=""})}function resetUploadUI(){uploadUi.classList.add("hidden"),showUploadUiButton.classList.remove("hidden"),fileInput.value="",fileList.textContent="",mainSketchSelect.innerHTML="<option>...</option>",mainSketchSelect.disabled=!0,uploadButton.disabled=!0,uploadedFiles=[]}function setWindowMode(enabled){isWindowMode=enabled;const canvasBox=document.getElementById("canvas-box"),canvasWindow2=document.getElementById("canvas-window"),sketchCanvas2=document.getElementById("sketch-canvas"),windowContent=canvasWindow2.querySelector(".window-content"),boxContent=canvasBox.querySelector(".canvas-container");enabled?(canvasBox.classList.add("hidden"),canvasWindow2.classList.remove("hidden"),windowContent.appendChild(sketchCanvas2),canvasWindow2.style.left=`${windowPos.x}px`,canvasWindow2.style.top=`${windowPos.y}px`,canvasWindow2.style.width=`${windowSize.w}px`,canvasWindow2.style.height=`${windowSize.h}px`):(canvasBox.classList.remove("hidden"),canvasWindow2.classList.add("hidden"),boxContent.appendChild(sketchCanvas2),sketchCanvas2.style.width="100%",sketchCanvas2.style.height="100%"),setTimeout(()=>dispatchCanvasResize(sketchCanvas2),0)}function dispatchCanvasResize(canvas){if(isWindowMode){const rect=canvas.parentElement.getBoundingClientRect(),style=window.getComputedStyle(canvas.parentElement),paddingTop=parseInt(style.getPropertyValue("padding-top")),paddingRight=parseInt(style.getPropertyValue("padding-right")),paddingBottom=parseInt(style.getPropertyValue("padding-bottom")),paddingLeft=parseInt(style.getPropertyValue("padding-left"));canvas.style.width=`${rect.width-paddingLeft-paddingRight}px`,canvas.style.height=`${rect.height-paddingTop-paddingBottom}px`}canvas.dispatchEvent(new Event("resize")),console.log(`Canvas resized to ${canvas.width}x${canvas.height}`),manager.resize()}function makeDraggable(windowEl,titleBar){let offsetX,offsetY;const move=e2=>{e2.preventDefault(),windowPos.x=e2.clientX-offsetX,windowPos.y=e2.clientY-offsetY,windowEl.style.left=`${windowPos.x}px`,windowEl.style.top=`${windowPos.y}px`},stopMove=()=>{document.body.classList.remove("dragging"),document.removeEventListener("pointermove",move),document.removeEventListener("pointerup",stopMove)};titleBar.addEventListener("pointerdown",e2=>{e2.preventDefault(),offsetX=e2.clientX-windowEl.offsetLeft,offsetY=e2.clientY-windowEl.offsetTop,document.body.classList.add("dragging"),document.addEventListener("pointermove",move),document.addEventListener("pointerup",stopMove)})}function makeResizable(windowEl,resizeHandle){let startX,startY,startWidth,startHeight;const resize=e2=>{e2.preventDefault(),windowSize.w=startWidth+e2.clientX-startX,windowSize.h=startHeight+e2.clientY-startY,windowEl.style.width=`${windowSize.w}px`,windowEl.style.height=`${windowSize.h}px`},stopResize=()=>{document.body.classList.remove("dragging"),document.removeEventListener("pointermove",resize),document.removeEventListener("pointerup",stopResize),dispatchCanvasResize(windowEl.querySelector("canvas"))};resizeHandle.addEventListener("pointerdown",e2=>{e2.preventDefault(),startX=e2.clientX,startY=e2.clientY,startWidth=parseInt(document.defaultView.getComputedStyle(windowEl).width,10),startHeight=parseInt(document.defaultView.getComputedStyle(windowEl).height,10),document.body.classList.add("dragging"),document.addEventListener("pointermove",resize),document.addEventListener("pointerup",stopResize)})}function clearConsole(){const consoleOutput=document.getElementById("console-output");consoleOutput&&(consoleOutput.innerHTML="")}function logToConsole(...args){const consoleOutput=document.getElementById("console-output");if(!consoleOutput)return;const message=args.map(arg=>{if(typeof arg=="object"&&arg!==null)try{return JSON.stringify(arg,null,0)}catch{return"[Unserializable Object]"}return String(arg)}).join(" "),entry=document.createElement("div");entry.textContent=message,consoleOutput.appendChild(entry),consoleOutput.scrollTop=consoleOutput.scrollHeight}codeEditor.addEventListener("input",()=>{const activeTab=getActiveTab();activeTab&&(activeTab.code=codeEditor.value,applySyntaxHighlighting(activeTab.code))});codeEditor.addEventListener("scroll",()=>{highlighting.scrollTop=codeEditor.scrollTop,highlighting.scrollLeft=codeEditor.scrollLeft});tabsContainer.addEventListener("pointerdown",e2=>{const tabEl=e2.target.closest(".tab");if(tabEl&&switchTab(Number(tabEl.dataset.tabId)),e2.target.closest(".close-tab")){const tabToClose=e2.target.closest(".tab");closeTab(Number(tabToClose.dataset.tabId))}});addTabButton.addEventListener("pointerdown",()=>addTab());sampleSelect.addEventListener("change",()=>{const selectedKey=sampleSelect.value,sample=samples[selectedKey];clearTab();const activeTab=getActiveTab();sample&&activeTab&&(activeTab.code=sample.code,activeTab.name=sample.name,updateEditorContent(activeTab.code),renderTabs())});runButton.addEventListener("pointerdown",()=>{isRunning||!getActiveTab()||(console.log(""),isRunning=!0,updateControlState(),manager.runSketch(manager.loadSketchString(tabs.map(t2=>t2.code).join(`
`),tabs[0].name,void 0)))});stopButton.addEventListener("pointerdown",()=>{if(!isRunning)return;console.log(""),isRunning=!1,updateControlState(),manager.stopSketch(),sketchCanvas.getContext("2d")?.clearRect(0,0,sketchCanvas.width,sketchCanvas.height)});clearConsoleButton.addEventListener("pointerdown",clearConsole);showUploadUiButton.addEventListener("pointerdown",()=>{showUploadUiButton.classList.add("hidden"),uploadUi.classList.remove("hidden")});fileInput.addEventListener("change",handleFileSelect);mainSketchSelect.addEventListener("change",()=>{mainSketchSelect.selectedIndex>0?uploadButton.disabled=!1:uploadButton.disabled=!0});uploadButton.addEventListener("pointerdown",()=>{if(uploadedFiles.length>0){clearTab();let main_file;uploadedFiles=uploadedFiles.filter(f2=>f2.name===mainSketchSelect.value?(main_file=f2,!1):!0),uploadedFiles.unshift(main_file),uploadedFiles.forEach(file=>{addTab(file.name.replace(".pde",""),file.content)}),closeTab(tabs[0].id),resetUploadUI()}});windowModeButton.addEventListener("click",()=>setWindowMode(!0));boxModeButton.addEventListener("click",()=>setWindowMode(!1));document.addEventListener("pointerdown",event=>{!uploadUi.classList.contains("hidden")&&!uploadBox.contains(event.target)&&resetUploadUI()});manager.addEventListener("log",args=>{logToConsole(args)});makeDraggable(canvasWindow,windowTitleBar);makeResizable(canvasWindow,windowResizeHandle);initializeSampleSelector();addTab("",samples.circle.code);updateControlState();setWindowMode(!1);export{deprecation as $,AbstractRenderer as A,BufferUsage as B,Container as C,DOMAdapter as D,ExtensionType as E,TexturePool as F,GpuProgram as G,FilterEffect as H,Sprite as I,getAttributeInfoFromFormat as J,unsafeEvalSupported as K,uid as L,Matrix as M,Rectangle as N,SystemRunner as O,Point as P,multiplyColors as Q,RendererType as R,STENCIL_MODES as S,Ticker as T,UPDATE_PRIORITY as U,UPDATE_VISIBLE as V,UPDATE_COLOR as W,UPDATE_BLEND as X,Color as Y,getLocalBounds as Z,VERSION as _,EventEmitter as a,v8_0_0 as a0,RendererInitHook as a1,Geometry as a2,checkMaxIfStatementsInShader as a3,compileHighShaderGlProgram as a4,colorBitGl as a5,generateTextureBatchBitGl as a6,roundPixelsBitGl as a7,getBatchSamplersUniformGroup as a8,fontStringFromTextStyle as a9,TextureStyle as aa,CanvasTextMetrics as ab,ImageSource as ac,getCanvasFillStyle as ad,TextStyle as ae,Cache as af,BatchableGraphics as ag,getAdjustedBlendModeBlend as ah,ViewableBuffer as ai,Graphics as aj,updateQuadBounds as ak,CanvasTextGenerator as al,GraphicsContextSystem as am,Buffer as b,BindGroup as c,createIdFromString as d,extensions as e,fastCopy as f,getTextureBatchBindGroup as g,CLEAR as h,CanvasSource as i,TextureSource as j,UniformGroup as k,CanvasPool as l,compileHighShaderGpuProgram as m,colorBit as n,generateTextureBatchBit as o,roundPixelsBit as p,Shader as q,removeItems as r,Texture as s,GlProgram as t,TextureMatrix as u,DefaultBatcher as v,warn as w,BigPool as x,getGlobalBounds as y,Bounds as z};
