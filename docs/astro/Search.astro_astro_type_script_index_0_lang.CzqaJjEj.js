const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["astro/ui-core.BPQDM9aU.js","astro/preload-helper.oD9tGONt.js"])))=>i.map(i=>d[i]);
import{_ as __vitePreload}from"./preload-helper.oD9tGONt.js";const pagefindUserConfig={ranking:{pageLength:.1,termFrequency:.1,termSaturation:2,termSimilarity:9}};class SiteSearch extends HTMLElement{constructor(){super();const openBtn=this.querySelector("button[data-open-modal]"),closeBtn=this.querySelector("button[data-close-modal]"),dialog=this.querySelector("dialog"),dialogFrame=this.querySelector(".dialog-frame"),onClick=event=>{("href"in(event.target||{})||document.body.contains(event.target)&&!dialogFrame.contains(event.target))&&closeModal()},openModal=event=>{dialog.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),event?.stopPropagation(),window.addEventListener("click",onClick)},closeModal=()=>dialog.close();openBtn.addEventListener("click",openModal),openBtn.disabled=!1,closeBtn.addEventListener("click",closeModal),dialog.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",onClick)}),window.addEventListener("keydown",e=>{(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"&&(dialog.open?closeModal():openModal(),e.preventDefault())});let translations={};try{translations=JSON.parse(this.dataset.translations||"{}")}catch{}const formatURL=this.dataset.stripTrailingSlash!==void 0?path=>path.replace(/(.)\/(#.*)?$/,"$1$2"):path=>path;window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(cb=>setTimeout(cb,1)))(async()=>{const{PagefindUI}=await __vitePreload(async()=>{const{PagefindUI:PagefindUI2}=await import("./ui-core.BPQDM9aU.js");return{PagefindUI:PagefindUI2}},__vite__mapDeps([0,1]));new PagefindUI({...pagefindUserConfig,element:"#starlight__search",baseUrl:"/processing-ts-docs/",bundlePath:"/processing-ts-docs/".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations,showSubResults:!0,processResult:result=>{result.url=formatURL(result.url),result.sub_results=result.sub_results.map(sub_result=>(sub_result.url=formatURL(sub_result.url),sub_result))}})})})}}customElements.define("site-search",SiteSearch);
